(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();function Yp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var id={exports:{}},ol={};var xx;function a2(){if(xx)return ol;xx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,o){var c=null;if(o!==void 0&&(c=""+o),l.key!==void 0&&(c=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:t,type:s,key:c,ref:l!==void 0?l:null,props:o}}return ol.Fragment=e,ol.jsx=i,ol.jsxs=i,ol}var _x;function l2(){return _x||(_x=1,id.exports=a2()),id.exports}var _=l2(),sd={exports:{}},Ee={};var bx;function o2(){if(bx)return Ee;bx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,k={};function R(A,H,E){this.props=A,this.context=H,this.refs=k,this.updater=E||C}R.prototype.isReactComponent={},R.prototype.setState=function(A,H){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,H,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function V(){}V.prototype=R.prototype;function O(A,H,E){this.props=A,this.context=H,this.refs=k,this.updater=E||C}var $=O.prototype=new V;$.constructor=O,M($,R.prototype),$.isPureReactComponent=!0;var Q=Array.isArray;function z(){}var X={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function fe(A,H,E){var oe=E.ref;return{$$typeof:t,type:A,key:H,ref:oe!==void 0?oe:null,props:E}}function he(A,H){return fe(A.type,H,A.props)}function ae(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function le(A){var H={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(E){return H[E]})}var Ce=/\/+/g;function se(A,H){return typeof A=="object"&&A!==null&&A.key!=null?le(""+A.key):H.toString(36)}function W(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(z,z):(A.status="pending",A.then(function(H){A.status==="pending"&&(A.status="fulfilled",A.value=H)},function(H){A.status==="pending"&&(A.status="rejected",A.reason=H)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function L(A,H,E,oe,K){var Z=typeof A;(Z==="undefined"||Z==="boolean")&&(A=null);var J=!1;if(A===null)J=!0;else switch(Z){case"bigint":case"string":case"number":J=!0;break;case"object":switch(A.$$typeof){case t:case e:J=!0;break;case g:return J=A._init,L(J(A._payload),H,E,oe,K)}}if(J)return K=K(A),J=oe===""?"."+se(A,0):oe,Q(K)?(E="",J!=null&&(E=J.replace(Ce,"$&/")+"/"),L(K,H,E,"",function(We){return We})):K!=null&&(ae(K)&&(K=he(K,E+(K.key==null||A&&A.key===K.key?"":(""+K.key).replace(Ce,"$&/")+"/")+J)),H.push(K)),1;J=0;var pe=oe===""?".":oe+":";if(Q(A))for(var Se=0;Se<A.length;Se++)oe=A[Se],Z=pe+se(oe,Se),J+=L(oe,H,E,Z,K);else if(Se=b(A),typeof Se=="function")for(A=Se.call(A),Se=0;!(oe=A.next()).done;)oe=oe.value,Z=pe+se(oe,Se++),J+=L(oe,H,E,Z,K);else if(Z==="object"){if(typeof A.then=="function")return L(W(A),H,E,oe,K);throw H=String(A),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return J}function Y(A,H,E){if(A==null)return A;var oe=[],K=0;return L(A,oe,"","",function(Z){return H.call(E,Z,K++)}),oe}function ue(A){if(A._status===-1){var H=A._result;H=H(),H.then(function(E){(A._status===0||A._status===-1)&&(A._status=1,A._result=E)},function(E){(A._status===0||A._status===-1)&&(A._status=2,A._result=E)}),A._status===-1&&(A._status=0,A._result=H)}if(A._status===1)return A._result.default;throw A._result}var ve=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},T={map:Y,forEach:function(A,H,E){Y(A,function(){H.apply(this,arguments)},E)},count:function(A){var H=0;return Y(A,function(){H++}),H},toArray:function(A){return Y(A,function(H){return H})||[]},only:function(A){if(!ae(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return Ee.Activity=y,Ee.Children=T,Ee.Component=R,Ee.Fragment=i,Ee.Profiler=l,Ee.PureComponent=O,Ee.StrictMode=s,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(A){return X.H.useMemoCache(A)}},Ee.cache=function(A){return function(){return A.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(A,H,E){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var oe=M({},A.props),K=A.key;if(H!=null)for(Z in H.key!==void 0&&(K=""+H.key),H)!te.call(H,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&H.ref===void 0||(oe[Z]=H[Z]);var Z=arguments.length-2;if(Z===1)oe.children=E;else if(1<Z){for(var J=Array(Z),pe=0;pe<Z;pe++)J[pe]=arguments[pe+2];oe.children=J}return fe(A.type,K,oe)},Ee.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:o,_context:A},A},Ee.createElement=function(A,H,E){var oe,K={},Z=null;if(H!=null)for(oe in H.key!==void 0&&(Z=""+H.key),H)te.call(H,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(K[oe]=H[oe]);var J=arguments.length-2;if(J===1)K.children=E;else if(1<J){for(var pe=Array(J),Se=0;Se<J;Se++)pe[Se]=arguments[Se+2];K.children=pe}if(A&&A.defaultProps)for(oe in J=A.defaultProps,J)K[oe]===void 0&&(K[oe]=J[oe]);return fe(A,Z,K)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(A){return{$$typeof:f,render:A}},Ee.isValidElement=ae,Ee.lazy=function(A){return{$$typeof:g,_payload:{_status:-1,_result:A},_init:ue}},Ee.memo=function(A,H){return{$$typeof:d,type:A,compare:H===void 0?null:H}},Ee.startTransition=function(A){var H=X.T,E={};X.T=E;try{var oe=A(),K=X.S;K!==null&&K(E,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(z,ve)}catch(Z){ve(Z)}finally{H!==null&&E.types!==null&&(H.types=E.types),X.T=H}},Ee.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ee.use=function(A){return X.H.use(A)},Ee.useActionState=function(A,H,E){return X.H.useActionState(A,H,E)},Ee.useCallback=function(A,H){return X.H.useCallback(A,H)},Ee.useContext=function(A){return X.H.useContext(A)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(A,H){return X.H.useDeferredValue(A,H)},Ee.useEffect=function(A,H){return X.H.useEffect(A,H)},Ee.useEffectEvent=function(A){return X.H.useEffectEvent(A)},Ee.useId=function(){return X.H.useId()},Ee.useImperativeHandle=function(A,H,E){return X.H.useImperativeHandle(A,H,E)},Ee.useInsertionEffect=function(A,H){return X.H.useInsertionEffect(A,H)},Ee.useLayoutEffect=function(A,H){return X.H.useLayoutEffect(A,H)},Ee.useMemo=function(A,H){return X.H.useMemo(A,H)},Ee.useOptimistic=function(A,H){return X.H.useOptimistic(A,H)},Ee.useReducer=function(A,H,E){return X.H.useReducer(A,H,E)},Ee.useRef=function(A){return X.H.useRef(A)},Ee.useState=function(A){return X.H.useState(A)},Ee.useSyncExternalStore=function(A,H,E){return X.H.useSyncExternalStore(A,H,E)},Ee.useTransition=function(){return X.H.useTransition()},Ee.version="19.2.3",Ee}var Sx;function Kp(){return Sx||(Sx=1,sd.exports=o2()),sd.exports}var ee=Kp();const u2=Yp(ee);var rd={exports:{}},ul={},ad={exports:{}},ld={};var Ex;function c2(){return Ex||(Ex=1,(function(t){function e(L,Y){var ue=L.length;L.push(Y);e:for(;0<ue;){var ve=ue-1>>>1,T=L[ve];if(0<l(T,Y))L[ve]=Y,L[ue]=T,ue=ve;else break e}}function i(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var Y=L[0],ue=L.pop();if(ue!==Y){L[0]=ue;e:for(var ve=0,T=L.length,A=T>>>1;ve<A;){var H=2*(ve+1)-1,E=L[H],oe=H+1,K=L[oe];if(0>l(E,ue))oe<T&&0>l(K,E)?(L[ve]=K,L[oe]=ue,ve=oe):(L[ve]=E,L[H]=ue,ve=H);else if(oe<T&&0>l(K,ue))L[ve]=K,L[oe]=ue,ve=oe;else break e}}return Y}function l(L,Y){var ue=L.sortIndex-Y.sortIndex;return ue!==0?ue:L.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var p=[],d=[],g=1,y=null,v=3,b=!1,C=!1,M=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function $(L){for(var Y=i(d);Y!==null;){if(Y.callback===null)s(d);else if(Y.startTime<=L)s(d),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=i(d)}}function Q(L){if(M=!1,$(L),!C)if(i(p)!==null)C=!0,z||(z=!0,le());else{var Y=i(d);Y!==null&&W(Q,Y.startTime-L)}}var z=!1,X=-1,te=5,fe=-1;function he(){return k?!0:!(t.unstable_now()-fe<te)}function ae(){if(k=!1,z){var L=t.unstable_now();fe=L;var Y=!0;try{e:{C=!1,M&&(M=!1,V(X),X=-1),b=!0;var ue=v;try{t:{for($(L),y=i(p);y!==null&&!(y.expirationTime>L&&he());){var ve=y.callback;if(typeof ve=="function"){y.callback=null,v=y.priorityLevel;var T=ve(y.expirationTime<=L);if(L=t.unstable_now(),typeof T=="function"){y.callback=T,$(L),Y=!0;break t}y===i(p)&&s(p),$(L)}else s(p);y=i(p)}if(y!==null)Y=!0;else{var A=i(d);A!==null&&W(Q,A.startTime-L),Y=!1}}break e}finally{y=null,v=ue,b=!1}Y=void 0}}finally{Y?le():z=!1}}}var le;if(typeof O=="function")le=function(){O(ae)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,se=Ce.port2;Ce.port1.onmessage=ae,le=function(){se.postMessage(null)}}else le=function(){R(ae,0)};function W(L,Y){X=R(function(){L(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ue=v;v=Y;try{return L()}finally{v=ue}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ue=v;v=L;try{return Y()}finally{v=ue}},t.unstable_scheduleCallback=function(L,Y,ue){var ve=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ve+ue:ve):ue=ve,L){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ue+T,L={id:g++,callback:Y,priorityLevel:L,startTime:ue,expirationTime:T,sortIndex:-1},ue>ve?(L.sortIndex=ue,e(d,L),i(p)===null&&L===i(d)&&(M?(V(X),X=-1):M=!0,W(Q,ue-ve))):(L.sortIndex=T,e(p,L),C||b||(C=!0,z||(z=!0,le()))),L},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(L){var Y=v;return function(){var ue=v;v=Y;try{return L.apply(this,arguments)}finally{v=ue}}}})(ld)),ld}var Cx;function f2(){return Cx||(Cx=1,ad.exports=c2()),ad.exports}var od={exports:{}},Bt={};var Tx;function h2(){if(Tx)return Bt;Tx=1;var t=Kp();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(p,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:p,containerInfo:d,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Bt.createPortal=function(p,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(p,d,null,g)},Bt.flushSync=function(p){var d=c.T,g=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=d,s.p=g,s.d.f()}},Bt.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(p,d))},Bt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Bt.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?s.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:b}):g==="script"&&s.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Bt.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);s.d.M(p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(p)},Bt.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=f(g,d.crossOrigin);s.d.L(p,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Bt.preloadModule=function(p,d){if(typeof p=="string")if(d){var g=f(d.as,d.crossOrigin);s.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(p)},Bt.requestFormReset=function(p){s.d.r(p)},Bt.unstable_batchedUpdates=function(p,d){return p(d)},Bt.useFormState=function(p,d,g){return c.H.useFormState(p,d,g)},Bt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Bt.version="19.2.3",Bt}var wx;function d2(){if(wx)return od.exports;wx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),od.exports=h2(),od.exports}var Ax;function p2(){if(Ax)return ul;Ax=1;var t=f2(),e=Kp(),i=d2();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function p(n){if(o(n)!==n)throw Error(s(188))}function d(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,u=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return p(h),n;if(m===u)return p(h),r;m=m.sibling}throw Error(s(188))}if(a.return!==u.return)a=h,u=m;else{for(var x=!1,S=h.child;S;){if(S===a){x=!0,a=h,u=m;break}if(S===u){x=!0,u=h,a=m;break}S=S.sibling}if(!x){for(S=m.child;S;){if(S===a){x=!0,a=m,u=h;break}if(S===u){x=!0,u=m,a=h;break}S=S.sibling}if(!x)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),O=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var Ce=Symbol.for("react.client.reference");function se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Ce?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case Q:return"Suspense";case z:return"SuspenseList";case fe:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case O:return n.displayName||"Context";case V:return(n._context.displayName||"Context")+".Consumer";case $:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return r=n.displayName||null,r!==null?r:se(n.type)||"Memo";case te:r=n._payload,n=n._init;try{return se(n(r))}catch{}}return null}var W=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ve=[],T=-1;function A(n){return{current:n}}function H(n){0>T||(n.current=ve[T],ve[T]=null,T--)}function E(n,r){T++,ve[T]=n.current,n.current=r}var oe=A(null),K=A(null),Z=A(null),J=A(null);function pe(n,r){switch(E(Z,r),E(K,n),E(oe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=H0(r),n=F0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}H(oe),E(oe,n)}function Se(){H(oe),H(K),H(Z)}function We(n){n.memoizedState!==null&&E(J,n);var r=oe.current,a=F0(r,n.type);r!==a&&(E(K,n),E(oe,a))}function at(n){K.current===n&&(H(oe),H(K)),J.current===n&&(H(J),sl._currentValue=ue)}var ei,mo;function ti(n){if(ei===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ei=r&&r[1]||"",mo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ei+n+mo}var $s=!1;function Zs(n,r){if(!n||$s)return"";$s=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var B=U}Reflect.construct(n,[],q)}else{try{q.call()}catch(U){B=U}n.call(q.prototype)}}else{try{throw Error()}catch(U){B=U}(q=n())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&B&&typeof U.stack=="string")return[U.stack,B.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),x=m[0],S=m[1];if(x&&S){var w=x.split(`
`),j=S.split(`
`);for(h=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(u===w.length||h===j.length)for(u=w.length-1,h=j.length-1;1<=u&&0<=h&&w[u]!==j[h];)h--;for(;1<=u&&0<=h;u--,h--)if(w[u]!==j[h]){if(u!==1||h!==1)do if(u--,h--,0>h||w[u]!==j[h]){var P=`
`+w[u].replace(" at new "," at ");return n.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",n.displayName)),P}while(1<=u&&0<=h);break}}}finally{$s=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ti(a):""}function go(n,r){switch(n.tag){case 26:case 27:case 5:return ti(n.type);case 16:return ti("Lazy");case 13:return n.child!==r&&r!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return Zs(n.type,!1);case 11:return Zs(n.type.render,!1);case 1:return Zs(n.type,!0);case 31:return ti("Activity");default:return""}}function yo(n){try{var r="",a=null;do r+=go(n,a),a=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ws=Object.prototype.hasOwnProperty,Js=t.unstable_scheduleCallback,ga=t.unstable_cancelCallback,Pc=t.unstable_shouldYield,Hc=t.unstable_requestPaint,Ft=t.unstable_now,Fc=t.unstable_getCurrentPriorityLevel,F=t.unstable_ImmediatePriority,re=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,De=t.unstable_LowPriority,Fe=t.unstable_IdlePriority,cn=t.log,ni=t.unstable_setDisableYieldValue,Gt=null,St=null;function Xt(n){if(typeof cn=="function"&&ni(n),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(Gt,n)}catch{}}var Qe=Math.clz32?Math.clz32:YT,Ri=Math.log,In=Math.LN2;function YT(n){return n>>>=0,n===0?32:31-(Ri(n)/In|0)|0}var vo=256,xo=262144,_o=4194304;function ms(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function bo(n,r,a){var u=n.pendingLanes;if(u===0)return 0;var h=0,m=n.suspendedLanes,x=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?h=ms(u):(x&=S,x!==0?h=ms(x):a||(a=S&~n,a!==0&&(h=ms(a))))):(S=u&~m,S!==0?h=ms(S):x!==0?h=ms(x):a||(a=u&~n,a!==0&&(h=ms(a)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:h}function ya(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function KT(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eg(){var n=_o;return _o<<=1,(_o&62914560)===0&&(_o=4194304),n}function Gc(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function va(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function XT(n,r,a,u,h,m){var x=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var S=n.entanglements,w=n.expirationTimes,j=n.hiddenUpdates;for(a=x&~a;0<a;){var P=31-Qe(a),q=1<<P;S[P]=0,w[P]=-1;var B=j[P];if(B!==null)for(j[P]=null,P=0;P<B.length;P++){var U=B[P];U!==null&&(U.lane&=-536870913)}a&=~q}u!==0&&Cg(n,u,0),m!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=m&~(x&~r))}function Cg(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Qe(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Tg(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var u=31-Qe(a),h=1<<u;h&r|n[u]&r&&(n[u]|=r),a&=~h}}function wg(n,r){var a=r&-r;return a=(a&42)!==0?1:qc(a),(a&(n.suspendedLanes|r))!==0?0:a}function qc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Yc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ag(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:hx(n.type))}function Ng(n,r){var a=Y.p;try{return Y.p=n,r()}finally{Y.p=a}}var Mi=Math.random().toString(36).slice(2),kt="__reactFiber$"+Mi,Qt="__reactProps$"+Mi,er="__reactContainer$"+Mi,Kc="__reactEvents$"+Mi,QT="__reactListeners$"+Mi,$T="__reactHandles$"+Mi,Rg="__reactResources$"+Mi,xa="__reactMarker$"+Mi;function Xc(n){delete n[kt],delete n[Qt],delete n[Kc],delete n[QT],delete n[$T]}function tr(n){var r=n[kt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[er]||a[kt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=$0(n);n!==null;){if(a=n[kt])return a;n=$0(n)}return r}n=a,a=n.parentNode}return null}function nr(n){if(n=n[kt]||n[er]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function _a(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function ir(n){var r=n[Rg];return r||(r=n[Rg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(n){n[xa]=!0}var Mg=new Set,Dg={};function gs(n,r){sr(n,r),sr(n+"Capture",r)}function sr(n,r){for(Dg[n]=r,n=0;n<r.length;n++)Mg.add(r[n])}var ZT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kg={},Og={};function WT(n){return Ws.call(Og,n)?!0:Ws.call(kg,n)?!1:ZT.test(n)?Og[n]=!0:(kg[n]=!0,!1)}function So(n,r,a){if(WT(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Eo(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function ii(n,r,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+u)}}function _n(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ig(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function JT(n,r,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(x){a=""+x,m.call(this,x)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Qc(n){if(!n._valueTracker){var r=Ig(n)?"checked":"value";n._valueTracker=JT(n,r,""+n[r])}}function jg(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),u="";return n&&(u=Ig(n)?n.checked?"true":"false":n.value),n=u,n!==a?(r.setValue(n),!0):!1}function Co(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ew=/[\n"\\]/g;function bn(n){return n.replace(ew,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $c(n,r,a,u,h,m,x,S){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),r!=null?x==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+_n(r)):n.value!==""+_n(r)&&(n.value=""+_n(r)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),r!=null?Zc(n,x,_n(r)):a!=null?Zc(n,x,_n(a)):u!=null&&n.removeAttribute("value"),h==null&&m!=null&&(n.defaultChecked=!!m),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+_n(S):n.removeAttribute("name")}function Lg(n,r,a,u,h,m,x,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Qc(n);return}a=a!=null?""+_n(a):"",r=r!=null?""+_n(r):a,S||r===n.value||(n.value=r),n.defaultValue=r}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x),Qc(n)}function Zc(n,r,a){r==="number"&&Co(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function rr(n,r,a,u){if(n=n.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<n.length;a++)h=r.hasOwnProperty("$"+n[a].value),n[a].selected!==h&&(n[a].selected=h),h&&u&&(n[a].defaultSelected=!0)}else{for(a=""+_n(a),r=null,h=0;h<n.length;h++){if(n[h].value===a){n[h].selected=!0,u&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function zg(n,r,a){if(r!=null&&(r=""+_n(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+_n(a):""}function Bg(n,r,a,u){if(r==null){if(u!=null){if(a!=null)throw Error(s(92));if(W(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),r=a}a=_n(r),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),Qc(n)}function ar(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var tw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(n,r,a){var u=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,a):typeof a!="number"||a===0||tw.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Vg(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var h in r)u=r[h],r.hasOwnProperty(h)&&a[h]!==u&&Ug(n,h,u)}else for(var m in r)r.hasOwnProperty(m)&&Ug(n,m,r[m])}function Wc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(n){return iw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function si(){}var Jc=null;function ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var lr=null,or=null;function Pg(n){var r=nr(n);if(r&&(n=r.stateNode)){var a=n[Qt]||null;e:switch(n=r.stateNode,r.type){case"input":if($c(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var u=a[r];if(u!==n&&u.form===n.form){var h=u[Qt]||null;if(!h)throw Error(s(90));$c(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)u=a[r],u.form===n.form&&jg(u)}break e;case"textarea":zg(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&rr(n,!!a.multiple,r,!1)}}}var tf=!1;function Hg(n,r,a){if(tf)return n(r,a);tf=!0;try{var u=n(r);return u}finally{if(tf=!1,(lr!==null||or!==null)&&(hu(),lr&&(r=lr,n=or,or=lr=null,Pg(r),n)))for(r=0;r<n.length;r++)Pg(n[r])}}function ba(n,r){var a=n.stateNode;if(a===null)return null;var u=a[Qt]||null;if(u===null)return null;a=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nf=!1;if(ri)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){nf=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{nf=!1}var Di=null,sf=null,wo=null;function Fg(){if(wo)return wo;var n,r=sf,a=r.length,u,h="value"in Di?Di.value:Di.textContent,m=h.length;for(n=0;n<a&&r[n]===h[n];n++);var x=a-n;for(u=1;u<=x&&r[a-u]===h[m-u];u++);return wo=h.slice(n,1<u?1-u:void 0)}function Ao(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function No(){return!0}function Gg(){return!1}function $t(n){function r(a,u,h,m,x){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(a=n[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?No:Gg,this.isPropagationStopped=Gg,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),r}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ro=$t(ys),Ea=y({},ys,{view:0,detail:0}),sw=$t(Ea),rf,af,Ca,Mo=y({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:of,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ca&&(Ca&&n.type==="mousemove"?(rf=n.screenX-Ca.screenX,af=n.screenY-Ca.screenY):af=rf=0,Ca=n),rf)},movementY:function(n){return"movementY"in n?n.movementY:af}}),qg=$t(Mo),rw=y({},Mo,{dataTransfer:0}),aw=$t(rw),lw=y({},Ea,{relatedTarget:0}),lf=$t(lw),ow=y({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=$t(ow),cw=y({},ys,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),fw=$t(cw),hw=y({},ys,{data:0}),Yg=$t(hw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gw(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=mw[n])?!!r[n]:!1}function of(){return gw}var yw=y({},Ea,{key:function(n){if(n.key){var r=dw[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ao(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?pw[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:of,charCode:function(n){return n.type==="keypress"?Ao(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ao(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vw=$t(yw),xw=y({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kg=$t(xw),_w=y({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:of}),bw=$t(_w),Sw=y({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ew=$t(Sw),Cw=y({},Mo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Tw=$t(Cw),ww=y({},ys,{newState:0,oldState:0}),Aw=$t(ww),Nw=[9,13,27,32],uf=ri&&"CompositionEvent"in window,Ta=null;ri&&"documentMode"in document&&(Ta=document.documentMode);var Rw=ri&&"TextEvent"in window&&!Ta,Xg=ri&&(!uf||Ta&&8<Ta&&11>=Ta),Qg=" ",$g=!1;function Zg(n,r){switch(n){case"keyup":return Nw.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ur=!1;function Mw(n,r){switch(n){case"compositionend":return Wg(r);case"keypress":return r.which!==32?null:($g=!0,Qg);case"textInput":return n=r.data,n===Qg&&$g?null:n;default:return null}}function Dw(n,r){if(ur)return n==="compositionend"||!uf&&Zg(n,r)?(n=Fg(),wo=sf=Di=null,ur=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xg&&r.locale!=="ko"?null:r.data;default:return null}}var kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!kw[n.type]:r==="textarea"}function ey(n,r,a,u){lr?or?or.push(u):or=[u]:lr=u,r=xu(r,"onChange"),0<r.length&&(a=new Ro("onChange","change",null,a,u),n.push({event:a,listeners:r}))}var wa=null,Aa=null;function Ow(n){L0(n,0)}function Do(n){var r=_a(n);if(jg(r))return n}function ty(n,r){if(n==="change")return r}var ny=!1;if(ri){var cf;if(ri){var ff="oninput"in document;if(!ff){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),ff=typeof iy.oninput=="function"}cf=ff}else cf=!1;ny=cf&&(!document.documentMode||9<document.documentMode)}function sy(){wa&&(wa.detachEvent("onpropertychange",ry),Aa=wa=null)}function ry(n){if(n.propertyName==="value"&&Do(Aa)){var r=[];ey(r,Aa,n,ef(n)),Hg(Ow,r)}}function Iw(n,r,a){n==="focusin"?(sy(),wa=r,Aa=a,wa.attachEvent("onpropertychange",ry)):n==="focusout"&&sy()}function jw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Do(Aa)}function Lw(n,r){if(n==="click")return Do(r)}function zw(n,r){if(n==="input"||n==="change")return Do(r)}function Bw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var fn=typeof Object.is=="function"?Object.is:Bw;function Na(n,r){if(fn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),u=Object.keys(r);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!Ws.call(r,h)||!fn(n[h],r[h]))return!1}return!0}function ay(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,r){var a=ay(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=r&&u>=r)return{node:a,offset:r-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ay(a)}}function oy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?oy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function uy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Co(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Co(n.document)}return r}function hf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Uw=ri&&"documentMode"in document&&11>=document.documentMode,cr=null,df=null,Ra=null,pf=!1;function cy(n,r,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||cr==null||cr!==Co(u)||(u=cr,"selectionStart"in u&&hf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ra&&Na(Ra,u)||(Ra=u,u=xu(df,"onSelect"),0<u.length&&(r=new Ro("onSelect","select",null,r,a),n.push({event:r,listeners:u}),r.target=cr)))}function vs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var fr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},mf={},fy={};ri&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function xs(n){if(mf[n])return mf[n];if(!fr[n])return n;var r=fr[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in fy)return mf[n]=r[a];return n}var hy=xs("animationend"),dy=xs("animationiteration"),py=xs("animationstart"),Vw=xs("transitionrun"),Pw=xs("transitionstart"),Hw=xs("transitioncancel"),my=xs("transitionend"),gy=new Map,gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gf.push("scrollEnd");function jn(n,r){gy.set(n,r),gs(r,[n])}var ko=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Sn=[],hr=0,yf=0;function Oo(){for(var n=hr,r=yf=hr=0;r<n;){var a=Sn[r];Sn[r++]=null;var u=Sn[r];Sn[r++]=null;var h=Sn[r];Sn[r++]=null;var m=Sn[r];if(Sn[r++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}m!==0&&yy(a,h,m)}}function Io(n,r,a,u){Sn[hr++]=n,Sn[hr++]=r,Sn[hr++]=a,Sn[hr++]=u,yf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function vf(n,r,a,u){return Io(n,r,a,u),jo(n)}function _s(n,r){return Io(n,null,null,r),jo(n)}function yy(n,r,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var h=!1,m=n.return;m!==null;)m.childLanes|=a,u=m.alternate,u!==null&&(u.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(h=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,h&&r!==null&&(h=31-Qe(a),n=m.hiddenUpdates,u=n[h],u===null?n[h]=[r]:u.push(r),r.lane=a|536870912),m):null}function jo(n){if(50<Za)throw Za=0,Ah=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var dr={};function Fw(n,r,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(n,r,a,u){return new Fw(n,r,a,u)}function xf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ai(n,r){var a=n.alternate;return a===null?(a=hn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function vy(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Lo(n,r,a,u,h,m){var x=0;if(u=n,typeof n=="function")xf(n)&&(x=1);else if(typeof n=="string")x=XA(n,a,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case fe:return n=hn(31,a,r,h),n.elementType=fe,n.lanes=m,n;case M:return bs(a.children,h,m,r);case k:x=8,h|=24;break;case R:return n=hn(12,a,r,h|2),n.elementType=R,n.lanes=m,n;case Q:return n=hn(13,a,r,h),n.elementType=Q,n.lanes=m,n;case z:return n=hn(19,a,r,h),n.elementType=z,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:x=10;break e;case V:x=9;break e;case $:x=11;break e;case X:x=14;break e;case te:x=16,u=null;break e}x=29,a=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=hn(x,a,r,h),r.elementType=n,r.type=u,r.lanes=m,r}function bs(n,r,a,u){return n=hn(7,n,u,r),n.lanes=a,n}function _f(n,r,a){return n=hn(6,n,null,r),n.lanes=a,n}function xy(n){var r=hn(18,null,null,0);return r.stateNode=n,r}function bf(n,r,a){return r=hn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var _y=new WeakMap;function En(n,r){if(typeof n=="object"&&n!==null){var a=_y.get(n);return a!==void 0?a:(r={value:n,source:r,stack:yo(r)},_y.set(n,r),r)}return{value:n,source:r,stack:yo(r)}}var pr=[],mr=0,zo=null,Ma=0,Cn=[],Tn=0,ki=null,Gn=1,qn="";function li(n,r){pr[mr++]=Ma,pr[mr++]=zo,zo=n,Ma=r}function by(n,r,a){Cn[Tn++]=Gn,Cn[Tn++]=qn,Cn[Tn++]=ki,ki=n;var u=Gn;n=qn;var h=32-Qe(u)-1;u&=~(1<<h),a+=1;var m=32-Qe(r)+h;if(30<m){var x=h-h%5;m=(u&(1<<x)-1).toString(32),u>>=x,h-=x,Gn=1<<32-Qe(r)+h|a<<h|u,qn=m+n}else Gn=1<<m|a<<h|u,qn=n}function Sf(n){n.return!==null&&(li(n,1),by(n,1,0))}function Ef(n){for(;n===zo;)zo=pr[--mr],pr[mr]=null,Ma=pr[--mr],pr[mr]=null;for(;n===ki;)ki=Cn[--Tn],Cn[Tn]=null,qn=Cn[--Tn],Cn[Tn]=null,Gn=Cn[--Tn],Cn[Tn]=null}function Sy(n,r){Cn[Tn++]=Gn,Cn[Tn++]=qn,Cn[Tn++]=ki,Gn=r.id,qn=r.overflow,ki=n}var Ot=null,it=null,ze=!1,Oi=null,wn=!1,Cf=Error(s(519));function Ii(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Da(En(r,n)),Cf}function Ey(n){var r=n.stateNode,a=n.type,u=n.memoizedProps;switch(r[kt]=n,r[Qt]=u,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Ja.length;a++)Oe(Ja[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Lg(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),Bg(r,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||u.suppressHydrationWarning===!0||V0(r.textContent,a)?(u.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),u.onScroll!=null&&Oe("scroll",r),u.onScrollEnd!=null&&Oe("scrollend",r),u.onClick!=null&&(r.onclick=si),r=!0):r=!1,r||Ii(n,!0)}function Cy(n){for(Ot=n.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:wn=!1;return;case 27:case 3:wn=!0;return;default:Ot=Ot.return}}function gr(n){if(n!==Ot)return!1;if(!ze)return Cy(n),ze=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Hh(n.type,n.memoizedProps)),a=!a),a&&it&&Ii(n),Cy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));it=Q0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));it=Q0(n)}else r===27?(r=it,Xi(n.type)?(n=Kh,Kh=null,it=n):it=r):it=Ot?Nn(n.stateNode.nextSibling):null;return!0}function Ss(){it=Ot=null,ze=!1}function Tf(){var n=Oi;return n!==null&&(en===null?en=n:en.push.apply(en,n),Oi=null),n}function Da(n){Oi===null?Oi=[n]:Oi.push(n)}var wf=A(null),Es=null,oi=null;function ji(n,r,a){E(wf,r._currentValue),r._currentValue=a}function ui(n){n._currentValue=wf.current,H(wf)}function Af(n,r,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===a)break;n=n.return}}function Nf(n,r,a,u){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var m=h.dependencies;if(m!==null){var x=h.child;m=m.firstContext;e:for(;m!==null;){var S=m;m=h;for(var w=0;w<r.length;w++)if(S.context===r[w]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Af(m.return,a,n),u||(x=null);break e}m=S.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(s(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),Af(x,a,n),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===n){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function yr(n,r,a,u){n=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var S=h.type;fn(h.pendingProps.value,x.value)||(n!==null?n.push(S):n=[S])}}else if(h===J.current){if(x=h.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(sl):n=[sl])}h=h.return}n!==null&&Nf(r,n,a,u),r.flags|=262144}function Bo(n){for(n=n.firstContext;n!==null;){if(!fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Cs(n){Es=n,oi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function It(n){return Ty(Es,n)}function Uo(n,r){return Es===null&&Cs(n),Ty(n,r)}function Ty(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},oi===null){if(n===null)throw Error(s(308));oi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else oi=oi.next=r;return a}var Gw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},qw=t.unstable_scheduleCallback,Yw=t.unstable_NormalPriority,gt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rf(){return{controller:new Gw,data:new Map,refCount:0}}function ka(n){n.refCount--,n.refCount===0&&qw(Yw,function(){n.controller.abort()})}var Oa=null,Mf=0,vr=0,xr=null;function Kw(n,r){if(Oa===null){var a=Oa=[];Mf=0,vr=Oh(),xr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Mf++,r.then(wy,wy),r}function wy(){if(--Mf===0&&Oa!==null){xr!==null&&(xr.status="fulfilled");var n=Oa;Oa=null,vr=0,xr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Xw(n,r){var a=[],u={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(u.status="rejected",u.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),u}var Ay=L.S;L.S=function(n,r){c0=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Kw(n,r),Ay!==null&&Ay(n,r)};var Ts=A(null);function Df(){var n=Ts.current;return n!==null?n:$e.pooledCache}function Vo(n,r){r===null?E(Ts,Ts.current):E(Ts,r.pool)}function Ny(){var n=Df();return n===null?null:{parent:gt._currentValue,pool:n}}var _r=Error(s(460)),kf=Error(s(474)),Po=Error(s(542)),Ho={then:function(){}};function Ry(n){return n=n.status,n==="fulfilled"||n==="rejected"}function My(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(si,si),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ky(n),n;default:if(typeof r.status=="string")r.then(si,si);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=u}},function(u){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ky(n),n}throw As=r,_r}}function ws(n){try{var r=n._init;return r(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(As=a,_r):a}}var As=null;function Dy(){if(As===null)throw Error(s(459));var n=As;return As=null,n}function ky(n){if(n===_r||n===Po)throw Error(s(483))}var br=null,Ia=0;function Fo(n){var r=Ia;return Ia+=1,br===null&&(br=[]),My(br,n,r)}function ja(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Go(n,r){throw r.$$typeof===v?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Oy(n){function r(D,N){if(n){var I=D.deletions;I===null?(D.deletions=[N],D.flags|=16):I.push(N)}}function a(D,N){if(!n)return null;for(;N!==null;)r(D,N),N=N.sibling;return null}function u(D){for(var N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function h(D,N){return D=ai(D,N),D.index=0,D.sibling=null,D}function m(D,N,I){return D.index=I,n?(I=D.alternate,I!==null?(I=I.index,I<N?(D.flags|=67108866,N):I):(D.flags|=67108866,N)):(D.flags|=1048576,N)}function x(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function S(D,N,I,G){return N===null||N.tag!==6?(N=_f(I,D.mode,G),N.return=D,N):(N=h(N,I),N.return=D,N)}function w(D,N,I,G){var me=I.type;return me===M?P(D,N,I.props.children,G,I.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===te&&ws(me)===N.type)?(N=h(N,I.props),ja(N,I),N.return=D,N):(N=Lo(I.type,I.key,I.props,null,D.mode,G),ja(N,I),N.return=D,N)}function j(D,N,I,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==I.containerInfo||N.stateNode.implementation!==I.implementation?(N=bf(I,D.mode,G),N.return=D,N):(N=h(N,I.children||[]),N.return=D,N)}function P(D,N,I,G,me){return N===null||N.tag!==7?(N=bs(I,D.mode,G,me),N.return=D,N):(N=h(N,I),N.return=D,N)}function q(D,N,I){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=_f(""+N,D.mode,I),N.return=D,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return I=Lo(N.type,N.key,N.props,null,D.mode,I),ja(I,N),I.return=D,I;case C:return N=bf(N,D.mode,I),N.return=D,N;case te:return N=ws(N),q(D,N,I)}if(W(N)||le(N))return N=bs(N,D.mode,I,null),N.return=D,N;if(typeof N.then=="function")return q(D,Fo(N),I);if(N.$$typeof===O)return q(D,Uo(D,N),I);Go(D,N)}return null}function B(D,N,I,G){var me=N!==null?N.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return me!==null?null:S(D,N,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return I.key===me?w(D,N,I,G):null;case C:return I.key===me?j(D,N,I,G):null;case te:return I=ws(I),B(D,N,I,G)}if(W(I)||le(I))return me!==null?null:P(D,N,I,G,null);if(typeof I.then=="function")return B(D,N,Fo(I),G);if(I.$$typeof===O)return B(D,N,Uo(D,I),G);Go(D,I)}return null}function U(D,N,I,G,me){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return D=D.get(I)||null,S(N,D,""+G,me);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return D=D.get(G.key===null?I:G.key)||null,w(N,D,G,me);case C:return D=D.get(G.key===null?I:G.key)||null,j(N,D,G,me);case te:return G=ws(G),U(D,N,I,G,me)}if(W(G)||le(G))return D=D.get(I)||null,P(N,D,G,me,null);if(typeof G.then=="function")return U(D,N,I,Fo(G),me);if(G.$$typeof===O)return U(D,N,I,Uo(N,G),me);Go(N,G)}return null}function ce(D,N,I,G){for(var me=null,Be=null,de=N,we=N=0,Le=null;de!==null&&we<I.length;we++){de.index>we?(Le=de,de=null):Le=de.sibling;var Ue=B(D,de,I[we],G);if(Ue===null){de===null&&(de=Le);break}n&&de&&Ue.alternate===null&&r(D,de),N=m(Ue,N,we),Be===null?me=Ue:Be.sibling=Ue,Be=Ue,de=Le}if(we===I.length)return a(D,de),ze&&li(D,we),me;if(de===null){for(;we<I.length;we++)de=q(D,I[we],G),de!==null&&(N=m(de,N,we),Be===null?me=de:Be.sibling=de,Be=de);return ze&&li(D,we),me}for(de=u(de);we<I.length;we++)Le=U(de,D,we,I[we],G),Le!==null&&(n&&Le.alternate!==null&&de.delete(Le.key===null?we:Le.key),N=m(Le,N,we),Be===null?me=Le:Be.sibling=Le,Be=Le);return n&&de.forEach(function(Ji){return r(D,Ji)}),ze&&li(D,we),me}function ge(D,N,I,G){if(I==null)throw Error(s(151));for(var me=null,Be=null,de=N,we=N=0,Le=null,Ue=I.next();de!==null&&!Ue.done;we++,Ue=I.next()){de.index>we?(Le=de,de=null):Le=de.sibling;var Ji=B(D,de,Ue.value,G);if(Ji===null){de===null&&(de=Le);break}n&&de&&Ji.alternate===null&&r(D,de),N=m(Ji,N,we),Be===null?me=Ji:Be.sibling=Ji,Be=Ji,de=Le}if(Ue.done)return a(D,de),ze&&li(D,we),me;if(de===null){for(;!Ue.done;we++,Ue=I.next())Ue=q(D,Ue.value,G),Ue!==null&&(N=m(Ue,N,we),Be===null?me=Ue:Be.sibling=Ue,Be=Ue);return ze&&li(D,we),me}for(de=u(de);!Ue.done;we++,Ue=I.next())Ue=U(de,D,we,Ue.value,G),Ue!==null&&(n&&Ue.alternate!==null&&de.delete(Ue.key===null?we:Ue.key),N=m(Ue,N,we),Be===null?me=Ue:Be.sibling=Ue,Be=Ue);return n&&de.forEach(function(r2){return r(D,r2)}),ze&&li(D,we),me}function Xe(D,N,I,G){if(typeof I=="object"&&I!==null&&I.type===M&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case b:e:{for(var me=I.key;N!==null;){if(N.key===me){if(me=I.type,me===M){if(N.tag===7){a(D,N.sibling),G=h(N,I.props.children),G.return=D,D=G;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===te&&ws(me)===N.type){a(D,N.sibling),G=h(N,I.props),ja(G,I),G.return=D,D=G;break e}a(D,N);break}else r(D,N);N=N.sibling}I.type===M?(G=bs(I.props.children,D.mode,G,I.key),G.return=D,D=G):(G=Lo(I.type,I.key,I.props,null,D.mode,G),ja(G,I),G.return=D,D=G)}return x(D);case C:e:{for(me=I.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===I.containerInfo&&N.stateNode.implementation===I.implementation){a(D,N.sibling),G=h(N,I.children||[]),G.return=D,D=G;break e}else{a(D,N);break}else r(D,N);N=N.sibling}G=bf(I,D.mode,G),G.return=D,D=G}return x(D);case te:return I=ws(I),Xe(D,N,I,G)}if(W(I))return ce(D,N,I,G);if(le(I)){if(me=le(I),typeof me!="function")throw Error(s(150));return I=me.call(I),ge(D,N,I,G)}if(typeof I.then=="function")return Xe(D,N,Fo(I),G);if(I.$$typeof===O)return Xe(D,N,Uo(D,I),G);Go(D,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,N!==null&&N.tag===6?(a(D,N.sibling),G=h(N,I),G.return=D,D=G):(a(D,N),G=_f(I,D.mode,G),G.return=D,D=G),x(D)):a(D,N)}return function(D,N,I,G){try{Ia=0;var me=Xe(D,N,I,G);return br=null,me}catch(de){if(de===_r||de===Po)throw de;var Be=hn(29,de,null,D.mode);return Be.lanes=G,Be.return=D,Be}}}var Ns=Oy(!0),Iy=Oy(!1),Li=!1;function Of(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function zi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Bi(n,r,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Pe&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,r=jo(n),yy(n,null,a),r}return Io(n,u,r,a),jo(n)}function La(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Tg(n,a)}}function jf(n,r){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Lf=!1;function za(){if(Lf){var n=xr;if(n!==null)throw n}}function Ba(n,r,a,u){Lf=!1;var h=n.updateQueue;Li=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var w=S,j=w.next;w.next=null,x===null?m=j:x.next=j,x=w;var P=n.alternate;P!==null&&(P=P.updateQueue,S=P.lastBaseUpdate,S!==x&&(S===null?P.firstBaseUpdate=j:S.next=j,P.lastBaseUpdate=w))}if(m!==null){var q=h.baseState;x=0,P=j=w=null,S=m;do{var B=S.lane&-536870913,U=B!==S.lane;if(U?(je&B)===B:(u&B)===B){B!==0&&B===vr&&(Lf=!0),P!==null&&(P=P.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=n,ge=S;B=r;var Xe=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){q=ce.call(Xe,q,B);break e}q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,B=typeof ce=="function"?ce.call(Xe,q,B):ce,B==null)break e;q=y({},q,B);break e;case 2:Li=!0}}B=S.callback,B!==null&&(n.flags|=64,U&&(n.flags|=8192),U=h.callbacks,U===null?h.callbacks=[B]:U.push(B))}else U={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},P===null?(j=P=U,w=q):P=P.next=U,x|=B;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;U=S,S=U.next,U.next=null,h.lastBaseUpdate=U,h.shared.pending=null}}while(!0);P===null&&(w=q),h.baseState=w,h.firstBaseUpdate=j,h.lastBaseUpdate=P,m===null&&(h.shared.lanes=0),Fi|=x,n.lanes=x,n.memoizedState=q}}function jy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ly(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)jy(a[n],r)}var Sr=A(null),qo=A(0);function zy(n,r){n=vi,E(qo,n),E(Sr,r),vi=n|r.baseLanes}function zf(){E(qo,vi),E(Sr,Sr.current)}function Bf(){vi=qo.current,H(Sr),H(qo)}var dn=A(null),An=null;function Ui(n){var r=n.alternate;E(pt,pt.current&1),E(dn,n),An===null&&(r===null||Sr.current!==null||r.memoizedState!==null)&&(An=n)}function Uf(n){E(pt,pt.current),E(dn,n),An===null&&(An=n)}function By(n){n.tag===22?(E(pt,pt.current),E(dn,n),An===null&&(An=n)):Vi()}function Vi(){E(pt,pt.current),E(dn,dn.current)}function pn(n){H(dn),An===n&&(An=null),H(pt)}var pt=A(0);function Yo(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||qh(a)||Yh(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ci=0,Te=null,Ye=null,yt=null,Ko=!1,Er=!1,Rs=!1,Xo=0,Ua=0,Cr=null,Qw=0;function ct(){throw Error(s(321))}function Vf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!fn(n[a],r[a]))return!1;return!0}function Pf(n,r,a,u,h,m){return ci=m,Te=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,L.H=n===null||n.memoizedState===null?bv:nh,Rs=!1,m=a(u,h),Rs=!1,Er&&(m=Vy(r,a,u,h)),Uy(n),m}function Uy(n){L.H=Ha;var r=Ye!==null&&Ye.next!==null;if(ci=0,yt=Ye=Te=null,Ko=!1,Ua=0,Cr=null,r)throw Error(s(300));n===null||vt||(n=n.dependencies,n!==null&&Bo(n)&&(vt=!0))}function Vy(n,r,a,u){Te=n;var h=0;do{if(Er&&(Cr=null),Ua=0,Er=!1,25<=h)throw Error(s(301));if(h+=1,yt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=Sv,m=r(a,u)}while(Er);return m}function $w(){var n=L.H,r=n.useState()[0];return r=typeof r.then=="function"?Va(r):r,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Te.flags|=1024),r}function Hf(){var n=Xo!==0;return Xo=0,n}function Ff(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Gf(n){if(Ko){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Ko=!1}ci=0,yt=Ye=Te=null,Er=!1,Ua=Xo=0,Cr=null}function qt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Te.memoizedState=yt=n:yt=yt.next=n,yt}function mt(){if(Ye===null){var n=Te.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=yt===null?Te.memoizedState:yt.next;if(r!==null)yt=r,Ye=n;else{if(n===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Te.memoizedState=yt=n:yt=yt.next=n}return yt}function Qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(n){var r=Ua;return Ua+=1,Cr===null&&(Cr=[]),n=My(Cr,n,r),r=Te,(yt===null?r.memoizedState:yt.next)===null&&(r=r.alternate,L.H=r===null||r.memoizedState===null?bv:nh),n}function $o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Va(n);if(n.$$typeof===O)return It(n)}throw Error(s(438,String(n)))}function qf(n){var r=null,a=Te.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var u=Te.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Qo(),Te.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),u=0;u<n;u++)a[u]=he;return r.index++,a}function fi(n,r){return typeof r=="function"?r(n):r}function Zo(n){var r=mt();return Yf(r,Ye,n)}function Yf(n,r,a){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var h=n.baseQueue,m=u.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}r.baseQueue=h=m,u.pending=null}if(m=n.baseState,h===null)n.memoizedState=m;else{r=h.next;var S=x=null,w=null,j=r,P=!1;do{var q=j.lane&-536870913;if(q!==j.lane?(je&q)===q:(ci&q)===q){var B=j.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),q===vr&&(P=!0);else if((ci&B)===B){j=j.next,B===vr&&(P=!0);continue}else q={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(S=w=q,x=m):w=w.next=q,Te.lanes|=B,Fi|=B;q=j.action,Rs&&a(m,q),m=j.hasEagerState?j.eagerState:a(m,q)}else B={lane:q,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},w===null?(S=w=B,x=m):w=w.next=B,Te.lanes|=q,Fi|=q;j=j.next}while(j!==null&&j!==r);if(w===null?x=m:w.next=S,!fn(m,n.memoizedState)&&(vt=!0,P&&(a=xr,a!==null)))throw a;n.memoizedState=m,n.baseState=x,n.baseQueue=w,u.lastRenderedState=m}return h===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Kf(n){var r=mt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var u=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do m=n(m,x.action),x=x.next;while(x!==h);fn(m,r.memoizedState)||(vt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,u]}function Py(n,r,a){var u=Te,h=mt(),m=ze;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var x=!fn((Ye||h).memoizedState,a);if(x&&(h.memoizedState=a,vt=!0),h=h.queue,$f(Gy.bind(null,u,h,n),[n]),h.getSnapshot!==r||x||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,Tr(9,{destroy:void 0},Fy.bind(null,u,h,a,r),null),$e===null)throw Error(s(349));m||(ci&127)!==0||Hy(u,r,a)}return a}function Hy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Te.updateQueue,r===null?(r=Qo(),Te.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function Fy(n,r,a,u){r.value=a,r.getSnapshot=u,qy(r)&&Yy(n)}function Gy(n,r,a){return a(function(){qy(r)&&Yy(n)})}function qy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!fn(n,a)}catch{return!0}}function Yy(n){var r=_s(n,2);r!==null&&tn(r,n,2)}function Xf(n){var r=qt();if(typeof n=="function"){var a=n;if(n=a(),Rs){Xt(!0);try{a()}finally{Xt(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:n},r}function Ky(n,r,a,u){return n.baseState=a,Yf(n,Ye,typeof u=="function"?u:fi)}function Zw(n,r,a,u,h){if(eu(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};L.T!==null?a(!0):m.isTransition=!1,u(m),a=r.pending,a===null?(m.next=r.pending=m,Xy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Xy(n,r){var a=r.action,u=r.payload,h=n.state;if(r.isTransition){var m=L.T,x={};L.T=x;try{var S=a(h,u),w=L.S;w!==null&&w(x,S),Qy(n,r,S)}catch(j){Qf(n,r,j)}finally{m!==null&&x.types!==null&&(m.types=x.types),L.T=m}}else try{m=a(h,u),Qy(n,r,m)}catch(j){Qf(n,r,j)}}function Qy(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){$y(n,r,u)},function(u){return Qf(n,r,u)}):$y(n,r,a)}function $y(n,r,a){r.status="fulfilled",r.value=a,Zy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Xy(n,a)))}function Qf(n,r,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=a,Zy(r),r=r.next;while(r!==u)}n.action=null}function Zy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Wy(n,r){return r}function Jy(n,r){if(ze){var a=$e.formState;if(a!==null){e:{var u=Te;if(ze){if(it){t:{for(var h=it,m=wn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Nn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){it=Nn(h.nextSibling),u=h.data==="F!";break e}}Ii(u)}u=!1}u&&(r=a[0])}}return a=qt(),a.memoizedState=a.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:r},a.queue=u,a=vv.bind(null,Te,u),u.dispatch=a,u=Xf(!1),m=th.bind(null,Te,!1,u.queue),u=qt(),h={state:r,dispatch:null,action:n,pending:null},u.queue=h,a=Zw.bind(null,Te,h,m,a),h.dispatch=a,u.memoizedState=n,[r,a,!1]}function ev(n){var r=mt();return tv(r,Ye,n)}function tv(n,r,a){if(r=Yf(n,r,Wy)[0],n=Zo(fi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Va(r)}catch(x){throw x===_r?Po:x}else u=r;r=mt();var h=r.queue,m=h.dispatch;return a!==r.memoizedState&&(Te.flags|=2048,Tr(9,{destroy:void 0},Ww.bind(null,h,a),null)),[u,m,n]}function Ww(n,r){n.action=r}function nv(n){var r=mt(),a=Ye;if(a!==null)return tv(r,a,n);mt(),r=r.memoizedState,a=mt();var u=a.queue.dispatch;return a.memoizedState=n,[r,u,!1]}function Tr(n,r,a,u){return n={tag:n,create:a,deps:u,inst:r,next:null},r=Te.updateQueue,r===null&&(r=Qo(),Te.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,r.lastEffect=n),n}function iv(){return mt().memoizedState}function Wo(n,r,a,u){var h=qt();Te.flags|=n,h.memoizedState=Tr(1|r,{destroy:void 0},a,u===void 0?null:u)}function Jo(n,r,a,u){var h=mt();u=u===void 0?null:u;var m=h.memoizedState.inst;Ye!==null&&u!==null&&Vf(u,Ye.memoizedState.deps)?h.memoizedState=Tr(r,m,a,u):(Te.flags|=n,h.memoizedState=Tr(1|r,m,a,u))}function sv(n,r){Wo(8390656,8,n,r)}function $f(n,r){Jo(2048,8,n,r)}function Jw(n){Te.flags|=4;var r=Te.updateQueue;if(r===null)r=Qo(),Te.updateQueue=r,r.events=[n];else{var a=r.events;a===null?r.events=[n]:a.push(n)}}function rv(n){var r=mt().memoizedState;return Jw({ref:r,nextImpl:n}),function(){if((Pe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function av(n,r){return Jo(4,2,n,r)}function lv(n,r){return Jo(4,4,n,r)}function ov(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function uv(n,r,a){a=a!=null?a.concat([n]):null,Jo(4,4,ov.bind(null,r,n),a)}function Zf(){}function cv(n,r){var a=mt();r=r===void 0?null:r;var u=a.memoizedState;return r!==null&&Vf(r,u[1])?u[0]:(a.memoizedState=[n,r],n)}function fv(n,r){var a=mt();r=r===void 0?null:r;var u=a.memoizedState;if(r!==null&&Vf(r,u[1]))return u[0];if(u=n(),Rs){Xt(!0);try{n()}finally{Xt(!1)}}return a.memoizedState=[u,r],u}function Wf(n,r,a){return a===void 0||(ci&1073741824)!==0&&(je&261930)===0?n.memoizedState=r:(n.memoizedState=a,n=h0(),Te.lanes|=n,Fi|=n,a)}function hv(n,r,a,u){return fn(a,r)?a:Sr.current!==null?(n=Wf(n,a,u),fn(n,r)||(vt=!0),n):(ci&42)===0||(ci&1073741824)!==0&&(je&261930)===0?(vt=!0,n.memoizedState=a):(n=h0(),Te.lanes|=n,Fi|=n,r)}function dv(n,r,a,u,h){var m=Y.p;Y.p=m!==0&&8>m?m:8;var x=L.T,S={};L.T=S,th(n,!1,r,a);try{var w=h(),j=L.S;if(j!==null&&j(S,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var P=Xw(w,u);Pa(n,r,P,yn(n))}else Pa(n,r,u,yn(n))}catch(q){Pa(n,r,{then:function(){},status:"rejected",reason:q},yn())}finally{Y.p=m,x!==null&&S.types!==null&&(x.types=S.types),L.T=x}}function eA(){}function Jf(n,r,a,u){if(n.tag!==5)throw Error(s(476));var h=pv(n).queue;dv(n,h,r,ue,a===null?eA:function(){return mv(n),a(u)})}function pv(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:ue},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function mv(n){var r=pv(n);r.next===null&&(r=n.alternate.memoizedState),Pa(n,r.next.queue,{},yn())}function eh(){return It(sl)}function gv(){return mt().memoizedState}function yv(){return mt().memoizedState}function tA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=yn();n=zi(a);var u=Bi(r,n,a);u!==null&&(tn(u,r,a),La(u,r,a)),r={cache:Rf()},n.payload=r;return}r=r.return}}function nA(n,r,a){var u=yn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},eu(n)?xv(r,a):(a=vf(n,r,a,u),a!==null&&(tn(a,n,u),_v(a,r,u)))}function vv(n,r,a){var u=yn();Pa(n,r,a,u)}function Pa(n,r,a,u){var h={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(n))xv(r,h);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,S=m(x,a);if(h.hasEagerState=!0,h.eagerState=S,fn(S,x))return Io(n,r,h,0),$e===null&&Oo(),!1}catch{}if(a=vf(n,r,h,u),a!==null)return tn(a,n,u),_v(a,r,u),!0}return!1}function th(n,r,a,u){if(u={lane:2,revertLane:Oh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},eu(n)){if(r)throw Error(s(479))}else r=vf(n,a,u,2),r!==null&&tn(r,n,2)}function eu(n){var r=n.alternate;return n===Te||r!==null&&r===Te}function xv(n,r){Er=Ko=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function _v(n,r,a){if((a&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,a|=u,r.lanes=a,Tg(n,a)}}var Ha={readContext:It,use:$o,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};Ha.useEffectEvent=ct;var bv={readContext:It,use:$o,useCallback:function(n,r){return qt().memoizedState=[n,r===void 0?null:r],n},useContext:It,useEffect:sv,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Wo(4194308,4,ov.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Wo(4194308,4,n,r)},useInsertionEffect:function(n,r){Wo(4,2,n,r)},useMemo:function(n,r){var a=qt();r=r===void 0?null:r;var u=n();if(Rs){Xt(!0);try{n()}finally{Xt(!1)}}return a.memoizedState=[u,r],u},useReducer:function(n,r,a){var u=qt();if(a!==void 0){var h=a(r);if(Rs){Xt(!0);try{a(r)}finally{Xt(!1)}}}else h=r;return u.memoizedState=u.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},u.queue=n,n=n.dispatch=nA.bind(null,Te,n),[u.memoizedState,n]},useRef:function(n){var r=qt();return n={current:n},r.memoizedState=n},useState:function(n){n=Xf(n);var r=n.queue,a=vv.bind(null,Te,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Zf,useDeferredValue:function(n,r){var a=qt();return Wf(a,n,r)},useTransition:function(){var n=Xf(!1);return n=dv.bind(null,Te,n.queue,!0,!1),qt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var u=Te,h=qt();if(ze){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),$e===null)throw Error(s(349));(je&127)!==0||Hy(u,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,sv(Gy.bind(null,u,m,n),[n]),u.flags|=2048,Tr(9,{destroy:void 0},Fy.bind(null,u,m,a,r),null),a},useId:function(){var n=qt(),r=$e.identifierPrefix;if(ze){var a=qn,u=Gn;a=(u&~(1<<32-Qe(u)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Xo++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Qw++,r="_"+r+"r_"+a.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:eh,useFormState:Jy,useActionState:Jy,useOptimistic:function(n){var r=qt();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=th.bind(null,Te,!0,a),a.dispatch=r,[n,r]},useMemoCache:qf,useCacheRefresh:function(){return qt().memoizedState=tA.bind(null,Te)},useEffectEvent:function(n){var r=qt(),a={impl:n};return r.memoizedState=a,function(){if((Pe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},nh={readContext:It,use:$o,useCallback:cv,useContext:It,useEffect:$f,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:fv,useReducer:Zo,useRef:iv,useState:function(){return Zo(fi)},useDebugValue:Zf,useDeferredValue:function(n,r){var a=mt();return hv(a,Ye.memoizedState,n,r)},useTransition:function(){var n=Zo(fi)[0],r=mt().memoizedState;return[typeof n=="boolean"?n:Va(n),r]},useSyncExternalStore:Py,useId:gv,useHostTransitionStatus:eh,useFormState:ev,useActionState:ev,useOptimistic:function(n,r){var a=mt();return Ky(a,Ye,n,r)},useMemoCache:qf,useCacheRefresh:yv};nh.useEffectEvent=rv;var Sv={readContext:It,use:$o,useCallback:cv,useContext:It,useEffect:$f,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:fv,useReducer:Kf,useRef:iv,useState:function(){return Kf(fi)},useDebugValue:Zf,useDeferredValue:function(n,r){var a=mt();return Ye===null?Wf(a,n,r):hv(a,Ye.memoizedState,n,r)},useTransition:function(){var n=Kf(fi)[0],r=mt().memoizedState;return[typeof n=="boolean"?n:Va(n),r]},useSyncExternalStore:Py,useId:gv,useHostTransitionStatus:eh,useFormState:nv,useActionState:nv,useOptimistic:function(n,r){var a=mt();return Ye!==null?Ky(a,Ye,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:yv};Sv.useEffectEvent=rv;function ih(n,r,a,u){r=n.memoizedState,a=a(u,r),a=a==null?r:y({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var sh={enqueueSetState:function(n,r,a){n=n._reactInternals;var u=yn(),h=zi(u);h.payload=r,a!=null&&(h.callback=a),r=Bi(n,h,u),r!==null&&(tn(r,n,u),La(r,n,u))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var u=yn(),h=zi(u);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Bi(n,h,u),r!==null&&(tn(r,n,u),La(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=yn(),u=zi(a);u.tag=2,r!=null&&(u.callback=r),r=Bi(n,u,a),r!==null&&(tn(r,n,a),La(r,n,a))}};function Ev(n,r,a,u,h,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,x):r.prototype&&r.prototype.isPureReactComponent?!Na(a,u)||!Na(h,m):!0}function Cv(n,r,a,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,u),r.state!==n&&sh.enqueueReplaceState(r,r.state,null)}function Ms(n,r){var a=r;if("ref"in r){a={};for(var u in r)u!=="ref"&&(a[u]=r[u])}if(n=n.defaultProps){a===r&&(a=y({},a));for(var h in n)a[h]===void 0&&(a[h]=n[h])}return a}function Tv(n){ko(n)}function wv(n){console.error(n)}function Av(n){ko(n)}function tu(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function Nv(n,r,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rh(n,r,a){return a=zi(a),a.tag=3,a.payload={element:null},a.callback=function(){tu(n,r)},a}function Rv(n){return n=zi(n),n.tag=3,n}function Mv(n,r,a,u){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;n.payload=function(){return h(m)},n.callback=function(){Nv(r,a,u)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){Nv(r,a,u),typeof h!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function iA(n,r,a,u,h){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=a.alternate,r!==null&&yr(r,a,h,!0),a=dn.current,a!==null){switch(a.tag){case 31:case 13:return An===null?du():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,u===Ho?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([u]):r.add(u),Mh(n,u,h)),!1;case 22:return a.flags|=65536,u===Ho?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([u]):a.add(u)),Mh(n,u,h)),!1}throw Error(s(435,a.tag))}return Mh(n,u,h),du(),!1}if(ze)return r=dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,u!==Cf&&(n=Error(s(422),{cause:u}),Da(En(n,a)))):(u!==Cf&&(r=Error(s(423),{cause:u}),Da(En(r,a))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,u=En(u,a),h=rh(n.stateNode,u,h),jf(n,h),ft!==4&&(ft=2)),!1;var m=Error(s(520),{cause:u});if(m=En(m,a),$a===null?$a=[m]:$a.push(m),ft!==4&&(ft=2),r===null)return!0;u=En(u,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=h&-h,a.lanes|=n,n=rh(a.stateNode,u,n),jf(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gi===null||!Gi.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Rv(h),Mv(h,n,a,u),jf(a,h),!1}a=a.return}while(a!==null);return!1}var ah=Error(s(461)),vt=!1;function jt(n,r,a,u){r.child=n===null?Iy(r,null,a,u):Ns(r,n.child,a,u)}function Dv(n,r,a,u,h){a=a.render;var m=r.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Cs(r),u=Pf(n,r,a,x,m,h),S=Hf(),n!==null&&!vt?(Ff(n,r,h),hi(n,r,h)):(ze&&S&&Sf(r),r.flags|=1,jt(n,r,u,h),r.child)}function kv(n,r,a,u,h){if(n===null){var m=a.type;return typeof m=="function"&&!xf(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,Ov(n,r,m,u,h)):(n=Lo(a.type,null,u,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!ph(n,h)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:Na,a(x,u)&&n.ref===r.ref)return hi(n,r,h)}return r.flags|=1,n=ai(m,u),n.ref=r.ref,n.return=r,r.child=n}function Ov(n,r,a,u,h){if(n!==null){var m=n.memoizedProps;if(Na(m,u)&&n.ref===r.ref)if(vt=!1,r.pendingProps=u=m,ph(n,h))(n.flags&131072)!==0&&(vt=!0);else return r.lanes=n.lanes,hi(n,r,h)}return lh(n,r,a,u,h)}function Iv(n,r,a,u){var h=u.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,n!==null){for(u=r.child=n.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,r.child=null;return jv(n,r,m,a,u)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Vo(r,m!==null?m.cachePool:null),m!==null?zy(r,m):zf(),By(r);else return u=r.lanes=536870912,jv(n,r,m!==null?m.baseLanes|a:a,a,u)}else m!==null?(Vo(r,m.cachePool),zy(r,m),Vi(),r.memoizedState=null):(n!==null&&Vo(r,null),zf(),Vi());return jt(n,r,h,a),r.child}function Fa(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function jv(n,r,a,u,h){var m=Df();return m=m===null?null:{parent:gt._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},n!==null&&Vo(r,null),zf(),By(r),n!==null&&yr(n,r,u,!0),r.childLanes=h,null}function nu(n,r){return r=su({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Lv(n,r,a){return Ns(r,n.child,null,a),n=nu(r,r.pendingProps),n.flags|=2,pn(r),r.memoizedState=null,n}function sA(n,r,a){var u=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(ze){if(u.mode==="hidden")return n=nu(r,u),r.lanes=536870912,Fa(null,n);if(Uf(r),(n=it)?(n=X0(n,wn),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ki!==null?{id:Gn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},a=xy(n),a.return=r,r.child=a,Ot=r,it=null)):n=null,n===null)throw Ii(r);return r.lanes=536870912,null}return nu(r,u)}var m=n.memoizedState;if(m!==null){var x=m.dehydrated;if(Uf(r),h)if(r.flags&256)r.flags&=-257,r=Lv(n,r,a);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(vt||yr(n,r,a,!1),h=(a&n.childLanes)!==0,vt||h){if(u=$e,u!==null&&(x=wg(u,a),x!==0&&x!==m.retryLane))throw m.retryLane=x,_s(n,x),tn(u,n,x),ah;du(),r=Lv(n,r,a)}else n=m.treeContext,it=Nn(x.nextSibling),Ot=r,ze=!0,Oi=null,wn=!1,n!==null&&Sy(r,n),r=nu(r,u),r.flags|=4096;return r}return n=ai(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function iu(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function lh(n,r,a,u,h){return Cs(r),a=Pf(n,r,a,u,void 0,h),u=Hf(),n!==null&&!vt?(Ff(n,r,h),hi(n,r,h)):(ze&&u&&Sf(r),r.flags|=1,jt(n,r,a,h),r.child)}function zv(n,r,a,u,h,m){return Cs(r),r.updateQueue=null,a=Vy(r,u,a,h),Uy(n),u=Hf(),n!==null&&!vt?(Ff(n,r,m),hi(n,r,m)):(ze&&u&&Sf(r),r.flags|=1,jt(n,r,a,m),r.child)}function Bv(n,r,a,u,h){if(Cs(r),r.stateNode===null){var m=dr,x=a.contextType;typeof x=="object"&&x!==null&&(m=It(x)),m=new a(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=sh,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},Of(r),x=a.contextType,m.context=typeof x=="object"&&x!==null?It(x):dr,m.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(ih(r,a,x,u),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&sh.enqueueReplaceState(m,m.state,null),Ba(r,u,m,h),za(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var S=r.memoizedProps,w=Ms(a,S);m.props=w;var j=m.context,P=a.contextType;x=dr,typeof P=="object"&&P!==null&&(x=It(P));var q=a.getDerivedStateFromProps;P=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,P||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||j!==x)&&Cv(r,m,u,x),Li=!1;var B=r.memoizedState;m.state=B,Ba(r,u,m,h),za(),j=r.memoizedState,S||B!==j||Li?(typeof q=="function"&&(ih(r,a,q,u),j=r.memoizedState),(w=Li||Ev(r,a,w,u,B,j,x))?(P||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=j),m.props=u,m.state=j,m.context=x,u=w):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,If(n,r),x=r.memoizedProps,P=Ms(a,x),m.props=P,q=r.pendingProps,B=m.context,j=a.contextType,w=dr,typeof j=="object"&&j!==null&&(w=It(j)),S=a.getDerivedStateFromProps,(j=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==q||B!==w)&&Cv(r,m,u,w),Li=!1,B=r.memoizedState,m.state=B,Ba(r,u,m,h),za();var U=r.memoizedState;x!==q||B!==U||Li||n!==null&&n.dependencies!==null&&Bo(n.dependencies)?(typeof S=="function"&&(ih(r,a,S,u),U=r.memoizedState),(P=Li||Ev(r,a,P,u,B,U,w)||n!==null&&n.dependencies!==null&&Bo(n.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,U,w),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,U,w)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=U),m.props=u,m.state=U,m.context=w,u=P):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,iu(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=Ns(r,n.child,null,h),r.child=Ns(r,null,a,h)):jt(n,r,a,h),r.memoizedState=m.state,n=r.child):n=hi(n,r,h),n}function Uv(n,r,a,u){return Ss(),r.flags|=256,jt(n,r,a,u),r.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uh(n){return{baseLanes:n,cachePool:Ny()}}function ch(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=gn),n}function Vv(n,r,a){var u=r.pendingProps,h=!1,m=(r.flags&128)!==0,x;if((x=m)||(x=n!==null&&n.memoizedState===null?!1:(pt.current&2)!==0),x&&(h=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,n===null){if(ze){if(h?Ui(r):Vi(),(n=it)?(n=X0(n,wn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ki!==null?{id:Gn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},a=xy(n),a.return=r,r.child=a,Ot=r,it=null)):n=null,n===null)throw Ii(r);return Yh(n)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,h?(Vi(),h=r.mode,S=su({mode:"hidden",children:S},h),u=bs(u,h,a,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=uh(a),u.childLanes=ch(n,x,a),r.memoizedState=oh,Fa(null,u)):(Ui(r),fh(r,S))}var w=n.memoizedState;if(w!==null&&(S=w.dehydrated,S!==null)){if(m)r.flags&256?(Ui(r),r.flags&=-257,r=hh(n,r,a)):r.memoizedState!==null?(Vi(),r.child=n.child,r.flags|=128,r=null):(Vi(),S=u.fallback,h=r.mode,u=su({mode:"visible",children:u.children},h),S=bs(S,h,a,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ns(r,n.child,null,a),u=r.child,u.memoizedState=uh(a),u.childLanes=ch(n,x,a),r.memoizedState=oh,r=Fa(null,u));else if(Ui(r),Yh(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var j=x.dgst;x=j,u=Error(s(419)),u.stack="",u.digest=x,Da({value:u,source:null,stack:null}),r=hh(n,r,a)}else if(vt||yr(n,r,a,!1),x=(a&n.childLanes)!==0,vt||x){if(x=$e,x!==null&&(u=wg(x,a),u!==0&&u!==w.retryLane))throw w.retryLane=u,_s(n,u),tn(x,n,u),ah;qh(S)||du(),r=hh(n,r,a)}else qh(S)?(r.flags|=192,r.child=n.child,r=null):(n=w.treeContext,it=Nn(S.nextSibling),Ot=r,ze=!0,Oi=null,wn=!1,n!==null&&Sy(r,n),r=fh(r,u.children),r.flags|=4096);return r}return h?(Vi(),S=u.fallback,h=r.mode,w=n.child,j=w.sibling,u=ai(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,j!==null?S=ai(j,S):(S=bs(S,h,a,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Fa(null,u),u=r.child,S=n.child.memoizedState,S===null?S=uh(a):(h=S.cachePool,h!==null?(w=gt._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Ny(),S={baseLanes:S.baseLanes|a,cachePool:h}),u.memoizedState=S,u.childLanes=ch(n,x,a),r.memoizedState=oh,Fa(n.child,u)):(Ui(r),a=n.child,n=a.sibling,a=ai(a,{mode:"visible",children:u.children}),a.return=r,a.sibling=null,n!==null&&(x=r.deletions,x===null?(r.deletions=[n],r.flags|=16):x.push(n)),r.child=a,r.memoizedState=null,a)}function fh(n,r){return r=su({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function su(n,r){return n=hn(22,n,null,r),n.lanes=0,n}function hh(n,r,a){return Ns(r,n.child,null,a),n=fh(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Pv(n,r,a){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Af(n.return,r,a)}function dh(n,r,a,u,h,m){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h,treeForkCount:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=a,x.tailMode=h,x.treeForkCount=m)}function Hv(n,r,a){var u=r.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var x=pt.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,E(pt,x),jt(n,r,u,a),u=ze?Ma:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Pv(n,a,r);else if(n.tag===19)Pv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)n=a.alternate,n!==null&&Yo(n)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),dh(r,!1,h,a,m,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&Yo(n)===null){r.child=h;break}n=h.sibling,h.sibling=a,a=h,h=n}dh(r,!0,a,null,m,u);break;case"together":dh(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function hi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Fi|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(yr(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ai(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ai(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function ph(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Bo(n)))}function rA(n,r,a){switch(r.tag){case 3:pe(r,r.stateNode.containerInfo),ji(r,gt,n.memoizedState.cache),Ss();break;case 27:case 5:We(r);break;case 4:pe(r,r.stateNode.containerInfo);break;case 10:ji(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Uf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ui(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Vv(n,r,a):(Ui(r),n=hi(n,r,a),n!==null?n.sibling:null);Ui(r);break;case 19:var h=(n.flags&128)!==0;if(u=(a&r.childLanes)!==0,u||(yr(n,r,a,!1),u=(a&r.childLanes)!==0),h){if(u)return Hv(n,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),E(pt,pt.current),u)break;return null;case 22:return r.lanes=0,Iv(n,r,a,r.pendingProps);case 24:ji(r,gt,n.memoizedState.cache)}return hi(n,r,a)}function Fv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)vt=!0;else{if(!ph(n,a)&&(r.flags&128)===0)return vt=!1,rA(n,r,a);vt=(n.flags&131072)!==0}else vt=!1,ze&&(r.flags&1048576)!==0&&by(r,Ma,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=ws(r.elementType),r.type=n,typeof n=="function")xf(n)?(u=Ms(n,u),r.tag=1,r=Bv(null,r,n,u,a)):(r.tag=0,r=lh(null,r,n,u,a));else{if(n!=null){var h=n.$$typeof;if(h===$){r.tag=11,r=Dv(null,r,n,u,a);break e}else if(h===X){r.tag=14,r=kv(null,r,n,u,a);break e}}throw r=se(n)||n,Error(s(306,r,""))}}return r;case 0:return lh(n,r,r.type,r.pendingProps,a);case 1:return u=r.type,h=Ms(u,r.pendingProps),Bv(n,r,u,h,a);case 3:e:{if(pe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;h=m.element,If(n,r),Ba(r,u,null,a);var x=r.memoizedState;if(u=x.cache,ji(r,gt,u),u!==m.cache&&Nf(r,[gt],a,!0),za(),u=x.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Uv(n,r,u,a);break e}else if(u!==h){h=En(Error(s(424)),r),Da(h),r=Uv(n,r,u,a);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,it=Nn(n.firstChild),Ot=r,ze=!0,Oi=null,wn=!0,a=Iy(r,null,u,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ss(),u===h){r=hi(n,r,a);break e}jt(n,r,u,a)}r=r.child}return r;case 26:return iu(n,r),n===null?(a=ex(r.type,null,r.pendingProps,null))?r.memoizedState=a:ze||(a=r.type,n=r.pendingProps,u=_u(Z.current).createElement(a),u[kt]=r,u[Qt]=n,Lt(u,a,n),At(u),r.stateNode=u):r.memoizedState=ex(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return We(r),n===null&&ze&&(u=r.stateNode=Z0(r.type,r.pendingProps,Z.current),Ot=r,wn=!0,h=it,Xi(r.type)?(Kh=h,it=Nn(u.firstChild)):it=h),jt(n,r,r.pendingProps.children,a),iu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&ze&&((h=u=it)&&(u=jA(u,r.type,r.pendingProps,wn),u!==null?(r.stateNode=u,Ot=r,it=Nn(u.firstChild),wn=!1,h=!0):h=!1),h||Ii(r)),We(r),h=r.type,m=r.pendingProps,x=n!==null?n.memoizedProps:null,u=m.children,Hh(h,m)?u=null:x!==null&&Hh(h,x)&&(r.flags|=32),r.memoizedState!==null&&(h=Pf(n,r,$w,null,null,a),sl._currentValue=h),iu(n,r),jt(n,r,u,a),r.child;case 6:return n===null&&ze&&((n=a=it)&&(a=LA(a,r.pendingProps,wn),a!==null?(r.stateNode=a,Ot=r,it=null,n=!0):n=!1),n||Ii(r)),null;case 13:return Vv(n,r,a);case 4:return pe(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ns(r,null,u,a):jt(n,r,u,a),r.child;case 11:return Dv(n,r,r.type,r.pendingProps,a);case 7:return jt(n,r,r.pendingProps,a),r.child;case 8:return jt(n,r,r.pendingProps.children,a),r.child;case 12:return jt(n,r,r.pendingProps.children,a),r.child;case 10:return u=r.pendingProps,ji(r,r.type,u.value),jt(n,r,u.children,a),r.child;case 9:return h=r.type._context,u=r.pendingProps.children,Cs(r),h=It(h),u=u(h),r.flags|=1,jt(n,r,u,a),r.child;case 14:return kv(n,r,r.type,r.pendingProps,a);case 15:return Ov(n,r,r.type,r.pendingProps,a);case 19:return Hv(n,r,a);case 31:return sA(n,r,a);case 22:return Iv(n,r,a,r.pendingProps);case 24:return Cs(r),u=It(gt),n===null?(h=Df(),h===null&&(h=$e,m=Rf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),r.memoizedState={parent:u,cache:h},Of(r),ji(r,gt,h)):((n.lanes&a)!==0&&(If(n,r),Ba(r,null,null,a),za()),h=n.memoizedState,m=r.memoizedState,h.parent!==u?(h={parent:u,cache:u},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ji(r,gt,u)):(u=m.cache,ji(r,gt,u),u!==h.cache&&Nf(r,[gt],a,!0))),jt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function di(n){n.flags|=4}function mh(n,r,a,u,h){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(g0())n.flags|=8192;else throw As=Ho,kf}else n.flags&=-16777217}function Gv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rx(r))if(g0())n.flags|=8192;else throw As=Ho,kf}function ru(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Eg():536870912,n.lanes|=r,Rr|=r)}function Ga(n,r){if(!ze)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(r)for(var h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=u,n.childLanes=a,r}function aA(n,r,a){var u=r.pendingProps;switch(Ef(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ui(gt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(gr(r)?di(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Tf())),st(r),null;case 26:var h=r.type,m=r.memoizedState;return n===null?(di(r),m!==null?(st(r),Gv(r,m)):(st(r),mh(r,h,null,u,a))):m?m!==n.memoizedState?(di(r),st(r),Gv(r,m)):(st(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&di(r),st(r),mh(r,h,n,u,a)),null;case 27:if(at(r),a=Z.current,h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&di(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=oe.current,gr(r)?Ey(r):(n=Z0(h,u,a),r.stateNode=n,di(r))}return st(r),null;case 5:if(at(r),h=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&di(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(m=oe.current,gr(r))Ey(r);else{var x=_u(Z.current);switch(m){case 1:m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=x.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?x.createElement(h,{is:u.is}):x.createElement(h)}}m[kt]=r,m[Qt]=u;e:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)m.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break e;for(;x.sibling===null;){if(x.return===null||x.return===r)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=m;e:switch(Lt(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&di(r)}}return st(r),mh(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,a),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&di(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Z.current,gr(r)){if(n=r.stateNode,a=r.memoizedProps,u=null,h=Ot,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}n[kt]=r,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||V0(n.nodeValue,a)),n||Ii(r,!0)}else n=_u(n).createTextNode(u),n[kt]=r,r.stateNode=n}return st(r),null;case 31:if(a=r.memoizedState,n===null||n.memoizedState!==null){if(u=gr(r),a!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[kt]=r}else Ss(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),n=!1}else a=Tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return r.flags&256?(pn(r),r):(pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return st(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=gr(r),u!==null&&u.dehydrated!==null){if(n===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[kt]=r}else Ss(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),h=!1}else h=Tf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(pn(r),r):(pn(r),null)}return pn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=r.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),a!==n&&a&&(r.child.flags|=8192),ru(r,r.updateQueue),st(r),null);case 4:return Se(),n===null&&zh(r.stateNode.containerInfo),st(r),null;case 10:return ui(r.type),st(r),null;case 19:if(H(pt),u=r.memoizedState,u===null)return st(r),null;if(h=(r.flags&128)!==0,m=u.rendering,m===null)if(h)Ga(u,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=Yo(n),m!==null){for(r.flags|=128,Ga(u,!1),n=m.updateQueue,r.updateQueue=n,ru(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)vy(a,n),a=a.sibling;return E(pt,pt.current&1|2),ze&&li(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Ft()>cu&&(r.flags|=128,h=!0,Ga(u,!1),r.lanes=4194304)}else{if(!h)if(n=Yo(m),n!==null){if(r.flags|=128,h=!0,n=n.updateQueue,r.updateQueue=n,ru(r,n),Ga(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!ze)return st(r),null}else 2*Ft()-u.renderingStartTime>cu&&a!==536870912&&(r.flags|=128,h=!0,Ga(u,!1),r.lanes=4194304);u.isBackwards?(m.sibling=r.child,r.child=m):(n=u.last,n!==null?n.sibling=m:r.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ft(),n.sibling=null,a=pt.current,E(pt,h?a&1|2:a&1),ze&&li(r,u.treeForkCount),n):(st(r),null);case 22:case 23:return pn(r),Bf(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&ru(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==a&&(r.flags|=2048),n!==null&&H(Ts),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ui(gt),st(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lA(n,r){switch(Ef(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ui(gt),Se(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return at(r),null;case 31:if(r.memoizedState!==null){if(pn(r),r.alternate===null)throw Error(s(340));Ss()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(pn(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ss()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return H(pt),null;case 4:return Se(),null;case 10:return ui(r.type),null;case 22:case 23:return pn(r),Bf(),n!==null&&H(Ts),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ui(gt),null;case 25:return null;default:return null}}function qv(n,r){switch(Ef(r),r.tag){case 3:ui(gt),Se();break;case 26:case 27:case 5:at(r);break;case 4:Se();break;case 31:r.memoizedState!==null&&pn(r);break;case 13:pn(r);break;case 19:H(pt);break;case 10:ui(r.type);break;case 22:case 23:pn(r),Bf(),n!==null&&H(Ts);break;case 24:ui(gt)}}function qa(n,r){try{var a=r.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var h=u.next;a=h;do{if((a.tag&n)===n){u=void 0;var m=a.create,x=a.inst;u=m(),x.destroy=u}a=a.next}while(a!==h)}}catch(S){qe(r,r.return,S)}}function Pi(n,r,a){try{var u=r.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&n)===n){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,h=r;var w=a,j=S;try{j()}catch(P){qe(h,w,P)}}}u=u.next}while(u!==m)}}catch(P){qe(r,r.return,P)}}function Yv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{Ly(r,a)}catch(u){qe(n,n.return,u)}}}function Kv(n,r,a){a.props=Ms(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){qe(n,r,u)}}function Ya(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(h){qe(n,r,h)}}function Yn(n,r){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(h){qe(n,r,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){qe(n,r,h)}else a.current=null}function Xv(n){var r=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(h){qe(n,n.return,h)}}function gh(n,r,a){try{var u=n.stateNode;RA(u,n.type,a,r),u[Qt]=r}catch(h){qe(n,n.return,h)}}function Qv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xi(n.type)||n.tag===4}function yh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Qv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function vh(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=si));else if(u!==4&&(u===27&&Xi(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(vh(n,r,a),n=n.sibling;n!==null;)vh(n,r,a),n=n.sibling}function au(n,r,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(u!==4&&(u===27&&Xi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(au(n,r,a),n=n.sibling;n!==null;)au(n,r,a),n=n.sibling}function $v(n){var r=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Lt(r,u,a),r[kt]=n,r[Qt]=a}catch(m){qe(n,n.return,m)}}var pi=!1,xt=!1,xh=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function oA(n,r){if(n=n.containerInfo,Vh=Au,n=uy(n),hf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,S=-1,w=-1,j=0,P=0,q=n,B=null;t:for(;;){for(var U;q!==a||h!==0&&q.nodeType!==3||(S=x+h),q!==m||u!==0&&q.nodeType!==3||(w=x+u),q.nodeType===3&&(x+=q.nodeValue.length),(U=q.firstChild)!==null;)B=q,q=U;for(;;){if(q===n)break t;if(B===a&&++j===h&&(S=x),B===m&&++P===u&&(w=x),(U=q.nextSibling)!==null)break;q=B,B=q.parentNode}q=U}a=S===-1||w===-1?null:{start:S,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ph={focusedElem:n,selectionRange:a},Au=!1,Nt=r;Nt!==null;)if(r=Nt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Nt=n;else for(;Nt!==null;){switch(r=Nt,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)h=n[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,h=m.memoizedProps,m=m.memoizedState,u=a.stateNode;try{var ce=Ms(a.type,h);n=u.getSnapshotBeforeUpdate(ce,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ge){qe(a,a.return,ge)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Gh(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Gh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Nt=n;break}Nt=r.return}}function Wv(n,r,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:gi(n,a),u&4&&qa(5,a);break;case 1:if(gi(n,a),u&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(x){qe(a,a.return,x)}else{var h=Ms(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(h,r,n.__reactInternalSnapshotBeforeUpdate)}catch(x){qe(a,a.return,x)}}u&64&&Yv(a),u&512&&Ya(a,a.return);break;case 3:if(gi(n,a),u&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ly(n,r)}catch(x){qe(a,a.return,x)}}break;case 27:r===null&&u&4&&$v(a);case 26:case 5:gi(n,a),r===null&&u&4&&Xv(a),u&512&&Ya(a,a.return);break;case 12:gi(n,a);break;case 31:gi(n,a),u&4&&t0(n,a);break;case 13:gi(n,a),u&4&&n0(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=yA.bind(null,a),zA(n,a))));break;case 22:if(u=a.memoizedState!==null||pi,!u){r=r!==null&&r.memoizedState!==null||xt,h=pi;var m=xt;pi=u,(xt=r)&&!m?yi(n,a,(a.subtreeFlags&8772)!==0):gi(n,a),pi=h,xt=m}break;case 30:break;default:gi(n,a)}}function Jv(n){var r=n.alternate;r!==null&&(n.alternate=null,Jv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Xc(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,Zt=!1;function mi(n,r,a){for(a=a.child;a!==null;)e0(n,r,a),a=a.sibling}function e0(n,r,a){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Gt,a)}catch{}switch(a.tag){case 26:xt||Yn(a,r),mi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Yn(a,r);var u=lt,h=Zt;Xi(a.type)&&(lt=a.stateNode,Zt=!1),mi(n,r,a),tl(a.stateNode),lt=u,Zt=h;break;case 5:xt||Yn(a,r);case 6:if(u=lt,h=Zt,lt=null,mi(n,r,a),lt=u,Zt=h,lt!==null)if(Zt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(m){qe(a,r,m)}else try{lt.removeChild(a.stateNode)}catch(m){qe(a,r,m)}break;case 18:lt!==null&&(Zt?(n=lt,Y0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zr(n)):Y0(lt,a.stateNode));break;case 4:u=lt,h=Zt,lt=a.stateNode.containerInfo,Zt=!0,mi(n,r,a),lt=u,Zt=h;break;case 0:case 11:case 14:case 15:Pi(2,a,r),xt||Pi(4,a,r),mi(n,r,a);break;case 1:xt||(Yn(a,r),u=a.stateNode,typeof u.componentWillUnmount=="function"&&Kv(a,r,u)),mi(n,r,a);break;case 21:mi(n,r,a);break;case 22:xt=(u=xt)||a.memoizedState!==null,mi(n,r,a),xt=u;break;default:mi(n,r,a)}}function t0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{zr(n)}catch(a){qe(r,r.return,a)}}}function n0(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zr(n)}catch(a){qe(r,r.return,a)}}function uA(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Zv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Zv),r;default:throw Error(s(435,n.tag))}}function lu(n,r){var a=uA(n);r.forEach(function(u){if(!a.has(u)){a.add(u);var h=vA.bind(null,n,u);u.then(h,h)}})}function Wt(n,r){var a=r.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u],m=n,x=r,S=x;e:for(;S!==null;){switch(S.tag){case 27:if(Xi(S.type)){lt=S.stateNode,Zt=!1;break e}break;case 5:lt=S.stateNode,Zt=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,Zt=!0;break e}S=S.return}if(lt===null)throw Error(s(160));e0(m,x,h),lt=null,Zt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)i0(r,n),r=r.sibling}var Ln=null;function i0(n,r){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Wt(r,n),Jt(n),u&4&&(Pi(3,n,n.return),qa(3,n),Pi(5,n,n.return));break;case 1:Wt(r,n),Jt(n),u&512&&(xt||a===null||Yn(a,a.return)),u&64&&pi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var h=Ln;if(Wt(r,n),Jt(n),u&512&&(xt||a===null||Yn(a,a.return)),u&4){var m=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[xa]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Lt(m,u,a),m[kt]=n,At(m),u=m;break e;case"link":var x=ix("link","href",h).get(u+(a.href||""));if(x){for(var S=0;S<x.length;S++)if(m=x[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(S,1);break t}}m=h.createElement(u),Lt(m,u,a),h.head.appendChild(m);break;case"meta":if(x=ix("meta","content",h).get(u+(a.content||""))){for(S=0;S<x.length;S++)if(m=x[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(S,1);break t}}m=h.createElement(u),Lt(m,u,a),h.head.appendChild(m);break;default:throw Error(s(468,u))}m[kt]=n,At(m),u=m}n.stateNode=u}else sx(h,n.type,n.stateNode);else n.stateNode=nx(h,u,n.memoizedProps);else m!==u?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,u===null?sx(h,n.type,n.stateNode):nx(h,u,n.memoizedProps)):u===null&&n.stateNode!==null&&gh(n,n.memoizedProps,a.memoizedProps)}break;case 27:Wt(r,n),Jt(n),u&512&&(xt||a===null||Yn(a,a.return)),a!==null&&u&4&&gh(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Wt(r,n),Jt(n),u&512&&(xt||a===null||Yn(a,a.return)),n.flags&32){h=n.stateNode;try{ar(h,"")}catch(ce){qe(n,n.return,ce)}}u&4&&n.stateNode!=null&&(h=n.memoizedProps,gh(n,h,a!==null?a.memoizedProps:h)),u&1024&&(xh=!0);break;case 6:if(Wt(r,n),Jt(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(ce){qe(n,n.return,ce)}}break;case 3:if(Eu=null,h=Ln,Ln=bu(r.containerInfo),Wt(r,n),Ln=h,Jt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{zr(r.containerInfo)}catch(ce){qe(n,n.return,ce)}xh&&(xh=!1,s0(n));break;case 4:u=Ln,Ln=bu(n.stateNode.containerInfo),Wt(r,n),Jt(n),Ln=u;break;case 12:Wt(r,n),Jt(n);break;case 31:Wt(r,n),Jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lu(n,u)));break;case 13:Wt(r,n),Jt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uu=Ft()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lu(n,u)));break;case 22:h=n.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,j=pi,P=xt;if(pi=j||h,xt=P||w,Wt(r,n),xt=P,pi=j,Jt(n),u&8192)e:for(r=n.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||w||pi||xt||Ds(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){w=a=r;try{if(m=w.stateNode,h)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=w.stateNode;var q=w.memoizedProps.style,B=q!=null&&q.hasOwnProperty("display")?q.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){qe(w,w.return,ce)}}}else if(r.tag===6){if(a===null){w=r;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(ce){qe(w,w.return,ce)}}}else if(r.tag===18){if(a===null){w=r;try{var U=w.stateNode;h?K0(U,!0):K0(w.stateNode,!1)}catch(ce){qe(w,w.return,ce)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,lu(n,a))));break;case 19:Wt(r,n),Jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,lu(n,u)));break;case 30:break;case 21:break;default:Wt(r,n),Jt(n)}}function Jt(n){var r=n.flags;if(r&2){try{for(var a,u=n.return;u!==null;){if(Qv(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,m=yh(n);au(n,m,h);break;case 5:var x=a.stateNode;a.flags&32&&(ar(x,""),a.flags&=-33);var S=yh(n);au(n,S,x);break;case 3:case 4:var w=a.stateNode.containerInfo,j=yh(n);vh(n,j,w);break;default:throw Error(s(161))}}catch(P){qe(n,n.return,P)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function s0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;s0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function gi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wv(n,r.alternate,r),r=r.sibling}function Ds(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Pi(4,r,r.return),Ds(r);break;case 1:Yn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Kv(r,r.return,a),Ds(r);break;case 27:tl(r.stateNode);case 26:case 5:Yn(r,r.return),Ds(r);break;case 22:r.memoizedState===null&&Ds(r);break;case 30:Ds(r);break;default:Ds(r)}n=n.sibling}}function yi(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,h=n,m=r,x=m.flags;switch(m.tag){case 0:case 11:case 15:yi(h,m,a),qa(4,m);break;case 1:if(yi(h,m,a),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){qe(u,u.return,j)}if(u=m,h=u.updateQueue,h!==null){var S=u.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)jy(w[h],S)}catch(j){qe(u,u.return,j)}}a&&x&64&&Yv(m),Ya(m,m.return);break;case 27:$v(m);case 26:case 5:yi(h,m,a),a&&u===null&&x&4&&Xv(m),Ya(m,m.return);break;case 12:yi(h,m,a);break;case 31:yi(h,m,a),a&&x&4&&t0(h,m);break;case 13:yi(h,m,a),a&&x&4&&n0(h,m);break;case 22:m.memoizedState===null&&yi(h,m,a),Ya(m,m.return);break;case 30:break;default:yi(h,m,a)}r=r.sibling}}function _h(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ka(a))}function bh(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ka(n))}function zn(n,r,a,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)r0(n,r,a,u),r=r.sibling}function r0(n,r,a,u){var h=r.flags;switch(r.tag){case 0:case 11:case 15:zn(n,r,a,u),h&2048&&qa(9,r);break;case 1:zn(n,r,a,u);break;case 3:zn(n,r,a,u),h&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ka(n)));break;case 12:if(h&2048){zn(n,r,a,u),n=r.stateNode;try{var m=r.memoizedProps,x=m.id,S=m.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(w){qe(r,r.return,w)}}else zn(n,r,a,u);break;case 31:zn(n,r,a,u);break;case 13:zn(n,r,a,u);break;case 23:break;case 22:m=r.stateNode,x=r.alternate,r.memoizedState!==null?m._visibility&2?zn(n,r,a,u):Ka(n,r):m._visibility&2?zn(n,r,a,u):(m._visibility|=2,wr(n,r,a,u,(r.subtreeFlags&10256)!==0||!1)),h&2048&&_h(x,r);break;case 24:zn(n,r,a,u),h&2048&&bh(r.alternate,r);break;default:zn(n,r,a,u)}}function wr(n,r,a,u,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,x=r,S=a,w=u,j=x.flags;switch(x.tag){case 0:case 11:case 15:wr(m,x,S,w,h),qa(8,x);break;case 23:break;case 22:var P=x.stateNode;x.memoizedState!==null?P._visibility&2?wr(m,x,S,w,h):Ka(m,x):(P._visibility|=2,wr(m,x,S,w,h)),h&&j&2048&&_h(x.alternate,x);break;case 24:wr(m,x,S,w,h),h&&j&2048&&bh(x.alternate,x);break;default:wr(m,x,S,w,h)}r=r.sibling}}function Ka(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,u=r,h=u.flags;switch(u.tag){case 22:Ka(a,u),h&2048&&_h(u.alternate,u);break;case 24:Ka(a,u),h&2048&&bh(u.alternate,u);break;default:Ka(a,u)}r=r.sibling}}var Xa=8192;function Ar(n,r,a){if(n.subtreeFlags&Xa)for(n=n.child;n!==null;)a0(n,r,a),n=n.sibling}function a0(n,r,a){switch(n.tag){case 26:Ar(n,r,a),n.flags&Xa&&n.memoizedState!==null&&QA(a,Ln,n.memoizedState,n.memoizedProps);break;case 5:Ar(n,r,a);break;case 3:case 4:var u=Ln;Ln=bu(n.stateNode.containerInfo),Ar(n,r,a),Ln=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Xa,Xa=16777216,Ar(n,r,a),Xa=u):Ar(n,r,a));break;default:Ar(n,r,a)}}function l0(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Qa(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Nt=u,u0(u,n)}l0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)o0(n),n=n.sibling}function o0(n){switch(n.tag){case 0:case 11:case 15:Qa(n),n.flags&2048&&Pi(9,n,n.return);break;case 3:Qa(n);break;case 12:Qa(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,ou(n)):Qa(n);break;default:Qa(n)}}function ou(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var u=r[a];Nt=u,u0(u,n)}l0(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Pi(8,r,r.return),ou(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,ou(r));break;default:ou(r)}n=n.sibling}}function u0(n,r){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:Pi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ka(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Nt=u;else e:for(a=n;Nt!==null;){u=Nt;var h=u.sibling,m=u.return;if(Jv(u),u===a){Nt=null;break e}if(h!==null){h.return=m,Nt=h;break e}Nt=m}}}var cA={getCacheForType:function(n){var r=It(gt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a},cacheSignal:function(){return It(gt).controller.signal}},fA=typeof WeakMap=="function"?WeakMap:Map,Pe=0,$e=null,ke=null,je=0,Ge=0,mn=null,Hi=!1,Nr=!1,Sh=!1,vi=0,ft=0,Fi=0,ks=0,Eh=0,gn=0,Rr=0,$a=null,en=null,Ch=!1,uu=0,c0=0,cu=1/0,fu=null,Gi=null,Et=0,qi=null,Mr=null,xi=0,Th=0,wh=null,f0=null,Za=0,Ah=null;function yn(){return(Pe&2)!==0&&je!==0?je&-je:L.T!==null?Oh():Ag()}function h0(){if(gn===0)if((je&536870912)===0||ze){var n=xo;xo<<=1,(xo&3932160)===0&&(xo=262144),gn=n}else gn=536870912;return n=dn.current,n!==null&&(n.flags|=32),gn}function tn(n,r,a){(n===$e&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(Dr(n,0),Yi(n,je,gn,!1)),va(n,a),((Pe&2)===0||n!==$e)&&(n===$e&&((Pe&2)===0&&(ks|=a),ft===4&&Yi(n,je,gn,!1)),Kn(n))}function d0(n,r,a){if((Pe&6)!==0)throw Error(s(327));var u=!a&&(r&127)===0&&(r&n.expiredLanes)===0||ya(n,r),h=u?pA(n,r):Rh(n,r,!0),m=u;do{if(h===0){Nr&&!u&&Yi(n,r,0,!1);break}else{if(a=n.current.alternate,m&&!hA(a)){h=Rh(n,r,!1),m=!1;continue}if(h===2){if(m=r,n.errorRecoveryDisabledLanes&m)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;e:{var S=n;h=$a;var w=S.current.memoizedState.isDehydrated;if(w&&(Dr(S,x).flags|=256),x=Rh(S,x,!1),x!==2){if(Sh&&!w){S.errorRecoveryDisabledLanes|=m,ks|=m,h=4;break e}m=en,en=h,m!==null&&(en===null?en=m:en.push.apply(en,m))}h=x}if(m=!1,h!==2)continue}}if(h===1){Dr(n,0),Yi(n,r,0,!0);break}e:{switch(u=n,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Yi(u,r,gn,!Hi);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=uu+300-Ft(),10<h)){if(Yi(u,r,gn,!Hi),bo(u,0,!0)!==0)break e;xi=r,u.timeoutHandle=G0(p0.bind(null,u,a,en,fu,Ch,r,gn,ks,Rr,Hi,m,"Throttled",-0,0),h);break e}p0(u,a,en,fu,Ch,r,gn,ks,Rr,Hi,m,null,-0,0)}}break}while(!0);Kn(n)}function p0(n,r,a,u,h,m,x,S,w,j,P,q,B,U){if(n.timeoutHandle=-1,q=r.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},a0(r,m,q);var ce=(m&62914560)===m?uu-Ft():(m&4194048)===m?c0-Ft():0;if(ce=$A(q,ce),ce!==null){xi=m,n.cancelPendingCommit=ce(S0.bind(null,n,r,m,a,u,h,x,S,w,P,q,null,B,U)),Yi(n,m,x,!j);return}}S0(n,r,m,a,u,h,x,S,w)}function hA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var h=a[u],m=h.getSnapshot;h=h.value;try{if(!fn(m(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yi(n,r,a,u){r&=~Eh,r&=~ks,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var h=r;0<h;){var m=31-Qe(h),x=1<<m;u[m]=-1,h&=~x}a!==0&&Cg(n,a,r)}function hu(){return(Pe&6)===0?(Wa(0),!1):!0}function Nh(){if(ke!==null){if(Ge===0)var n=ke.return;else n=ke,oi=Es=null,Gf(n),br=null,Ia=0,n=ke;for(;n!==null;)qv(n.alternate,n),n=n.return;ke=null}}function Dr(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,kA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),xi=0,Nh(),$e=n,ke=a=ai(n.current,null),je=r,Ge=0,mn=null,Hi=!1,Nr=ya(n,r),Sh=!1,Rr=gn=Eh=ks=Fi=ft=0,en=$a=null,Ch=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var h=31-Qe(u),m=1<<h;r|=n[h],u&=~m}return vi=r,Oo(),a}function m0(n,r){Te=null,L.H=Ha,r===_r||r===Po?(r=Dy(),Ge=3):r===kf?(r=Dy(),Ge=4):Ge=r===ah?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,mn=r,ke===null&&(ft=1,tu(n,En(r,n.current)))}function g0(){var n=dn.current;return n===null?!0:(je&4194048)===je?An===null:(je&62914560)===je||(je&536870912)!==0?n===An:!1}function y0(){var n=L.H;return L.H=Ha,n===null?Ha:n}function v0(){var n=L.A;return L.A=cA,n}function du(){ft=4,Hi||(je&4194048)!==je&&dn.current!==null||(Nr=!0),(Fi&134217727)===0&&(ks&134217727)===0||$e===null||Yi($e,je,gn,!1)}function Rh(n,r,a){var u=Pe;Pe|=2;var h=y0(),m=v0();($e!==n||je!==r)&&(fu=null,Dr(n,r)),r=!1;var x=ft;e:do try{if(Ge!==0&&ke!==null){var S=ke,w=mn;switch(Ge){case 8:Nh(),x=6;break e;case 3:case 2:case 9:case 6:dn.current===null&&(r=!0);var j=Ge;if(Ge=0,mn=null,kr(n,S,w,j),a&&Nr){x=0;break e}break;default:j=Ge,Ge=0,mn=null,kr(n,S,w,j)}}dA(),x=ft;break}catch(P){m0(n,P)}while(!0);return r&&n.shellSuspendCounter++,oi=Es=null,Pe=u,L.H=h,L.A=m,ke===null&&($e=null,je=0,Oo()),x}function dA(){for(;ke!==null;)x0(ke)}function pA(n,r){var a=Pe;Pe|=2;var u=y0(),h=v0();$e!==n||je!==r?(fu=null,cu=Ft()+500,Dr(n,r)):Nr=ya(n,r);e:do try{if(Ge!==0&&ke!==null){r=ke;var m=mn;t:switch(Ge){case 1:Ge=0,mn=null,kr(n,r,m,1);break;case 2:case 9:if(Ry(m)){Ge=0,mn=null,_0(r);break}r=function(){Ge!==2&&Ge!==9||$e!==n||(Ge=7),Kn(n)},m.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Ry(m)?(Ge=0,mn=null,_0(r)):(Ge=0,mn=null,kr(n,r,m,7));break;case 5:var x=null;switch(ke.tag){case 26:x=ke.memoizedState;case 5:case 27:var S=ke;if(x?rx(x):S.stateNode.complete){Ge=0,mn=null;var w=S.sibling;if(w!==null)ke=w;else{var j=S.return;j!==null?(ke=j,pu(j)):ke=null}break t}}Ge=0,mn=null,kr(n,r,m,5);break;case 6:Ge=0,mn=null,kr(n,r,m,6);break;case 8:Nh(),ft=6;break e;default:throw Error(s(462))}}mA();break}catch(P){m0(n,P)}while(!0);return oi=Es=null,L.H=u,L.A=h,Pe=a,ke!==null?0:($e=null,je=0,Oo(),ft)}function mA(){for(;ke!==null&&!Pc();)x0(ke)}function x0(n){var r=Fv(n.alternate,n,vi);n.memoizedProps=n.pendingProps,r===null?pu(n):ke=r}function _0(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=zv(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=zv(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:Gf(r);default:qv(a,r),r=ke=vy(r,vi),r=Fv(a,r,vi)}n.memoizedProps=n.pendingProps,r===null?pu(n):ke=r}function kr(n,r,a,u){oi=Es=null,Gf(r),br=null,Ia=0;var h=r.return;try{if(iA(n,h,r,a,je)){ft=1,tu(n,En(a,n.current)),ke=null;return}}catch(m){if(h!==null)throw ke=h,m;ft=1,tu(n,En(a,n.current)),ke=null;return}r.flags&32768?(ze||u===1?n=!0:Nr||(je&536870912)!==0?n=!1:(Hi=n=!0,(u===2||u===9||u===3||u===6)&&(u=dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),b0(r,n)):pu(r)}function pu(n){var r=n;do{if((r.flags&32768)!==0){b0(r,Hi);return}n=r.return;var a=aA(r.alternate,r,vi);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=n}while(r!==null);ft===0&&(ft=5)}function b0(n,r){do{var a=lA(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);ft=6,ke=null}function S0(n,r,a,u,h,m,x,S,w){n.cancelPendingCommit=null;do mu();while(Et!==0);if((Pe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=yf,XT(n,a,m,x,S,w),n===$e&&(ke=$e=null,je=0),Mr=r,qi=n,xi=a,Th=m,wh=h,f0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,xA(xe,function(){return A0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,h=Y.p,Y.p=2,x=Pe,Pe|=4;try{oA(n,r,a)}finally{Pe=x,Y.p=h,L.T=u}}Et=1,E0(),C0(),T0()}}function E0(){if(Et===1){Et=0;var n=qi,r=Mr,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var u=Y.p;Y.p=2;var h=Pe;Pe|=4;try{i0(r,n);var m=Ph,x=uy(n.containerInfo),S=m.focusedElem,w=m.selectionRange;if(x!==S&&S&&S.ownerDocument&&oy(S.ownerDocument.documentElement,S)){if(w!==null&&hf(S)){var j=w.start,P=w.end;if(P===void 0&&(P=j),"selectionStart"in S)S.selectionStart=j,S.selectionEnd=Math.min(P,S.value.length);else{var q=S.ownerDocument||document,B=q&&q.defaultView||window;if(B.getSelection){var U=B.getSelection(),ce=S.textContent.length,ge=Math.min(w.start,ce),Xe=w.end===void 0?ge:Math.min(w.end,ce);!U.extend&&ge>Xe&&(x=Xe,Xe=ge,ge=x);var D=ly(S,ge),N=ly(S,Xe);if(D&&N&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==N.node||U.focusOffset!==N.offset)){var I=q.createRange();I.setStart(D.node,D.offset),U.removeAllRanges(),ge>Xe?(U.addRange(I),U.extend(N.node,N.offset)):(I.setEnd(N.node,N.offset),U.addRange(I))}}}}for(q=[],U=S;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<q.length;S++){var G=q[S];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Au=!!Vh,Ph=Vh=null}finally{Pe=h,Y.p=u,L.T=a}}n.current=r,Et=2}}function C0(){if(Et===2){Et=0;var n=qi,r=Mr,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var u=Y.p;Y.p=2;var h=Pe;Pe|=4;try{Wv(n,r.alternate,r)}finally{Pe=h,Y.p=u,L.T=a}}Et=3}}function T0(){if(Et===4||Et===3){Et=0,Hc();var n=qi,r=Mr,a=xi,u=f0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Et=5:(Et=0,Mr=qi=null,w0(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Gi=null),Yc(a),r=r.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Gt,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=L.T,h=Y.p,Y.p=2,L.T=null;try{for(var m=n.onRecoverableError,x=0;x<u.length;x++){var S=u[x];m(S.value,{componentStack:S.stack})}}finally{L.T=r,Y.p=h}}(xi&3)!==0&&mu(),Kn(n),h=n.pendingLanes,(a&261930)!==0&&(h&42)!==0?n===Ah?Za++:(Za=0,Ah=n):Za=0,Wa(0)}}function w0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ka(r)))}function mu(){return E0(),C0(),T0(),A0()}function A0(){if(Et!==5)return!1;var n=qi,r=Th;Th=0;var a=Yc(xi),u=L.T,h=Y.p;try{Y.p=32>a?32:a,L.T=null,a=wh,wh=null;var m=qi,x=xi;if(Et=0,Mr=qi=null,xi=0,(Pe&6)!==0)throw Error(s(331));var S=Pe;if(Pe|=4,o0(m.current),r0(m,m.current,x,a),Pe=S,Wa(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Gt,m)}catch{}return!0}finally{Y.p=h,L.T=u,w0(n,r)}}function N0(n,r,a){r=En(a,r),r=rh(n.stateNode,r,2),n=Bi(n,r,2),n!==null&&(va(n,2),Kn(n))}function qe(n,r,a){if(n.tag===3)N0(n,n,a);else for(;r!==null;){if(r.tag===3){N0(r,n,a);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gi===null||!Gi.has(u))){n=En(a,n),a=Rv(2),u=Bi(r,a,2),u!==null&&(Mv(a,u,r,n),va(u,2),Kn(u));break}}r=r.return}}function Mh(n,r,a){var u=n.pingCache;if(u===null){u=n.pingCache=new fA;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(a)||(Sh=!0,h.add(a),n=gA.bind(null,n,r,a),r.then(n,n))}function gA(n,r,a){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,$e===n&&(je&a)===a&&(ft===4||ft===3&&(je&62914560)===je&&300>Ft()-uu?(Pe&2)===0&&Dr(n,0):Eh|=a,Rr===je&&(Rr=0)),Kn(n)}function R0(n,r){r===0&&(r=Eg()),n=_s(n,r),n!==null&&(va(n,r),Kn(n))}function yA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),R0(n,a)}function vA(n,r){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,h=n.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),R0(n,a)}function xA(n,r){return Js(n,r)}var gu=null,Or=null,Dh=!1,yu=!1,kh=!1,Ki=0;function Kn(n){n!==Or&&n.next===null&&(Or===null?gu=Or=n:Or=Or.next=n),yu=!0,Dh||(Dh=!0,bA())}function Wa(n,r){if(!kh&&yu){kh=!0;do for(var a=!1,u=gu;u!==null;){if(n!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var x=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-Qe(42|n)+1)-1,m&=h&~(x&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,O0(u,m))}else m=je,m=bo(u,u===$e?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||ya(u,m)||(a=!0,O0(u,m));u=u.next}while(a);kh=!1}}function _A(){M0()}function M0(){yu=Dh=!1;var n=0;Ki!==0&&DA()&&(n=Ki);for(var r=Ft(),a=null,u=gu;u!==null;){var h=u.next,m=D0(u,r);m===0?(u.next=null,a===null?gu=h:a.next=h,h===null&&(Or=a)):(a=u,(n!==0||(m&3)!==0)&&(yu=!0)),u=h}Et!==0&&Et!==5||Wa(n),Ki!==0&&(Ki=0)}function D0(n,r){for(var a=n.suspendedLanes,u=n.pingedLanes,h=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var x=31-Qe(m),S=1<<x,w=h[x];w===-1?((S&a)===0||(S&u)!==0)&&(h[x]=KT(S,r)):w<=r&&(n.expiredLanes|=S),m&=~S}if(r=$e,a=je,a=bo(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===r&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&ga(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ya(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(u!==null&&ga(u),Yc(a)){case 2:case 8:a=re;break;case 32:a=xe;break;case 268435456:a=Fe;break;default:a=xe}return u=k0.bind(null,n),a=Js(a,u),n.callbackPriority=r,n.callbackNode=a,r}return u!==null&&u!==null&&ga(u),n.callbackPriority=2,n.callbackNode=null,2}function k0(n,r){if(Et!==0&&Et!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(mu()&&n.callbackNode!==a)return null;var u=je;return u=bo(n,n===$e?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(d0(n,u,r),D0(n,Ft()),n.callbackNode!=null&&n.callbackNode===a?k0.bind(null,n):null)}function O0(n,r){if(mu())return null;d0(n,r,!0)}function bA(){OA(function(){(Pe&6)!==0?Js(F,_A):M0()})}function Oh(){if(Ki===0){var n=vr;n===0&&(n=vo,vo<<=1,(vo&261888)===0&&(vo=256)),Ki=n}return Ki}function I0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:To(""+n)}function j0(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function SA(n,r,a,u,h){if(r==="submit"&&a&&a.stateNode===h){var m=I0((h[Qt]||null).action),x=u.submitter;x&&(r=(r=x[Qt]||null)?I0(r.formAction):x.getAttribute("formAction"),r!==null&&(m=r,x=null));var S=new Ro("action","action",null,u,h);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ki!==0){var w=x?j0(h,x):new FormData(h);Jf(a,{pending:!0,data:w,method:h.method,action:m},null,w)}}else typeof m=="function"&&(S.preventDefault(),w=x?j0(h,x):new FormData(h),Jf(a,{pending:!0,data:w,method:h.method,action:m},m,w))},currentTarget:h}]})}}for(var Ih=0;Ih<gf.length;Ih++){var jh=gf[Ih],EA=jh.toLowerCase(),CA=jh[0].toUpperCase()+jh.slice(1);jn(EA,"on"+CA)}jn(hy,"onAnimationEnd"),jn(dy,"onAnimationIteration"),jn(py,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(Vw,"onTransitionRun"),jn(Pw,"onTransitionStart"),jn(Hw,"onTransitionCancel"),jn(my,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function L0(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],h=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var x=u.length-1;0<=x;x--){var S=u[x],w=S.instance,j=S.currentTarget;if(S=S.listener,w!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=j;try{m(h)}catch(P){ko(P)}h.currentTarget=null,m=w}else for(x=0;x<u.length;x++){if(S=u[x],w=S.instance,j=S.currentTarget,S=S.listener,w!==m&&h.isPropagationStopped())break e;m=S,h.currentTarget=j;try{m(h)}catch(P){ko(P)}h.currentTarget=null,m=w}}}}function Oe(n,r){var a=r[Kc];a===void 0&&(a=r[Kc]=new Set);var u=n+"__bubble";a.has(u)||(z0(r,n,2,!1),a.add(u))}function Lh(n,r,a){var u=0;r&&(u|=4),z0(a,n,u,r)}var vu="_reactListening"+Math.random().toString(36).slice(2);function zh(n){if(!n[vu]){n[vu]=!0,Mg.forEach(function(a){a!=="selectionchange"&&(TA.has(a)||Lh(a,!1,n),Lh(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[vu]||(r[vu]=!0,Lh("selectionchange",!1,r))}}function z0(n,r,a,u){switch(hx(r)){case 2:var h=JA;break;case 8:h=e2;break;default:h=Wh}a=h.bind(null,r,a,n),h=void 0,!nf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?n.addEventListener(r,a,{capture:!0,passive:h}):n.addEventListener(r,a,!0):h!==void 0?n.addEventListener(r,a,{passive:h}):n.addEventListener(r,a,!1)}function Bh(n,r,a,u,h){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===h)break;if(x===4)for(x=u.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;S!==null;){if(x=tr(S),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){u=m=x;continue e}S=S.parentNode}}u=u.return}Hg(function(){var j=m,P=ef(a),q=[];e:{var B=gy.get(n);if(B!==void 0){var U=Ro,ce=n;switch(n){case"keypress":if(Ao(a)===0)break e;case"keydown":case"keyup":U=vw;break;case"focusin":ce="focus",U=lf;break;case"focusout":ce="blur",U=lf;break;case"beforeblur":case"afterblur":U=lf;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=bw;break;case hy:case dy:case py:U=uw;break;case my:U=Ew;break;case"scroll":case"scrollend":U=sw;break;case"wheel":U=Tw;break;case"copy":case"cut":case"paste":U=fw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Kg;break;case"toggle":case"beforetoggle":U=Aw}var ge=(r&4)!==0,Xe=!ge&&(n==="scroll"||n==="scrollend"),D=ge?B!==null?B+"Capture":null:B;ge=[];for(var N=j,I;N!==null;){var G=N;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||D===null||(G=ba(N,D),G!=null&&ge.push(el(N,G,I))),Xe)break;N=N.return}0<ge.length&&(B=new U(B,ce,null,a,P),q.push({event:B,listeners:ge}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",U=n==="mouseout"||n==="pointerout",B&&a!==Jc&&(ce=a.relatedTarget||a.fromElement)&&(tr(ce)||ce[er]))break e;if((U||B)&&(B=P.window===P?P:(B=P.ownerDocument)?B.defaultView||B.parentWindow:window,U?(ce=a.relatedTarget||a.toElement,U=j,ce=ce?tr(ce):null,ce!==null&&(Xe=o(ce),ge=ce.tag,ce!==Xe||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(U=null,ce=j),U!==ce)){if(ge=qg,G="onMouseLeave",D="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ge=Kg,G="onPointerLeave",D="onPointerEnter",N="pointer"),Xe=U==null?B:_a(U),I=ce==null?B:_a(ce),B=new ge(G,N+"leave",U,a,P),B.target=Xe,B.relatedTarget=I,G=null,tr(P)===j&&(ge=new ge(D,N+"enter",ce,a,P),ge.target=I,ge.relatedTarget=Xe,G=ge),Xe=G,U&&ce)t:{for(ge=wA,D=U,N=ce,I=0,G=D;G;G=ge(G))I++;G=0;for(var me=N;me;me=ge(me))G++;for(;0<I-G;)D=ge(D),I--;for(;0<G-I;)N=ge(N),G--;for(;I--;){if(D===N||N!==null&&D===N.alternate){ge=D;break t}D=ge(D),N=ge(N)}ge=null}else ge=null;U!==null&&B0(q,B,U,ge,!1),ce!==null&&Xe!==null&&B0(q,Xe,ce,ge,!0)}}e:{if(B=j?_a(j):window,U=B.nodeName&&B.nodeName.toLowerCase(),U==="select"||U==="input"&&B.type==="file")var Be=ty;else if(Jg(B))if(ny)Be=zw;else{Be=jw;var de=Iw}else U=B.nodeName,!U||U.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Wc(j.elementType)&&(Be=ty):Be=Lw;if(Be&&(Be=Be(n,j))){ey(q,Be,a,P);break e}de&&de(n,B,j),n==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Zc(B,"number",B.value)}switch(de=j?_a(j):window,n){case"focusin":(Jg(de)||de.contentEditable==="true")&&(cr=de,df=j,Ra=null);break;case"focusout":Ra=df=cr=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,cy(q,a,P);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":cy(q,a,P)}var we;if(uf)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else ur?Zg(n,a)&&(Le="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(Xg&&a.locale!=="ko"&&(ur||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&ur&&(we=Fg()):(Di=P,sf="value"in Di?Di.value:Di.textContent,ur=!0)),de=xu(j,Le),0<de.length&&(Le=new Yg(Le,n,null,a,P),q.push({event:Le,listeners:de}),we?Le.data=we:(we=Wg(a),we!==null&&(Le.data=we)))),(we=Rw?Mw(n,a):Dw(n,a))&&(Le=xu(j,"onBeforeInput"),0<Le.length&&(de=new Yg("onBeforeInput","beforeinput",null,a,P),q.push({event:de,listeners:Le}),de.data=we)),SA(q,n,j,a,P)}L0(q,r)})}function el(n,r,a){return{instance:n,listener:r,currentTarget:a}}function xu(n,r){for(var a=r+"Capture",u=[];n!==null;){var h=n,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ba(n,a),h!=null&&u.unshift(el(n,h,m)),h=ba(n,r),h!=null&&u.push(el(n,h,m))),n.tag===3)return u;n=n.return}return[]}function wA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function B0(n,r,a,u,h){for(var m=r._reactName,x=[];a!==null&&a!==u;){var S=a,w=S.alternate,j=S.stateNode;if(S=S.tag,w!==null&&w===u)break;S!==5&&S!==26&&S!==27||j===null||(w=j,h?(j=ba(a,m),j!=null&&x.unshift(el(a,j,w))):h||(j=ba(a,m),j!=null&&x.push(el(a,j,w)))),a=a.return}x.length!==0&&n.push({event:r,listeners:x})}var AA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function U0(n){return(typeof n=="string"?n:""+n).replace(AA,`
`).replace(NA,"")}function V0(n,r){return r=U0(r),U0(n)===r}function Ke(n,r,a,u,h,m){switch(a){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||ar(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&ar(n,""+u);break;case"className":Eo(n,"class",u);break;case"tabIndex":Eo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Eo(n,a,u);break;case"style":Vg(n,u,m);break;case"data":if(r!=="object"){Eo(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=To(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ke(n,r,"name",h.name,h,null),Ke(n,r,"formEncType",h.formEncType,h,null),Ke(n,r,"formMethod",h.formMethod,h,null),Ke(n,r,"formTarget",h.formTarget,h,null)):(Ke(n,r,"encType",h.encType,h,null),Ke(n,r,"method",h.method,h,null),Ke(n,r,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=To(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=si);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=To(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),So(n,"popover",u);break;case"xlinkActuate":ii(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ii(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ii(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ii(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ii(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ii(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ii(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ii(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ii(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":So(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nw.get(a)||a,So(n,a,u))}}function Uh(n,r,a,u,h,m){switch(a){case"style":Vg(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(h.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof u=="string"?ar(n,u):(typeof u=="number"||typeof u=="bigint")&&ar(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dg.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),m=n[Qt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,u,h);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):So(n,a,u)}}}function Lt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(n,r,m,x,a,null)}}h&&Ke(n,r,"srcSet",a.srcSet,a,null),u&&Ke(n,r,"src",a.src,a,null);return;case"input":Oe("invalid",n);var S=m=x=h=null,w=null,j=null;for(u in a)if(a.hasOwnProperty(u)){var P=a[u];if(P!=null)switch(u){case"name":h=P;break;case"type":x=P;break;case"checked":w=P;break;case"defaultChecked":j=P;break;case"value":m=P;break;case"defaultValue":S=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:Ke(n,r,u,P,a,null)}}Lg(n,m,S,w,j,x,h,!1);return;case"select":Oe("invalid",n),u=x=m=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":m=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:Ke(n,r,h,S,a,null)}r=m,a=x,n.multiple=!!u,r!=null?rr(n,!!u,r,!1):a!=null&&rr(n,!!u,a,!0);return;case"textarea":Oe("invalid",n),m=h=u=null;for(x in a)if(a.hasOwnProperty(x)&&(S=a[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":h=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ke(n,r,x,S,a,null)}Bg(n,u,h,m);return;case"option":for(w in a)a.hasOwnProperty(w)&&(u=a[w],u!=null)&&(w==="selected"?n.selected=u&&typeof u!="function"&&typeof u!="symbol":Ke(n,r,w,u,a,null));return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<Ja.length;u++)Oe(Ja[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(u=a[j],u!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ke(n,r,j,u,a,null)}return;default:if(Wc(r)){for(P in a)a.hasOwnProperty(P)&&(u=a[P],u!==void 0&&Uh(n,r,P,u,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(u=a[S],u!=null&&Ke(n,r,S,u,a,null))}function RA(n,r,a,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,x=null,S=null,w=null,j=null,P=null;for(U in a){var q=a[U];if(a.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=q;default:u.hasOwnProperty(U)||Ke(n,r,U,null,u,q)}}for(var B in u){var U=u[B];if(q=a[B],u.hasOwnProperty(B)&&(U!=null||q!=null))switch(B){case"type":m=U;break;case"name":h=U;break;case"checked":j=U;break;case"defaultChecked":P=U;break;case"value":x=U;break;case"defaultValue":S=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:U!==q&&Ke(n,r,B,U,u,q)}}$c(n,x,S,w,j,P,m,h);return;case"select":U=x=S=B=null;for(m in a)if(w=a[m],a.hasOwnProperty(m)&&w!=null)switch(m){case"value":break;case"multiple":U=w;default:u.hasOwnProperty(m)||Ke(n,r,m,null,u,w)}for(h in u)if(m=u[h],w=a[h],u.hasOwnProperty(h)&&(m!=null||w!=null))switch(h){case"value":B=m;break;case"defaultValue":S=m;break;case"multiple":x=m;default:m!==w&&Ke(n,r,h,m,u,w)}r=S,a=x,u=U,B!=null?rr(n,!!a,B,!1):!!u!=!!a&&(r!=null?rr(n,!!a,r,!0):rr(n,!!a,a?[]:"",!1));return;case"textarea":U=B=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ke(n,r,S,null,u,h)}for(x in u)if(h=u[x],m=a[x],u.hasOwnProperty(x)&&(h!=null||m!=null))switch(x){case"value":B=h;break;case"defaultValue":U=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Ke(n,r,x,h,u,m)}zg(n,B,U);return;case"option":for(var ce in a)B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!u.hasOwnProperty(ce)&&(ce==="selected"?n.selected=!1:Ke(n,r,ce,null,u,B));for(w in u)B=u[w],U=a[w],u.hasOwnProperty(w)&&B!==U&&(B!=null||U!=null)&&(w==="selected"?n.selected=B&&typeof B!="function"&&typeof B!="symbol":Ke(n,r,w,B,u,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!u.hasOwnProperty(ge)&&Ke(n,r,ge,null,u,B);for(j in u)if(B=u[j],U=a[j],u.hasOwnProperty(j)&&B!==U&&(B!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:Ke(n,r,j,B,u,U)}return;default:if(Wc(r)){for(var Xe in a)B=a[Xe],a.hasOwnProperty(Xe)&&B!==void 0&&!u.hasOwnProperty(Xe)&&Uh(n,r,Xe,void 0,u,B);for(P in u)B=u[P],U=a[P],!u.hasOwnProperty(P)||B===U||B===void 0&&U===void 0||Uh(n,r,P,B,u,U);return}}for(var D in a)B=a[D],a.hasOwnProperty(D)&&B!=null&&!u.hasOwnProperty(D)&&Ke(n,r,D,null,u,B);for(q in u)B=u[q],U=a[q],!u.hasOwnProperty(q)||B===U||B==null&&U==null||Ke(n,r,q,B,u,U)}function P0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var h=a[u],m=h.transferSize,x=h.initiatorType,S=h.duration;if(m&&S&&P0(x)){for(x=0,S=h.responseEnd,u+=1;u<a.length;u++){var w=a[u],j=w.startTime;if(j>S)break;var P=w.transferSize,q=w.initiatorType;P&&P0(q)&&(w=w.responseEnd,x+=P*(w<S?1:(S-j)/(w-j)))}if(--u,r+=8*(m+x)/(h.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Vh=null,Ph=null;function _u(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Hh(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fh=null;function DA(){var n=window.event;return n&&n.type==="popstate"?n===Fh?!1:(Fh=n,!0):(Fh=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(n){return q0.resolve(null).then(n).catch(IA)}:G0;function IA(n){setTimeout(function(){throw n})}function Xi(n){return n==="head"}function Y0(n,r){var a=r,u=0;do{var h=a.nextSibling;if(n.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(h),zr(r);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")tl(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,tl(a);for(var m=a.firstChild;m;){var x=m.nextSibling,S=m.nodeName;m[xa]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=x}}else a==="body"&&tl(n.ownerDocument.body);a=h}while(a);zr(r)}function K0(n,r){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function Gh(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gh(a),Xc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function jA(n,r,a,u){for(;n.nodeType===1;){var h=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[xa])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Nn(n.nextSibling),n===null)break}return null}function LA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Nn(n.nextSibling),n===null))return null;return n}function X0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=Nn(n.nextSibling),n===null))return null;return n}function qh(n){return n.data==="$?"||n.data==="$~"}function Yh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zA(n,r){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||a.readyState!=="loading")r();else{var u=function(){r(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Nn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Kh=null;function Q0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(r===0)return Nn(n.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}n=n.nextSibling}return null}function $0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return n;r--}else a!=="/$"&&a!=="/&"||r++}n=n.previousSibling}return null}function Z0(n,r,a){switch(r=_u(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function tl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Xc(n)}var Rn=new Map,W0=new Set;function bu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var _i=Y.d;Y.d={f:BA,r:UA,D:VA,C:PA,L:HA,m:FA,X:qA,S:GA,M:YA};function BA(){var n=_i.f(),r=hu();return n||r}function UA(n){var r=nr(n);r!==null&&r.tag===5&&r.type==="form"?mv(r):_i.r(n)}var Ir=typeof document>"u"?null:document;function J0(n,r,a){var u=Ir;if(u&&typeof r=="string"&&r){var h=bn(r);h='link[rel="'+n+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),W0.has(h)||(W0.add(h),n={rel:n,crossOrigin:a,href:r},u.querySelector(h)===null&&(r=u.createElement("link"),Lt(r,"link",n),At(r),u.head.appendChild(r)))}}function VA(n){_i.D(n),J0("dns-prefetch",n,null)}function PA(n,r){_i.C(n,r),J0("preconnect",n,r)}function HA(n,r,a){_i.L(n,r,a);var u=Ir;if(u&&n&&r){var h='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bn(a.imageSizes)+'"]')):h+='[href="'+bn(n)+'"]';var m=h;switch(r){case"style":m=jr(n);break;case"script":m=Lr(n)}Rn.has(m)||(n=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Rn.set(m,n),u.querySelector(h)!==null||r==="style"&&u.querySelector(nl(m))||r==="script"&&u.querySelector(il(m))||(r=u.createElement("link"),Lt(r,"link",n),At(r),u.head.appendChild(r)))}}function FA(n,r){_i.m(n,r);var a=Ir;if(a&&n){var u=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(n)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Lr(n)}if(!Rn.has(m)&&(n=y({rel:"modulepreload",href:n},r),Rn.set(m,n),a.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(m)))return}u=a.createElement("link"),Lt(u,"link",n),At(u),a.head.appendChild(u)}}}function GA(n,r,a){_i.S(n,r,a);var u=Ir;if(u&&n){var h=ir(u).hoistableStyles,m=jr(n);r=r||"default";var x=h.get(m);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(nl(m)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Rn.get(m))&&Xh(n,a);var w=x=u.createElement("link");At(w),Lt(w,"link",n),w._p=new Promise(function(j,P){w.onload=j,w.onerror=P}),w.addEventListener("load",function(){S.loading|=1}),w.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Su(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:S},h.set(m,x)}}}function qA(n,r){_i.X(n,r);var a=Ir;if(a&&n){var u=ir(a).hoistableScripts,h=Lr(n),m=u.get(h);m||(m=a.querySelector(il(h)),m||(n=y({src:n,async:!0},r),(r=Rn.get(h))&&Qh(n,r),m=a.createElement("script"),At(m),Lt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function YA(n,r){_i.M(n,r);var a=Ir;if(a&&n){var u=ir(a).hoistableScripts,h=Lr(n),m=u.get(h);m||(m=a.querySelector(il(h)),m||(n=y({src:n,async:!0,type:"module"},r),(r=Rn.get(h))&&Qh(n,r),m=a.createElement("script"),At(m),Lt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function ex(n,r,a,u){var h=(h=Z.current)?bu(h):null;if(!h)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=jr(a.href),a=ir(h).hoistableStyles,u=a.get(r),u||(u={type:"style",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=jr(a.href);var m=ir(h).hoistableStyles,x=m.get(n);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,x),(m=h.querySelector(nl(n)))&&!m._p&&(x.instance=m,x.state.loading=5),Rn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(n,a),m||KA(h,n,a,x.state))),r&&u===null)throw Error(s(528,""));return x}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Lr(a),a=ir(h).hoistableScripts,u=a.get(r),u||(u={type:"script",instance:null,count:0,state:null},a.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function jr(n){return'href="'+bn(n)+'"'}function nl(n){return'link[rel="stylesheet"]['+n+"]"}function tx(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function KA(n,r,a,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Lt(r,"link",a),At(r),n.head.appendChild(r))}function Lr(n){return'[src="'+bn(n)+'"]'}function il(n){return"script[async]"+n}function nx(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+bn(a.href)+'"]');if(u)return r.instance=u,At(u),u;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),At(u),Lt(u,"style",h),Su(u,a.precedence,n),r.instance=u;case"stylesheet":h=jr(a.href);var m=n.querySelector(nl(h));if(m)return r.state.loading|=4,r.instance=m,At(m),m;u=tx(a),(h=Rn.get(h))&&Xh(u,h),m=(n.ownerDocument||n).createElement("link"),At(m);var x=m;return x._p=new Promise(function(S,w){x.onload=S,x.onerror=w}),Lt(m,"link",u),r.state.loading|=4,Su(m,a.precedence,n),r.instance=m;case"script":return m=Lr(a.src),(h=n.querySelector(il(m)))?(r.instance=h,At(h),h):(u=a,(h=Rn.get(m))&&(u=y({},a),Qh(u,h)),n=n.ownerDocument||n,h=n.createElement("script"),At(h),Lt(h,"link",u),n.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Su(u,a.precedence,n));return r.instance}function Su(n,r,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===r)m=S;else if(m!==h)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Xh(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Qh(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Eu=null;function ix(n,r,a){if(Eu===null){var u=new Map,h=Eu=new Map;h.set(a,u)}else h=Eu,u=h.get(a),u||(u=new Map,h.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),h=0;h<a.length;h++){var m=a[h];if(!(m[xa]||m[kt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(r)||"";x=n+x;var S=u.get(x);S?S.push(m):u.set(x,[m])}}return u}function sx(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function XA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function rx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function QA(n,r,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=jr(u.href),m=r.querySelector(nl(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=Cu.bind(n),r.then(n,n)),a.state.loading|=4,a.instance=m,At(m);return}m=r.ownerDocument||r,u=tx(u),(h=Rn.get(h))&&Xh(u,h),m=m.createElement("link"),At(m);var x=m;x._p=new Promise(function(S,w){x.onload=S,x.onerror=w}),Lt(m,"link",u),a.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Cu.bind(n),r.addEventListener("load",a),r.addEventListener("error",a))}}var $h=0;function $A(n,r){return n.stylesheets&&n.count===0&&wu(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&$h===0&&($h=62500*MA());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wu(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>$h?50:800)+r);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Cu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Tu=null;function wu(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Tu=new Map,r.forEach(ZA,n),Tu=null,Cu.call(n))}function ZA(n,r){if(!(r.state.loading&4)){var a=Tu.get(n);if(a)var u=a.get(null);else{a=new Map,Tu.set(n,a);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var x=h[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),u=x)}u&&a.set(null,u)}h=r.instance,x=h.getAttribute("data-precedence"),m=a.get(x)||u,m===u&&a.set(null,h),a.set(x,h),this.count++,u=Cu.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),r.state.loading|=4}}var sl={$$typeof:O,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function WA(n,r,a,u,h,m,x,S,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.hiddenUpdates=Gc(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function ax(n,r,a,u,h,m,x,S,w,j,P,q){return n=new WA(n,r,a,x,w,j,P,q,S),r=1,m===!0&&(r|=24),m=hn(3,null,null,r),n.current=m,m.stateNode=n,r=Rf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:a,cache:r},Of(m),n}function lx(n){return n?(n=dr,n):dr}function ox(n,r,a,u,h,m){h=lx(h),u.context===null?u.context=h:u.pendingContext=h,u=zi(r),u.payload={element:a},m=m===void 0?null:m,m!==null&&(u.callback=m),a=Bi(n,u,r),a!==null&&(tn(a,n,r),La(a,n,r))}function ux(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Zh(n,r){ux(n,r),(n=n.alternate)&&ux(n,r)}function cx(n){if(n.tag===13||n.tag===31){var r=_s(n,67108864);r!==null&&tn(r,n,67108864),Zh(n,67108864)}}function fx(n){if(n.tag===13||n.tag===31){var r=yn();r=qc(r);var a=_s(n,r);a!==null&&tn(a,n,r),Zh(n,r)}}var Au=!0;function JA(n,r,a,u){var h=L.T;L.T=null;var m=Y.p;try{Y.p=2,Wh(n,r,a,u)}finally{Y.p=m,L.T=h}}function e2(n,r,a,u){var h=L.T;L.T=null;var m=Y.p;try{Y.p=8,Wh(n,r,a,u)}finally{Y.p=m,L.T=h}}function Wh(n,r,a,u){if(Au){var h=Jh(u);if(h===null)Bh(n,r,u,Nu,a),dx(n,u);else if(n2(h,n,r,a,u))u.stopPropagation();else if(dx(n,u),r&4&&-1<t2.indexOf(n)){for(;h!==null;){var m=nr(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=ms(m.pendingLanes);if(x!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var w=1<<31-Qe(x);S.entanglements[1]|=w,x&=~w}Kn(m),(Pe&6)===0&&(cu=Ft()+500,Wa(0))}}break;case 31:case 13:S=_s(m,2),S!==null&&tn(S,m,2),hu(),Zh(m,2)}if(m=Jh(u),m===null&&Bh(n,r,u,Nu,a),m===h)break;h=m}h!==null&&u.stopPropagation()}else Bh(n,r,u,null,a)}}function Jh(n){return n=ef(n),ed(n)}var Nu=null;function ed(n){if(Nu=null,n=tr(n),n!==null){var r=o(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=c(r),n!==null)return n;n=null}else if(a===31){if(n=f(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Nu=n,null}function hx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fc()){case F:return 2;case re:return 8;case xe:case De:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var td=!1,Qi=null,$i=null,Zi=null,rl=new Map,al=new Map,Wi=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dx(n,r){switch(n){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(r.pointerId)}}function ll(n,r,a,u,h,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},r!==null&&(r=nr(r),r!==null&&cx(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function n2(n,r,a,u,h){switch(r){case"focusin":return Qi=ll(Qi,n,r,a,u,h),!0;case"dragenter":return $i=ll($i,n,r,a,u,h),!0;case"mouseover":return Zi=ll(Zi,n,r,a,u,h),!0;case"pointerover":var m=h.pointerId;return rl.set(m,ll(rl.get(m)||null,n,r,a,u,h)),!0;case"gotpointercapture":return m=h.pointerId,al.set(m,ll(al.get(m)||null,n,r,a,u,h)),!0}return!1}function px(n){var r=tr(n.target);if(r!==null){var a=o(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){n.blockedOn=r,Ng(n.priority,function(){fx(a)});return}}else if(r===31){if(r=f(a),r!==null){n.blockedOn=r,Ng(n.priority,function(){fx(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ru(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Jh(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);Jc=u,a.target.dispatchEvent(u),Jc=null}else return r=nr(a),r!==null&&cx(r),n.blockedOn=a,!1;r.shift()}return!0}function mx(n,r,a){Ru(n)&&a.delete(r)}function i2(){td=!1,Qi!==null&&Ru(Qi)&&(Qi=null),$i!==null&&Ru($i)&&($i=null),Zi!==null&&Ru(Zi)&&(Zi=null),rl.forEach(mx),al.forEach(mx)}function Mu(n,r){n.blockedOn===r&&(n.blockedOn=null,td||(td=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,i2)))}var Du=null;function gx(n){Du!==n&&(Du=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Du===n&&(Du=null);for(var r=0;r<n.length;r+=3){var a=n[r],u=n[r+1],h=n[r+2];if(typeof u!="function"){if(ed(u||a)===null)continue;break}var m=nr(a);m!==null&&(n.splice(r,3),r-=3,Jf(m,{pending:!0,data:h,method:a.method,action:u},u,h))}}))}function zr(n){function r(w){return Mu(w,n)}Qi!==null&&Mu(Qi,n),$i!==null&&Mu($i,n),Zi!==null&&Mu(Zi,n),rl.forEach(r),al.forEach(r);for(var a=0;a<Wi.length;a++){var u=Wi[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Wi.length&&(a=Wi[0],a.blockedOn===null);)px(a),a.blockedOn===null&&Wi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var h=a[u],m=a[u+1],x=h[Qt]||null;if(typeof m=="function")x||gx(a);else if(x){var S=null;if(m&&m.hasAttribute("formAction")){if(h=m,x=m[Qt]||null)S=x.formAction;else if(ed(h)!==null)continue}else S=x.action;typeof S=="function"?a[u+1]=S:(a.splice(u,3),u-=3),gx(a)}}}function yx(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function nd(n){this._internalRoot=n}ku.prototype.render=nd.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,u=yn();ox(a,u,n,r,null,null)},ku.prototype.unmount=nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ox(n.current,2,null,n,null,null),hu(),r[er]=null}};function ku(n){this._internalRoot=n}ku.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ag();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Wi.length&&r!==0&&r<Wi[a].priority;a++);Wi.splice(a,0,n),a===0&&px(n)}};var vx=e.version;if(vx!=="19.2.3")throw Error(s(527,vx,"19.2.3"));Y.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var s2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Gt=Ou.inject(s2),St=Ou}catch{}}return ul.createRoot=function(n,r){if(!l(n))throw Error(s(299));var a=!1,u="",h=Tv,m=wv,x=Av;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=ax(n,1,!1,null,null,a,u,null,h,m,x,yx),n[er]=r.current,zh(n),new nd(r)},ul.hydrateRoot=function(n,r,a){if(!l(n))throw Error(s(299));var u=!1,h="",m=Tv,x=wv,S=Av,w=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),r=ax(n,1,!0,r,a??null,u,h,w,m,x,S,yx),r.context=lx(null),a=r.current,u=yn(),u=qc(u),h=zi(u),h.callback=null,Bi(a,h,u),a=u,r.current.lanes=a,va(r,a),Kn(r),n[er]=r.current,zh(n),new ku(r)},ul.version="19.2.3",ul}var Nx;function m2(){if(Nx)return rd.exports;Nx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rd.exports=p2(),rd.exports}var g2=m2();const y2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v2=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),Rx=t=>{const e=v2(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bb=(...t)=>t.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),x2=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const b2=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:c,...f},p)=>ee.createElement("svg",{ref:p,..._2,width:e,height:e,stroke:t,strokeWidth:s?Number(i)*24/Number(e):i,className:Bb("lucide",l),...!o&&!x2(f)&&{"aria-hidden":"true"},...f},[...c.map(([d,g])=>ee.createElement(d,g)),...Array.isArray(o)?o:[o]]));const Ne=(t,e)=>{const i=ee.forwardRef(({className:s,...l},o)=>ee.createElement(b2,{ref:o,iconNode:e,className:Bb(`lucide-${y2(Rx(t))}`,`lucide-${t}`,s),...l}));return i.displayName=Rx(t),i};const S2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],E2=Ne("activity",S2);const C2=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]],T2=Ne("archive-restore",C2);const w2=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],A2=Ne("archive",w2);const N2=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],R2=Ne("arrow-down",N2);const M2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],D2=Ne("arrow-right",M2);const k2=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Ub=Ne("box",k2);const O2=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],I2=Ne("brain",O2);const j2=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vb=Ne("check",j2);const L2=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mx=Ne("chevron-down",L2);const z2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ud=Ne("circle-check-big",z2);const B2=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pb=Ne("copy",B2);const U2=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Hb=Ne("cpu",U2);const V2=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fb=Ne("database",V2);const P2=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],H2=Ne("download",P2);const F2=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],G2=Ne("ellipsis",F2);const q2=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Y2=Ne("eye",q2);const K2=[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]],X2=Ne("fingerprint-pattern",K2);const Q2=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],$2=Ne("hash",Q2);const Z2=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xp=Ne("key",Z2);const W2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Gb=Ne("lock",W2);const J2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],eN=Ne("log-out",J2);const tN=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],nN=Ne("menu",tN);const iN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sN=Ne("message-square",iN);const rN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],aN=Ne("monitor",rN);const lN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qp=Ne("plus",lN);const oN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],uN=Ne("refresh-cw",oN);const cN=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],fN=Ne("rocket",cN);const hN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],dN=Ne("save",hN);const pN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mN=Ne("settings",pN);const gN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yN=Ne("shield-alert",gN);const vN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],qb=Ne("shield",vN);const xN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Qu=Ne("sparkles",xN);const _N=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],bN=Ne("terminal",_N);const SN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$u=Ne("trash-2",SN);const EN=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CN=Ne("trash",EN);const TN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wN=Ne("triangle-alert",TN);const AN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NN=Ne("user",AN);const RN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],MN=Ne("x",RN);const DN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kN=Ne("zap",DN);var Dx;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})(Dx||(Dx={}));var kx;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(kx||(kx={}));var Ox;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ox||(Ox={}));const Ix=["user","model","function","system"];var jx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(jx||(jx={}));var Lx;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Lx||(Lx={}));var zx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zx||(zx={}));var Bx;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Bx||(Bx={}));var bl;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(bl||(bl={}));var Ux;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Ux||(Ux={}));var Vx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Vx||(Vx={}));var Px;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Px||(Px={}));class Vt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Br extends Vt{constructor(e,i){super(e),this.response=i}}class Yb extends Vt{constructor(e,i,s,l){super(e),this.status=i,this.statusText=s,this.errorDetails=l}}class is extends Vt{}class Kb extends Vt{}const ON="https://generativelanguage.googleapis.com",IN="v1beta",jN="0.24.1",LN="genai-js";var Fs;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Fs||(Fs={}));class zN{constructor(e,i,s,l,o){this.model=e,this.task=i,this.apiKey=s,this.stream=l,this.requestOptions=o}toString(){var e,i;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||IN;let o=`${((i=this.requestOptions)===null||i===void 0?void 0:i.baseUrl)||ON}/${s}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function BN(t){const e=[];return t?.apiClient&&e.push(t.apiClient),e.push(`${LN}/${jN}`),e.join(" ")}async function UN(t){var e;const i=new Headers;i.append("Content-Type","application/json"),i.append("x-goog-api-client",BN(t.requestOptions)),i.append("x-goog-api-key",t.apiKey);let s=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(l){throw new is(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${l.message}`)}for(const[l,o]of s.entries()){if(l==="x-goog-api-key")throw new is(`Cannot set reserved header name ${l}`);if(l==="x-goog-api-client")throw new is(`Header name ${l} can only be set using the apiClient field`);i.append(l,o)}}return i}async function VN(t,e,i,s,l,o){const c=new zN(t,e,i,s,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},GN(o)),{method:"POST",headers:await UN(c),body:l})}}async function eo(t,e,i,s,l,o={},c=fetch){const{url:f,fetchOptions:p}=await VN(t,e,i,s,l,o);return PN(f,p,c)}async function PN(t,e,i=fetch){let s;try{s=await i(t,e)}catch(l){HN(l,t)}return s.ok||await FN(s,t),s}function HN(t,e){let i=t;throw i.name==="AbortError"?(i=new Kb(`Request aborted when fetching ${e.toString()}: ${t.message}`),i.stack=t.stack):t instanceof Yb||t instanceof is||(i=new Vt(`Error fetching from ${e.toString()}: ${t.message}`),i.stack=t.stack),i}async function FN(t,e){let i="",s;try{const l=await t.json();i=l.error.message,l.error.details&&(i+=` ${JSON.stringify(l.error.details)}`,s=l.error.details)}catch{}throw new Yb(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${i}`,t.status,t.statusText,s)}function GN(t){const e={};if(t?.signal!==void 0||t?.timeout>=0){const i=new AbortController;t?.timeout>=0&&setTimeout(()=>i.abort(),t.timeout),t?.signal&&t.signal.addEventListener("abort",()=>{i.abort()}),e.signal=i.signal}return e}function $p(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Hu(t.candidates[0]))throw new Br(`${ns(t)}`,t);return qN(t)}else if(t.promptFeedback)throw new Br(`Text not available. ${ns(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hu(t.candidates[0]))throw new Br(`${ns(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Hx(t)[0]}else if(t.promptFeedback)throw new Br(`Function call not available. ${ns(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Hu(t.candidates[0]))throw new Br(`${ns(t)}`,t);return Hx(t)}else if(t.promptFeedback)throw new Br(`Function call not available. ${ns(t)}`,t)},t}function qN(t){var e,i,s,l;const o=[];if(!((i=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const c of(l=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function Hx(t){var e,i,s,l;const o=[];if(!((i=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||i===void 0)&&i.parts)for(const c of(l=(s=t.candidates)===null||s===void 0?void 0:s[0].content)===null||l===void 0?void 0:l.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const YN=[bl.RECITATION,bl.SAFETY,bl.LANGUAGE];function Hu(t){return!!t.finishReason&&YN.includes(t.finishReason)}function ns(t){var e,i,s;let l="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)l+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(l+=` due to ${t.promptFeedback.blockReason}`),!((i=t.promptFeedback)===null||i===void 0)&&i.blockReasonMessage&&(l+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((s=t.candidates)===null||s===void 0)&&s[0]){const o=t.candidates[0];Hu(o)&&(l+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(l+=`: ${o.finishMessage}`))}return l}function jl(t){return this instanceof jl?(this.v=t,this):new jl(t)}function KN(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(t,e||[]),l,o=[];return l={},c("next"),c("throw"),c("return"),l[Symbol.asyncIterator]=function(){return this},l;function c(v){s[v]&&(l[v]=function(b){return new Promise(function(C,M){o.push([v,b,C,M])>1||f(v,b)})})}function f(v,b){try{p(s[v](b))}catch(C){y(o[0][3],C)}}function p(v){v.value instanceof jl?Promise.resolve(v.value.v).then(d,g):y(o[0][2],v)}function d(v){f("next",v)}function g(v){f("throw",v)}function y(v,b){v(b),o.shift(),o.length&&f(o[0][0],o[0][1])}}const Fx=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function XN(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),i=ZN(e),[s,l]=i.tee();return{stream:$N(s),response:QN(l)}}async function QN(t){const e=[],i=t.getReader();for(;;){const{done:s,value:l}=await i.read();if(s)return $p(WN(e));e.push(l)}}function $N(t){return KN(this,arguments,function*(){const i=t.getReader();for(;;){const{value:s,done:l}=yield jl(i.read());if(l)break;yield yield jl($p(s))}})}function ZN(t){const e=t.getReader();return new ReadableStream({start(s){let l="";return o();function o(){return e.read().then(({value:c,done:f})=>{if(f){if(l.trim()){s.error(new Vt("Failed to parse stream"));return}s.close();return}l+=c;let p=l.match(Fx),d;for(;p;){try{d=JSON.parse(p[1])}catch{s.error(new Vt(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(d),l=l.substring(p[0].length),p=l.match(Fx)}return o()}).catch(c=>{let f=c;throw f.stack=c.stack,f.name==="AbortError"?f=new Kb("Request aborted when reading from the stream"):f=new Vt("Error reading from the stream"),f})}}})}function WN(t){const e=t[t.length-1],i={promptFeedback:e?.promptFeedback};for(const s of t){if(s.candidates){let l=0;for(const o of s.candidates)if(i.candidates||(i.candidates=[]),i.candidates[l]||(i.candidates[l]={index:l}),i.candidates[l].citationMetadata=o.citationMetadata,i.candidates[l].groundingMetadata=o.groundingMetadata,i.candidates[l].finishReason=o.finishReason,i.candidates[l].finishMessage=o.finishMessage,i.candidates[l].safetyRatings=o.safetyRatings,o.content&&o.content.parts){i.candidates[l].content||(i.candidates[l].content={role:o.content.role||"user",parts:[]});const c={};for(const f of o.content.parts)f.text&&(c.text=f.text),f.functionCall&&(c.functionCall=f.functionCall),f.executableCode&&(c.executableCode=f.executableCode),f.codeExecutionResult&&(c.codeExecutionResult=f.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),i.candidates[l].content.parts.push(c)}l++}s.usageMetadata&&(i.usageMetadata=s.usageMetadata)}return i}async function Xb(t,e,i,s){const l=await eo(e,Fs.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(i),s);return XN(l)}async function Qb(t,e,i,s){const o=await(await eo(e,Fs.GENERATE_CONTENT,t,!1,JSON.stringify(i),s)).json();return{response:$p(o)}}function $b(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Ll(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const i of t)typeof i=="string"?e.push({text:i}):e.push(i);return JN(e)}function JN(t){const e={role:"user",parts:[]},i={role:"function",parts:[]};let s=!1,l=!1;for(const o of t)"functionResponse"in o?(i.parts.push(o),l=!0):(e.parts.push(o),s=!0);if(s&&l)throw new Vt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!l)throw new Vt("No content is provided for sending chat message.");return s?e:i}function eR(t,e){var i;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(i=e?.cachedContent)===null||i===void 0?void 0:i.name,contents:[]};const l=t.generateContentRequest!=null;if(t.contents){if(l)throw new is("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=t.contents}else if(l)s=Object.assign(Object.assign({},s),t.generateContentRequest);else{const o=Ll(t);s.contents=[o]}return{generateContentRequest:s}}function Gx(t){let e;return t.contents?e=t:e={contents:[Ll(t)]},t.systemInstruction&&(e.systemInstruction=$b(t.systemInstruction)),e}function tR(t){return typeof t=="string"||Array.isArray(t)?{content:Ll(t)}:t}const qx=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],nR={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function iR(t){let e=!1;for(const i of t){const{role:s,parts:l}=i;if(!e&&s!=="user")throw new Vt(`First content should be with role 'user', got ${s}`);if(!Ix.includes(s))throw new Vt(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(Ix)}`);if(!Array.isArray(l))throw new Vt("Content should have 'parts' property with an array of Parts");if(l.length===0)throw new Vt("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const f of l)for(const p of qx)p in f&&(o[p]+=1);const c=nR[s];for(const f of qx)if(!c.includes(f)&&o[f]>0)throw new Vt(`Content with role '${s}' can't contain '${f}' part`);e=!0}}function Yx(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(i===void 0||i.parts===void 0||i.parts.length===0)return!1;for(const s of i.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const Kx="SILENT_ERROR";class sR{constructor(e,i,s,l={}){this.model=i,this.params=s,this._requestOptions=l,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(iR(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,i={}){var s,l,o,c,f,p;await this._sendPromise;const d=Ll(e),g={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,d]},y=Object.assign(Object.assign({},this._requestOptions),i);let v;return this._sendPromise=this._sendPromise.then(()=>Qb(this._apiKey,this.model,g,y)).then(b=>{var C;if(Yx(b.response)){this._history.push(d);const M=Object.assign({parts:[],role:"model"},(C=b.response.candidates)===null||C===void 0?void 0:C[0].content);this._history.push(M)}else{const M=ns(b.response);M&&console.warn(`sendMessage() was unsuccessful. ${M}. Inspect response object for details.`)}v=b}).catch(b=>{throw this._sendPromise=Promise.resolve(),b}),await this._sendPromise,v}async sendMessageStream(e,i={}){var s,l,o,c,f,p;await this._sendPromise;const d=Ll(e),g={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(l=this.params)===null||l===void 0?void 0:l.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(f=this.params)===null||f===void 0?void 0:f.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,d]},y=Object.assign(Object.assign({},this._requestOptions),i),v=Xb(this._apiKey,this.model,g,y);return this._sendPromise=this._sendPromise.then(()=>v).catch(b=>{throw new Error(Kx)}).then(b=>b.response).then(b=>{if(Yx(b)){this._history.push(d);const C=Object.assign({},b.candidates[0].content);C.role||(C.role="model"),this._history.push(C)}else{const C=ns(b);C&&console.warn(`sendMessageStream() was unsuccessful. ${C}. Inspect response object for details.`)}}).catch(b=>{b.message!==Kx&&console.error(b)}),v}}async function rR(t,e,i,s){return(await eo(e,Fs.COUNT_TOKENS,t,!1,JSON.stringify(i),s)).json()}async function aR(t,e,i,s){return(await eo(e,Fs.EMBED_CONTENT,t,!1,JSON.stringify(i),s)).json()}async function lR(t,e,i,s){const l=i.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await eo(e,Fs.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:l}),s)).json()}class Xx{constructor(e,i,s={}){this.apiKey=e,this._requestOptions=s,i.model.includes("/")?this.model=i.model:this.model=`models/${i.model}`,this.generationConfig=i.generationConfig||{},this.safetySettings=i.safetySettings||[],this.tools=i.tools,this.toolConfig=i.toolConfig,this.systemInstruction=$b(i.systemInstruction),this.cachedContent=i.cachedContent}async generateContent(e,i={}){var s;const l=Gx(e),o=Object.assign(Object.assign({},this._requestOptions),i);return Qb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),o)}async generateContentStream(e,i={}){var s;const l=Gx(e),o=Object.assign(Object.assign({},this._requestOptions),i);return Xb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},l),o)}startChat(e){var i;return new sR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},e),this._requestOptions)}async countTokens(e,i={}){const s=eR(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),l=Object.assign(Object.assign({},this._requestOptions),i);return rR(this.apiKey,this.model,s,l)}async embedContent(e,i={}){const s=tR(e),l=Object.assign(Object.assign({},this._requestOptions),i);return aR(this.apiKey,this.model,s,l)}async batchEmbedContents(e,i={}){const s=Object.assign(Object.assign({},this._requestOptions),i);return lR(this.apiKey,this.model,e,s)}}class oR{constructor(e){this.apiKey=e}getGenerativeModel(e,i){if(!e.model)throw new Vt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Xx(this.apiKey,e,i)}getGenerativeModelFromCachedContent(e,i,s){if(!e.name)throw new is("Cached content must contain a `name` field.");if(!e.model)throw new is("Cached content must contain a `model` field.");const l=["model","systemInstruction"];for(const c of l)if(i?.[c]&&e[c]&&i?.[c]!==e[c]){if(c==="model"){const f=i.model.startsWith("models/")?i.model.replace("models/",""):i.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(f===p)continue}throw new is(`Different value for "${c}" specified in modelParams (${i[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},i),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Xx(this.apiKey,o,s)}}class uR{usage;limits;constructor(){const e=localStorage.getItem("gemini_rate_usage");this.usage=e?JSON.parse(e):{requestsMinute:0,tokensMinute:0,requestsDay:0,lastResetMinute:Date.now(),lastResetDay:Date.now()},this.limits={PRO:{rpm:2,tpm:32e3,rpd:50},FLASH:{rpm:15,tpm:1e6,rpd:1500}}}load(){const e=localStorage.getItem("gemini_rate_usage");if(e){const i=JSON.parse(e);this.usage={...this.usage,...i}}}checkReset(){this.load();const e=Date.now();e-this.usage.lastResetMinute>6e4&&(this.usage.requestsMinute=0,this.usage.tokensMinute=0,this.usage.lastResetMinute=e),e-this.usage.lastResetDay>864e5&&(this.usage.requestsDay=0,this.usage.lastResetDay=e),this.save()}getModelType(e){return e.toLowerCase().includes("pro")?"PRO":"FLASH"}estimateTokens(e){return Math.ceil(e.length/4)}checkStatus(e){this.checkReset();const i=this.getModelType(e),s=this.limits[i],l=this.usage.requestsMinute/s.rpm,o=this.usage.tokensMinute/s.tpm,c=this.usage.requestsDay/s.rpd,f=Math.max(l,o,c);let p="GREEN",d=`[ GREEN] ${i} | RPM: ${this.usage.requestsMinute}/${s.rpm} | TPM: ${this.usage.tokensMinute}/${s.tpm} | "Safe to send"`;return f>=1?(p="RED",d=`[ RED] ${i} | LIMIT REACHED | RPM: ${this.usage.requestsMinute}/${s.rpm} | Waiting 60s...`):f>=.8&&(p="YELLOW",d=`[ YELLOW] ${i} | High Traffic | RPM: ${this.usage.requestsMinute}/${s.rpm} | Slow down safely.`),{status:p,msg:d}}logUsage(e,i){this.checkReset(),this.usage.requestsMinute++,this.usage.requestsDay++,this.usage.tokensMinute+=i,this.save()}save(){localStorage.setItem("gemini_rate_usage",JSON.stringify(this.usage))}getMetrics(){return this.usage}}class Zb{genAI;model;limiter;constructor(e){this.genAI=new oR(e),this.limiter=new uR}async generateResponse(e,i,s,l="gemini-2.0-flash",o=0){this.model=this.genAI.getGenerativeModel({model:l,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]});const{status:c,msg:f}=this.limiter.checkStatus(this.model.model);if(console.log(f),c==="RED")return` **Traffic Light RED**: Quota exceeded. ${f.replace(/.*\|/,"")}`;try{const p=i?.facts||[],d=i?.preferences||[],g=p.length>0?`
## IMPORTANT - THINGS I KNOW ABOUT ${(i?.name||"USER").toUpperCase()}:
${p.map((Q,z)=>`${z+1}. ${Q}`).join(`
`)}
`:`
(No facts stored yet about this user)
`,y=d.length>0?`
## USER PREFERENCES:
${d.map(Q=>`- ${Q}`).join(`
`)}
`:"",v=`You are Antigravity, a personal AI assistant with PERSISTENT MEMORY.

# USER PROFILE
Name: ${i.name}
Current Mood: ${i.mood}
Writing Style: ${i.writingStyle||"Standard"}
Expertise: ${i.knowledgeBase||"General"}
${g}${y}

# SYSTEM CONFIGURATION
Active Persona: ${i.persona||"Default Assistant"}
Neural Scene: ${i.neuralScene||"Standard Void"}

# CRITICAL INSTRUCTIONS:
1. You MUST remember and reference the facts listed above when relevant.
2. ADOPT the 'Active Persona' defined above. Tone and style should reflect this personality.
3. CONTEXTUALIZE responses based on the 'Neural Scene'. (e.g., if 'War Room', be strategic and direct).
4. RESPECT the user's 'Writing Style' and 'Expertise'. Don't over-explain concepts they already know.
5. If the user asks "what do you know about me?", LIST the facts above.
6. Current time: ${new Date().toLocaleString()}
${s||""}`,b=e.map(Q=>({role:Q.role==="user"?"user":"model",parts:[{text:Q.content}]}));let C=b.slice(0,-1);const M=b[b.length-1];for(;C.length>0&&C[0].role!=="user";)C.shift();console.log("Memory Context:",v),console.log("Filtered History:",C),console.log("Last Message:",M);const V=(await this.model.startChat({history:C,systemInstruction:{role:"system",parts:[{text:v}]}}).sendMessage(M.parts[0].text)).response.text(),O=this.limiter.estimateTokens(V),$=this.limiter.estimateTokens(v+JSON.stringify(e));return this.limiter.logUsage(this.model.model,$+O),V}catch(p){if(console.error("Gemini Generation Error:",p),o<2&&(p.toString().includes("429")||p.toString().includes("404"))){let d="gemini-2.5-flash";return o===1&&(d="gemini-2.0-flash"),console.warn(`Quota hit. Retry ${o+1}: Falling back to '${d}'...`),this.model=this.genAI.getGenerativeModel({model:d,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]}),this.generateResponse(e,i,s,d,o+1)}return` **API Error**: ${p.message||p.toString()}`}}async*generateResponseStream(e,i,s,l="gemini-2.0-flash",o=0){this.model=this.genAI.getGenerativeModel({model:l,safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]});try{const c=i?.facts||[],f=i?.preferences||[],p=c.length>0?`
## IMPORTANT - THINGS I KNOW ABOUT ${(i?.name||"USER").toUpperCase()}:
${c.map((k,R)=>`${R+1}. ${k}`).join(`
`)}
`:`
(No facts stored yet about this user)
`,d=f.length>0?`
## USER PREFERENCES:
${f.map(k=>`- ${k}`).join(`
`)}
`:"",g=`You are Antigravity, a personal AI assistant with PERSISTENT MEMORY.

# USER PROFILE
Name: ${i.name}
Current Mood: ${i.mood}
Writing Style: ${i.writingStyle||"Standard"}
Expertise: ${i.knowledgeBase||"General"}
${p}${d}

# SYSTEM CONFIGURATION
Active Persona: ${i.persona||"Default Assistant"}
Neural Scene: ${i.neuralScene||"Standard Void"}

# CRITICAL INSTRUCTIONS:
1. You MUST remember and reference the facts listed above when relevant.
2. ADOPT the 'Active Persona' defined above. Tone and style should reflect this personality.
3. CONTEXTUALIZE responses based on the 'Neural Scene'. (e.g., if 'War Room', be strategic and direct).
4. RESPECT the user's 'Writing Style' and 'Expertise'. Don't over-explain concepts they already know.
5. If the user asks "what do you know about me?", LIST the facts above.
6. Current time: ${new Date().toLocaleString()}
${s||""}`,y=e.map(k=>({role:k.role==="user"?"user":"model",parts:[{text:k.content}]}));let v=y.slice(0,-1);const b=y[y.length-1];for(;v.length>0&&v[0].role!=="user";)v.shift();const M=await this.model.startChat({history:v,systemInstruction:{role:"system",parts:[{text:g}]}}).sendMessageStream(b.parts[0].text);for await(const k of M.stream)yield k.text()}catch(c){if(console.error("Gemini Streaming Error:",c),o<2&&(c.toString().includes("429")||c.toString().includes("404"))){let f="gemini-2.5-flash";o===1&&(f="gemini-2.0-flash"),console.warn(`Streaming Quota hit. Retry ${o+1}: Falling back to '${f}'...`),await new Promise(d=>setTimeout(d,1e3));const p=this.generateResponseStream(e,i,s,f,o+1);for await(const d of p)yield d;return}yield` **Stream Error**: ${c.message||c.toString()}`}}async distillMemory(e,i,s=0){const l=s>0?"gemini-2.5-flash":"gemini-2.5-flash-lite",o=this.genAI.getGenerativeModel({model:l,generationConfig:{responseMimeType:"application/json"}}),c=`You are a Memory Core. Your job is to UPDATE the User Profile based on the new conversation.
        
CURRENT PROFILE (JSON):
${JSON.stringify(i)}

RECENT CONVERSATION:
${e.map(f=>`${f.role.toUpperCase()}: ${f.content}`).join(`
`)}

INSTRUCTIONS:
1. Identify any NEW facts, preferences, or personal details mentioned by the USER. (e.g. "I won the Bharat Ratna", "I like sushi").
2. MERGE these new facts into the existing 'facts' and 'preferences' arrays.
3. DO NOT remove existing facts unless explicitly contradicted.
4. Keep 'mood' updated based on recent tone.
5. Return the FULL updated JSON object.

OUTPUT FORMAT (JSON ONLY):
{"name":"string","preferences":["string"],"facts":["string"],"mood":"string","lastUpdated":${Date.now()}}`;try{console.log(`[MEMORY_CORE] Starting memory distillation on ${l}...`);let p=(await o.generateContent(c)).response.text();const d=p.indexOf("{"),g=p.lastIndexOf("}");if(d!==-1&&g!==-1)p=p.substring(d,g+1);else{const M=p.match(/```(?:json)?\s*([\s\S]*?)```/);M&&(p=M[1].trim())}const y=JSON.parse(p),v=[...new Set([...i.facts,...y.facts])],b=[...new Set([...i.preferences,...y.preferences])],C={...y,facts:v,preferences:b,lastUpdated:Date.now()};return console.log("[MEMORY_CORE] Profile updated successfully."),C}catch(f){return console.error(`[MEMORY_CORE] Distillation failed on ${l}:`,f.message),s<1&&(f.toString().includes("429")||f.toString().includes("404"))?(console.warn("[MEMORY_CORE] Switching to backup model 'gemini-2.5-flash'..."),this.distillMemory(e,i,s+1)):i}}}const cR=()=>{};var Qx={};const Wb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const ie=function(t,e){if(!t)throw aa(e)},aa=function(t){return new Error("Firebase Database ("+Wb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};const Jb=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(t.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},fR=function(t){const e=[];let i=0,s=0;for(;i<t.length;){const l=t[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const o=t[i++];e[s++]=String.fromCharCode((l&31)<<6|o&63)}else if(l>239&&l<365){const o=t[i++],c=t[i++],f=t[i++],p=((l&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const o=t[i++],c=t[i++];e[s++]=String.fromCharCode((l&15)<<12|(o&63)<<6|c&63)}}return e.join("")},Zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<t.length;l+=3){const o=t[l],c=l+1<t.length,f=c?t[l+1]:0,p=l+2<t.length,d=p?t[l+2]:0,g=o>>2,y=(o&3)<<4|f>>4;let v=(f&15)<<2|d>>6,b=d&63;p||(b=64,c||(v=64)),s.push(i[g],i[y],i[v],i[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Jb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<t.length;){const o=i[t.charAt(l++)],f=l<t.length?i[t.charAt(l)]:0;++l;const d=l<t.length?i[t.charAt(l)]:64;++l;const y=l<t.length?i[t.charAt(l)]:64;if(++l,o==null||f==null||d==null||y==null)throw new hR;const v=o<<2|f>>4;if(s.push(v),d!==64){const b=f<<4&240|d>>2;if(s.push(b),y!==64){const C=d<<6&192|y;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eS=function(t){const e=Jb(t);return Zp.encodeByteArray(e,!0)},Zu=function(t){return eS(t).replace(/\./g,"")},Qd=function(t){try{return Zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dR(t){return tS(void 0,t)}function tS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!pR(i)||(t[i]=tS(t[i],e[i]));return t}function pR(t){return t!=="__proto__"}function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const gR=()=>mR().__FIREBASE_DEFAULTS__,yR=()=>{if(typeof process>"u"||typeof Qx>"u")return;const t=Qx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Qd(t[1]);return e&&JSON.parse(e)},nS=()=>{try{return cR()||gR()||yR()||vR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xR=t=>nS()?.emulatorHosts?.[t],_R=t=>{const e=xR(t);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},iS=()=>nS()?.config;class Ec{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function Wp(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bR(t){return(await fetch(t,{credentials:"include"})).ok}function SR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(c)),""].join(".")}const Sl={};function ER(){const t={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?t.emulator.push(e):t.prod.push(e);return t}function CR(t){let e=document.getElementById(t),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),i=!0),{created:i,element:e}}let $x=!1;function TR(t,e){if(typeof window>"u"||typeof document>"u"||!Wp(window.location.host)||Sl[t]===e||Sl[t]||$x)return;Sl[t]=e;function i(v){return`__firebase__banner__${v}`}const s="__firebase__banner",o=ER().prod.length>0;function c(){const v=document.getElementById(s);v&&v.remove()}function f(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function p(v,b){v.setAttribute("width","24"),v.setAttribute("id",b),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{$x=!0,c()},v}function g(v,b){v.setAttribute("id",b),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function y(){const v=CR(s),b=i("text"),C=document.getElementById(b)||document.createElement("span"),M=i("learnmore"),k=document.getElementById(M)||document.createElement("a"),R=i("preprendIcon"),V=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const O=v.element;f(O),g(k,M);const $=d();p(V,R),O.append(V,C,k,$),document.body.appendChild(O)}o?(C.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function wR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wR())}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){return Wb.NODE_ADMIN===!0}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((t,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),t(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const DR="FirebaseError";class to extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=DR,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rS.prototype.create)}}class rS{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,o=this.errors[e],c=o?kR(o,s):"Error",f=`${this.serviceName}: ${c} (${l}).`;return new to(l,f,s)}}function kR(t,e){return t.replace(OR,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const OR=/\{\$([^}]+)}/g;function zl(t){return JSON.parse(t)}function Tt(t){return JSON.stringify(t)}const aS=function(t){let e={},i={},s={},l="";try{const o=t.split(".");e=zl(Qd(o[0])||""),i=zl(Qd(o[1])||""),l=o[2],s=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:s,signature:l}},IR=function(t){const e=aS(t),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},jR=function(t){const e=aS(t).claims;return typeof e=="object"&&e.admin===!0};function Ai(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Zx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wu(t,e,i){const s={};for(const l in t)Object.prototype.hasOwnProperty.call(t,l)&&(s[l]=e.call(i,t[l],l,t));return s}function Ju(t,e){if(t===e)return!0;const i=Object.keys(t),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const o=t[l],c=e[l];if(Wx(o)&&Wx(c)){if(!Ju(o,c))return!1}else if(o!==c)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function Wx(t){return t!==null&&typeof t=="object"}function LR(t){const e=[];for(const[i,s]of Object.entries(t))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}class zR{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const s=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)s[y]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let y=0;y<16;y++)s[y]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let y=16;y<80;y++){const v=s[y-3]^s[y-8]^s[y-14]^s[y-16];s[y]=(v<<1|v>>>31)&4294967295}let l=this.chain_[0],o=this.chain_[1],c=this.chain_[2],f=this.chain_[3],p=this.chain_[4],d,g;for(let y=0;y<80;y++){y<40?y<20?(d=f^o&(c^f),g=1518500249):(d=o^c^f,g=1859775393):y<60?(d=o&c|f&(o|c),g=2400959708):(d=o^c^f,g=3395469782);const v=(l<<5|l>>>27)+d+p+g+s[y]&4294967295;p=f,f=c,c=(o<<30|o>>>2)&4294967295,o=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const s=i-this.blockSize;let l=0;const o=this.buf_;let c=this.inbuf_;for(;l<i;){if(c===0)for(;l<=s;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(o[c]=e.charCodeAt(l),++c,++l,c===this.blockSize){this.compress_(o),c=0;break}}else for(;l<i;)if(o[c]=e[l],++c,++l,c===this.blockSize){this.compress_(o),c=0;break}}this.inbuf_=c,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let o=24;o>=0;o-=8)e[s]=this.chain_[l]>>o&255,++s;return e}}function Jp(t,e){return`${t} failed: ${e} argument `}const BR=function(t){const e=[];let i=0;for(let s=0;s<t.length;s++){let l=t.charCodeAt(s);if(l>=55296&&l<=56319){const o=l-55296;s++,ie(s<t.length,"Surrogate pair missing trail surrogate.");const c=t.charCodeAt(s)-56320;l=65536+(o<<10)+c}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Cc=function(t){let e=0;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);s<128?e++:s<2048?e+=2:s>=55296&&s<=56319?(e+=4,i++):e+=3}return e};function la(t){return t&&t._delegate?t._delegate:t}class Bl{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Is="[DEFAULT]";class UR{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new Ec;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const o=this.getOrInitializeService({instanceIdentifier:l});s.resolve(o)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);s===f&&c.resolve(l)}return l}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const o=this.instances.get(s);return o&&e(o,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:VR(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VR(t){return t===Is?void 0:t}function PR(t){return t.instantiationMode==="EAGER"}class HR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new UR(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const FR={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},GR=et.INFO,qR={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},YR=(t,e,...i)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),l=qR[e];if(l)console[l](`[${s}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lS{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=YR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const KR=(t,e)=>e.some(i=>t instanceof i);let Jx,e1;function XR(){return Jx||(Jx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oS=new WeakMap,$d=new WeakMap,uS=new WeakMap,cd=new WeakMap,em=new WeakMap;function $R(t){const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{i(ss(t.result)),l()},c=()=>{s(t.error),l()};t.addEventListener("success",o),t.addEventListener("error",c)});return e.then(i=>{i instanceof IDBCursor&&oS.set(i,t)}).catch(()=>{}),em.set(e,t),e}function ZR(t){if($d.has(t))return;const e=new Promise((i,s)=>{const l=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{i(),l()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),l()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});$d.set(t,e)}let Zd={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return $d.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uS.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ss(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WR(t){Zd=t(Zd)}function JR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=t.call(fd(this),e,...i);return uS.set(s,e.sort?e.sort():[e]),ss(s)}:QR().includes(t)?function(...e){return t.apply(fd(this),e),ss(oS.get(this))}:function(...e){return ss(t.apply(fd(this),e))}}function eM(t){return typeof t=="function"?JR(t):(t instanceof IDBTransaction&&ZR(t),KR(t,XR())?new Proxy(t,Zd):t)}function ss(t){if(t instanceof IDBRequest)return $R(t);if(cd.has(t))return cd.get(t);const e=eM(t);return e!==t&&(cd.set(t,e),em.set(e,t)),e}const fd=t=>em.get(t);function tM(t,e,{blocked:i,upgrade:s,blocking:l,terminated:o}={}){const c=indexedDB.open(t,e),f=ss(c);return s&&c.addEventListener("upgradeneeded",p=>{s(ss(c.result),p.oldVersion,p.newVersion,ss(c.transaction),p)}),i&&c.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),l&&p.addEventListener("versionchange",d=>l(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const nM=["get","getKey","getAll","getAllKeys","count"],iM=["put","add","delete","clear"],hd=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=iM.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||nM.includes(i)))return;const o=async function(c,...f){const p=this.transaction(c,l?"readwrite":"readonly");let d=p.store;return s&&(d=d.index(f.shift())),(await Promise.all([d[i](...f),l&&p.done]))[0]};return hd.set(e,o),o}WR(t=>({...t,get:(e,i,s)=>t1(e,i)||t.get(e,i,s),has:(e,i)=>!!t1(e,i)||t.has(e,i)}));class sM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(rM(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function rM(t){return t.getComponent()?.type==="VERSION"}const Wd="@firebase/app",n1="0.14.6";const Ei=new lS("@firebase/app"),aM="@firebase/app-compat",lM="@firebase/analytics-compat",oM="@firebase/analytics",uM="@firebase/app-check-compat",cM="@firebase/app-check",fM="@firebase/auth",hM="@firebase/auth-compat",dM="@firebase/database",pM="@firebase/data-connect",mM="@firebase/database-compat",gM="@firebase/functions",yM="@firebase/functions-compat",vM="@firebase/installations",xM="@firebase/installations-compat",_M="@firebase/messaging",bM="@firebase/messaging-compat",SM="@firebase/performance",EM="@firebase/performance-compat",CM="@firebase/remote-config",TM="@firebase/remote-config-compat",wM="@firebase/storage",AM="@firebase/storage-compat",NM="@firebase/firestore",RM="@firebase/ai",MM="@firebase/firestore-compat",DM="firebase",kM="12.6.0";const Jd="[DEFAULT]",OM={[Wd]:"fire-core",[aM]:"fire-core-compat",[oM]:"fire-analytics",[lM]:"fire-analytics-compat",[cM]:"fire-app-check",[uM]:"fire-app-check-compat",[fM]:"fire-auth",[hM]:"fire-auth-compat",[dM]:"fire-rtdb",[pM]:"fire-data-connect",[mM]:"fire-rtdb-compat",[gM]:"fire-fn",[yM]:"fire-fn-compat",[vM]:"fire-iid",[xM]:"fire-iid-compat",[_M]:"fire-fcm",[bM]:"fire-fcm-compat",[SM]:"fire-perf",[EM]:"fire-perf-compat",[CM]:"fire-rc",[TM]:"fire-rc-compat",[wM]:"fire-gcs",[AM]:"fire-gcs-compat",[NM]:"fire-fst",[MM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[DM]:"fire-js-all"};const ec=new Map,IM=new Map,ep=new Map;function i1(t,e){try{t.container.addComponent(e)}catch(i){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function tc(t){const e=t.name;if(ep.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const i of ec.values())i1(i,t);for(const i of IM.values())i1(i,t);return!0}function jM(t,e){const i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function LM(t){return t==null?!1:t.settings!==void 0}const zM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new rS("app","Firebase",zM);class BM{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const UM=kM;function cS(t,e={}){let i=t;typeof e!="object"&&(e={name:e});const s={name:Jd,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw rs.create("bad-app-name",{appName:String(l)});if(i||(i=iS()),!i)throw rs.create("no-options");const o=ec.get(l);if(o){if(Ju(i,o.options)&&Ju(s,o.config))return o;throw rs.create("duplicate-app",{appName:l})}const c=new HR(l);for(const p of ep.values())c.addComponent(p);const f=new BM(i,s,c);return ec.set(l,f),f}function VM(t=Jd){const e=ec.get(t);if(!e&&t===Jd&&iS())return cS();if(!e)throw rs.create("no-app",{appName:t});return e}function Xr(t,e,i){let s=OM[t]??t;i&&(s+=`-${i}`);const l=s.match(/\s|\//),o=e.match(/\s|\//);if(l||o){const c=[`Unable to register library "${s}" with version "${e}":`];l&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(c.join(" "));return}tc(new Bl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const PM="firebase-heartbeat-database",HM=1,Ul="firebase-heartbeat-store";let dd=null;function fS(){return dd||(dd=tM(PM,HM,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(t=>{throw rs.create("idb-open",{originalErrorMessage:t.message})})),dd}async function FM(t){try{const i=(await fS()).transaction(Ul),s=await i.objectStore(Ul).get(hS(t));return await i.done,s}catch(e){if(e instanceof to)Ei.warn(e.message);else{const i=rs.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(i.message)}}}async function s1(t,e){try{const s=(await fS()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,hS(t)),await s.done}catch(i){if(i instanceof to)Ei.warn(i.message);else{const s=rs.create("idb-set",{originalErrorMessage:i?.message});Ei.warn(s.message)}}}function hS(t){return`${t.name}!${t.options.appId}`}const GM=1024,qM=30;class YM{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new XM(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qM){const l=QM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r1(),{heartbeatsToSend:i,unsentEntries:s}=KM(this._heartbeatsCache.heartbeats),l=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ei.warn(e),""}}}function r1(){return new Date().toISOString().substring(0,10)}function KM(t,e=GM){const i=[];let s=t.slice();for(const l of t){const o=i.find(c=>c.agent===l.agent);if(o){if(o.dates.push(l.date),a1(i)>e){o.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),a1(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class XM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await FM(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return s1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a1(t){return Zu(JSON.stringify({version:2,heartbeats:t})).length}function QM(t){if(t.length===0)return-1;let e=0,i=t[0].date;for(let s=1;s<t.length;s++)t[s].date<i&&(i=t[s].date,e=s);return e}function $M(t){tc(new Bl("platform-logger",e=>new sM(e),"PRIVATE")),tc(new Bl("heartbeat",e=>new YM(e),"PRIVATE")),Xr(Wd,n1,t),Xr(Wd,n1,"esm2020"),Xr("fire-js","")}$M("");var ZM="firebase",WM="12.7.0";Xr(ZM,WM,"app");var l1={};const o1="@firebase/database",u1="1.1.0";let dS="";function JM(t){dS=t}class eD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:zl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class tD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Ai(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const pS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new eD(e)}}catch{}return new tD},zs=pS("localStorage"),nD=pS("sessionStorage");const Qr=new lS("@firebase/database"),iD=(function(){let t=1;return function(){return t++}})(),mS=function(t){const e=BR(t),i=new zR;i.update(e);const s=i.digest();return Zp.encodeByteArray(s)},no=function(...t){let e="";for(let i=0;i<t.length;i++){const s=t[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?e+=no.apply(null,s):typeof s=="object"?e+=Tt(s):e+=s,e+=" "}return e};let El=null,c1=!0;const sD=function(t,e){ie(!0,"Can't turn on custom loggers persistently."),Qr.logLevel=et.VERBOSE,El=Qr.log.bind(Qr)},Ut=function(...t){if(c1===!0&&(c1=!1,El===null&&nD.get("logging_enabled")===!0&&sD()),El){const e=no.apply(null,t);El(e)}},io=function(t){return function(...e){Ut(t,...e)}},tp=function(...t){const e="FIREBASE INTERNAL ERROR: "+no(...t);Qr.error(e)},Ci=function(...t){const e=`FIREBASE FATAL ERROR: ${no(...t)}`;throw Qr.error(e),new Error(e)},an=function(...t){const e="FIREBASE WARNING: "+no(...t);Qr.warn(e)},rD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&an("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aD=function(t){if(document.readyState==="complete")t();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ta="[MIN_NAME]",Gs="[MAX_NAME]",oa=function(t,e){if(t===e)return 0;if(t===ta||e===Gs)return-1;if(e===ta||t===Gs)return 1;{const i=f1(t),s=f1(e);return i!==null?s!==null?i-s===0?t.length-e.length:i-s:-1:s!==null?1:t<e?-1:1}},lD=function(t,e){return t===e?0:t<e?-1:1},cl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tt(e))},tm=function(t){if(typeof t!="object"||t===null)return Tt(t);const e=[];for(const s in t)e.push(s);e.sort();let i="{";for(let s=0;s<e.length;s++)s!==0&&(i+=","),i+=Tt(e[s]),i+=":",i+=tm(t[e[s]]);return i+="}",i},yS=function(t,e){const i=t.length;if(i<=e)return[t];const s=[];for(let l=0;l<i;l+=e)l+e>i?s.push(t.substring(l,i)):s.push(t.substring(l,l+e));return s};function on(t,e){for(const i in t)t.hasOwnProperty(i)&&e(i,t[i])}const vS=function(t){ie(!gS(t),"Invalid JSON number");const e=11,i=52,s=(1<<e-1)-1;let l,o,c,f,p;t===0?(o=0,c=0,l=1/t===-1/0?1:0):(l=t<0,t=Math.abs(t),t>=Math.pow(2,1-s)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),s),o=f+s,c=Math.round(t*Math.pow(2,i-f)-Math.pow(2,i))):(o=0,c=Math.round(t/Math.pow(2,1-s-i))));const d=[];for(p=i;p;p-=1)d.push(c%2?1:0),c=Math.floor(c/2);for(p=e;p;p-=1)d.push(o%2?1:0),o=Math.floor(o/2);d.push(l?1:0),d.reverse();const g=d.join("");let y="";for(p=0;p<64;p+=8){let v=parseInt(g.substr(p,8),2).toString(16);v.length===1&&(v="0"+v),y=y+v}return y.toLowerCase()},oD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function cD(t,e){let i="Unknown Error";t==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?i="Client doesn't have permission to access the desired data.":t==="unavailable"&&(i="The service is unavailable");const s=new Error(t+" at "+e._path.toString()+": "+i);return s.code=t.toUpperCase(),s}const fD=new RegExp("^-?(0*)\\d{1,10}$"),hD=-2147483648,dD=2147483647,f1=function(t){if(fD.test(t)){const e=Number(t);if(e>=hD&&e<=dD)return e}return null},ua=function(t){try{t()}catch(e){setTimeout(()=>{const i=e.stack||"";throw an("Exception was thrown by user callback.",i),e},Math.floor(0))}},pD=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Cl=function(t,e){const i=setTimeout(t,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class mD{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,LM(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(s=>this.appCheck=s)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){an(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gD{constructor(e,i,s){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,s):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',an(e)}}class Fu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Fu.OWNER="owner";const nm="5",xS="v",_S="s",bS="r",SS="f",ES=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CS="ls",TS="p",np="ac",wS="websocket",AS="long_polling";class NS{constructor(e,i,s,l,o=!1,c="",f=!1,p=!1,d=null){this.secure=i,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function yD(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function RS(t,e,i){ie(typeof e=="string","typeof type must == string"),ie(typeof i=="object","typeof params must == object");let s;if(e===wS)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===AS)s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yD(t)&&(i.ns=t.namespace);const l=[];return on(i,(o,c)=>{l.push(o+"="+c)}),s+l.join("&")}class vD{constructor(){this.counters_={}}incrementCounter(e,i=1){Ai(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return dR(this.counters_)}}const pd={},md={};function im(t){const e=t.toString();return pd[e]||(pd[e]=new vD),pd[e]}function xD(t,e){const i=t.toString();return md[i]||(md[i]=e()),md[i]}class _D{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&ua(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const h1="start",bD="close",SD="pLPCommand",ED="pRTLPCB",MS="id",DS="pw",kS="ser",CD="cb",TD="seg",wD="ts",AD="d",ND="dframe",OS=1870,IS=30,RD=OS-IS,MD=25e3,DD=3e4;class Hr{constructor(e,i,s,l,o,c,f){this.connId=e,this.repoInfo=i,this.applicationId=s,this.appCheckToken=l,this.authToken=o,this.transportSessionId=c,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=io(e),this.stats_=im(i),this.urlFn=p=>(this.appCheckToken&&(p[np]=this.appCheckToken),RS(i,AS,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new _D(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DD)),aD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sm((...o)=>{const[c,f,p,d,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,c===h1)this.id=f,this.password=p;else if(c===bD)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+c)},(...o)=>{const[c,f]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,f)},()=>{this.onClosed_()},this.urlFn);const s={};s[h1]="t",s[kS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[CD]=this.scriptTagHolder.uniqueCallbackIdentifier),s[xS]=nm,this.transportSessionId&&(s[_S]=this.transportSessionId),this.lastSessionId&&(s[CS]=this.lastSessionId),this.applicationId&&(s[TS]=this.applicationId),this.appCheckToken&&(s[np]=this.appCheckToken),typeof location<"u"&&location.hostname&&ES.test(location.hostname)&&(s[bS]=SS);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Hr.forceAllow_=!0}static forceDisallow(){Hr.forceDisallow_=!0}static isAvailable(){return Hr.forceAllow_?!0:!Hr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!oD()&&!uD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=eS(i),l=yS(s,RD);for(let o=0;o<l.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[o]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[ND]="t",s[MS]=e,s[DS]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Tt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class sm{constructor(e,i,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iD(),window[SD+this.uniqueCallbackIdentifier]=e,window[ED+this.uniqueCallbackIdentifier]=i,this.myIFrame=sm.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(f){Ut("frame writing exception"),f.stack&&Ut(f.stack),Ut(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ut("No IE domain setting required")}catch{const s=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MS]=this.myID,e[DS]=this.myPW,e[kS]=this.currentSerial;let i=this.urlFn(e),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IS+s.length<=OS;){const c=this.pendingSegs.shift();s=s+"&"+TD+l+"="+c.seg+"&"+wD+l+"="+c.ts+"&"+AD+l+"="+c.d,l++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,s){this.pendingSegs.push({seg:e,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(s,Math.floor(MD)),o=()=>{clearTimeout(l),s()};this.addTag(e,o)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=e,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{Ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}const kD=16384,OD=45e3;let nc=null;typeof MozWebSocket<"u"?nc=MozWebSocket:typeof WebSocket<"u"&&(nc=WebSocket);class Vn{constructor(e,i,s,l,o,c,f){this.connId=e,this.applicationId=s,this.appCheckToken=l,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=io(this.connId),this.stats_=im(i),this.connURL=Vn.connectionURL_(i,c,f,l,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,s,l,o){const c={};return c[xS]=nm,typeof location<"u"&&location.hostname&&ES.test(location.hostname)&&(c[bS]=SS),i&&(c[_S]=i),s&&(c[CS]=s),l&&(c[np]=l),o&&(c[TS]=o),RS(e,wS,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zs.set("previous_websocket_failure",!0);try{let s;NR(),this.mySock=new nc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){Vn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(e=!0)}return!e&&nc!==null&&!Vn.forceDisallow_}static previouslyFailed(){return zs.isInMemoryStorage||zs.get("previous_websocket_failure")===!0}markConnectionHealthy(){zs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=zl(i);this.onMessage(s)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ie(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(e){this.resetKeepAlive();const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=yS(i,kD);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OD))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vn.responsesRequiredToBeHealthy=2;Vn.healthyTimeout=3e4;class Vl{static get ALL_TRANSPORTS(){return[Hr,Vn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=Vn&&Vn.isAvailable();let s=i&&!Vn.previouslyFailed();if(e.webSocketOnly&&(i||an("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Vn];else{const l=this.transports_=[];for(const o of Vl.ALL_TRANSPORTS)o&&o.isAvailable()&&l.push(o);Vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vl.globalTransportInitialized_=!1;const ID=6e4,jD=5e3,LD=10*1024,zD=100*1024,gd="t",d1="d",BD="s",p1="r",UD="e",m1="o",g1="a",y1="n",v1="p",VD="h";class PD{constructor(e,i,s,l,o,c,f,p,d,g){this.id=e,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=o,this.onMessage_=c,this.onReady_=f,this.onDisconnect_=p,this.onKill_=d,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=io("c:"+this.id+":"),this.transportManager_=new Vl(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Cl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zD?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>LD?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gd in e){const i=e[gd];i===g1?this.upgradeIfSecondaryHealthy_():i===p1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===m1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=cl("t",e),s=cl("d",e);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:v1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:g1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:y1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=cl("t",e),s=cl("d",e);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=cl(gd,e);if(d1 in e){const s=e[d1];if(i===VD){const l={...s};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===y1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===BD?this.onConnectionShutdown_(s):i===p1?this.onReset_(s):i===UD?tp("Server Error: "+s):i===m1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tp("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,s=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),nm!==s&&an("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),Cl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ID))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jD))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:v1,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class jS{put(e,i,s,l){}merge(e,i,s,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,s){}onDisconnectMerge(e,i,s){}onDisconnectCancel(e,i){}reportStats(e){}}class LS{constructor(e){this.allowedEvents_=e,this.listeners_={},ie(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const s=[...this.listeners_[e]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,i)}}on(e,i,s){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:s});const l=this.getInitialEvent(e);l&&i.apply(s,l)}off(e,i,s){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let o=0;o<l.length;o++)if(l[o].callback===i&&(!s||s===l[o].context)){l.splice(o,1);return}}validateEventType_(e){ie(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class ic extends LS{static getInstance(){return new ic}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ie(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const x1=32,_1=768;class Ze{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Ve(){return new Ze("")}function Re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function os(t){return t.pieces_.length-t.pieceNum_}function tt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ze(t.pieces_,e)}function zS(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function HD(t){let e="";for(let i=t.pieceNum_;i<t.pieces_.length;i++)t.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[i])));return e||"/"}function BS(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function US(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let i=t.pieceNum_;i<t.pieces_.length-1;i++)e.push(t.pieces_[i]);return new Ze(e,0)}function wt(t,e){const i=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)i.push(t.pieces_[s]);if(e instanceof Ze)for(let s=e.pieceNum_;s<e.pieces_.length;s++)i.push(e.pieces_[s]);else{const s=e.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&i.push(s[l])}return new Ze(i,0)}function Ie(t){return t.pieceNum_>=t.pieces_.length}function Yt(t,e){const i=Re(t),s=Re(e);if(i===null)return e;if(i===s)return Yt(tt(t),tt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function rm(t,e){if(os(t)!==os(e))return!1;for(let i=t.pieceNum_,s=e.pieceNum_;i<=t.pieces_.length;i++,s++)if(t.pieces_[i]!==e.pieces_[s])return!1;return!0}function Pn(t,e){let i=t.pieceNum_,s=e.pieceNum_;if(os(t)>os(e))return!1;for(;i<t.pieces_.length;){if(t.pieces_[i]!==e.pieces_[s])return!1;++i,++s}return!0}class FD{constructor(e,i){this.errorPrefix_=i,this.parts_=BS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Cc(this.parts_[s]);VS(this)}}function GD(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Cc(e),VS(t)}function qD(t){const e=t.parts_.pop();t.byteLength_-=Cc(e),t.parts_.length>0&&(t.byteLength_-=1)}function VS(t){if(t.byteLength_>_1)throw new Error(t.errorPrefix_+"has a key path longer than "+_1+" bytes ("+t.byteLength_+").");if(t.parts_.length>x1)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+x1+") or object contains a cycle "+js(t))}function js(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}class am extends LS{static getInstance(){return new am}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[e];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(e){return ie(e==="visible","Unknown event type: "+e),[this.visible_]}}const fl=1e3,YD=300*1e3,b1=30*1e3,KD=1.3,XD=3e4,QD="server_kill",S1=3;class Si extends jS{constructor(e,i,s,l,o,c,f,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=o,this.authTokenProvider_=c,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=Si.nextPersistentConnectionId_++,this.log_=io("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=fl,this.maxReconnectDelay_=YD,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");am.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&ic.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,s){const l=++this.requestNumber_,o={r:l,a:e,b:i};this.log_(Tt(o)),ie(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),s&&(this.requestCBHash_[l]=s)}get(e){this.initConnection_();const i=new Ec,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:c=>{const f=c.d;c.s==="ok"?i.resolve(f):i.reject(f)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(e,i,s,l){this.initConnection_();const o=e._queryIdentifier,c=e._path.toString();this.log_("Listen called for "+c+" "+o),this.listens.has(c)||this.listens.set(c,new Map),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ie(!this.listens.get(c).has(o),"listen() called twice for same path/queryId.");const f={onComplete:l,hashFn:i,query:e,tag:s};this.listens.get(c).set(o,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(e){const i=e.query,s=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+s+" for "+l);const o={p:s},c="q";e.tag&&(o.q=i._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(c,o,f=>{const p=f.d,d=f.s;Si.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(l))===e&&(this.log_("listen response",f),d!=="ok"&&this.removeListen_(s,l),e.onComplete&&e.onComplete(d,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Ai(e,"w")){const s=ea(e,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();an(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jR(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=b1)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=IR(e)?"auth":"gauth",s={cred:e};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,l=>{const o=l.s,c=l.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,c))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,s=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(e,i){const s=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),ie(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,e._queryObject,i)}sendUnlisten_(e,i,s,l){this.log_("Unlisten on "+e+" for "+i);const o={p:e},c="n";l&&(o.q=s,o.t=l),this.sendRequest(c,o)}onDisconnectPut(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:s})}onDisconnectMerge(e,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:s})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,s,l){const o={p:i,d:s};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,c=>{l&&setTimeout(()=>{l(c.s,c.d)},Math.floor(0))})}put(e,i,s,l){this.putInternal("p",e,i,s,l)}merge(e,i,s,l){this.putInternal("m",e,i,s,l)}putInternal(e,i,s,l,o){this.initConnection_();const c={p:i,d:s};o!==void 0&&(c.h=o),this.outstandingPuts_.push({action:e,request:c,onComplete:l}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,s=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,s,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(o.s,o.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const o=s.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const i=e.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):tp("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ie(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XD&&(this.reconnectDelay_=fl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KD)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Si.nextConnectionId_++,o=this.lastSessionId;let c=!1,f=null;const p=function(){f?f.close():(c=!0,s())},d=function(y){ie(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:p,sendRequest:d};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);c?Ut("getToken() completed but was canceled"):(Ut("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=v&&v.token,f=new PD(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,s,b=>{an(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(QD)},o))}catch(y){this.log_("Failed to get token: "+y),c||(this.repoInfo_.nodeAdmin&&an(y),p())}}}interrupt(e){Ut("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ut("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Zx(this.interruptReasons_)&&(this.reconnectDelay_=fl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let s;i?s=i.map(o=>tm(o)).join("$"):s="default";const l=this.removeListen_(e,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const s=new Ze(e).toString();let l;if(this.listens.has(s)){const o=this.listens.get(s);l=o.get(i),o.delete(i),o.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(e,i){Ut("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=S1&&(this.reconnectDelay_=b1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Ut("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=S1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+dS.replace(/\./g,"-")]=1,sS()?e["framework.cordova"]=1:AR()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ic.getInstance().currentlyOnline();return Zx(this.interruptReasons_)&&e}}Si.nextPersistentConnectionId_=0;Si.nextConnectionId_=0;class Me{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Me(e,i)}}class Tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const s=new Me(ta,e),l=new Me(ta,i);return this.compare(s,l)!==0}minPost(){return Me.MIN}}let Iu;class PS extends Tc{static get __EMPTY_NODE(){return Iu}static set __EMPTY_NODE(e){Iu=e}compare(e,i){return oa(e.name,i.name)}isDefinedOn(e){throw aa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Me.MIN}maxPost(){return new Me(Gs,Iu)}makePost(e,i){return ie(typeof e=="string","KeyIndex indexValue must always be a string."),new Me(e,Iu)}toString(){return".key"}}const $r=new PS;class ju{constructor(e,i,s,l,o=null){this.isReverse_=l,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=i?s(e.key,i):1,l&&(c*=-1),c<0)this.isReverse_?e=e.left:e=e.right;else if(c===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Mt{constructor(e,i,s,l,o){this.key=e,this.value=i,this.color=s??Mt.RED,this.left=l??sn.EMPTY_NODE,this.right=o??sn.EMPTY_NODE}copy(e,i,s,l,o){return new Mt(e??this.key,i??this.value,s??this.color,l??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const o=s(e,l.key);return o<0?l=l.copy(null,null,null,l.left.insert(e,i,s),null):o===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return sn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let s,l;if(s=this,i(e,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(e,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(e,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Mt.RED=!0;Mt.BLACK=!1;class $D{copy(e,i,s,l,o){return this}insert(e,i,s){return new Mt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sn{constructor(e,i=sn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new sn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,Mt.BLACK,null,null))}remove(e){return new sn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mt.BLACK,null,null))}get(e){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(e,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(e){let i,s=this.root_,l=null;for(;!s.isEmpty();)if(i=this.comparator_(e,s.key),i===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ju(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new ju(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new ju(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new ju(this.root_,null,this.comparator_,!0,e)}}sn.EMPTY_NODE=new $D;function ZD(t,e){return oa(t.name,e.name)}function lm(t,e){return oa(t,e)}let ip;function WD(t){ip=t}const HS=function(t){return typeof t=="number"?"number:"+vS(t):"string:"+t},FS=function(t){if(t.isLeafNode()){const e=t.val();ie(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ai(e,".sv"),"Priority must be a string or number.")}else ie(t===ip||t.isEmpty(),"priority of unexpected type.");ie(t===ip||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let E1;class Rt{static set __childrenNodeConstructor(e){E1=e}static get __childrenNodeConstructor(){return E1}constructor(e,i=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ie(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ie(e)?this:Re(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const s=Re(e);return s===null?i:i.isEmpty()&&s!==".priority"?this:(ie(s!==".priority"||os(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(tt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+HS(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=vS(this.value_):e+=this.value_,this.lazyHash_=mS(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(ie(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,s=typeof this.value_,l=Rt.VALUE_TYPE_ORDER.indexOf(i),o=Rt.VALUE_TYPE_ORDER.indexOf(s);return ie(l>=0,"Unknown leaf type: "+i),ie(o>=0,"Unknown leaf type: "+s),l===o?s==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let GS,qS;function JD(t){GS=t}function ek(t){qS=t}class tk extends Tc{compare(e,i){const s=e.node.getPriority(),l=i.node.getPriority(),o=s.compareTo(l);return o===0?oa(e.name,i.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Me.MIN}maxPost(){return new Me(Gs,new Rt("[PRIORITY-POST]",qS))}makePost(e,i){const s=GS(e);return new Me(i,new Rt("[PRIORITY-POST]",s))}toString(){return".priority"}}const dt=new tk;const nk=Math.log(2);class ik{constructor(e){const i=o=>parseInt(Math.log(o)/nk,10),s=o=>parseInt(Array(o+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=s(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sc=function(t,e,i,s){t.sort(e);const l=function(p,d){const g=d-p;let y,v;if(g===0)return null;if(g===1)return y=t[p],v=i?i(y):y,new Mt(v,y.node,Mt.BLACK,null,null);{const b=parseInt(g/2,10)+p,C=l(p,b),M=l(b+1,d);return y=t[b],v=i?i(y):y,new Mt(v,y.node,Mt.BLACK,C,M)}},o=function(p){let d=null,g=null,y=t.length;const v=function(C,M){const k=y-C,R=y;y-=C;const V=l(k+1,R),O=t[k],$=i?i(O):O;b(new Mt($,O.node,M,null,V))},b=function(C){d?(d.left=C,d=C):(g=C,d=C)};for(let C=0;C<p.count;++C){const M=p.nextBitIsOne(),k=Math.pow(2,p.count-(C+1));M?v(k,Mt.BLACK):(v(k,Mt.BLACK),v(k,Mt.RED))}return g},c=new ik(t.length),f=o(c);return new sn(s||e,f)};let yd;const Ur={};class bi{static get Default(){return ie(Ur&&dt,"ChildrenNode.ts has not been loaded"),yd=yd||new bi({".priority":Ur},{".priority":dt}),yd}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=ea(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof sn?i:null}hasIndex(e){return Ai(this.indexSet_,e.toString())}addIndex(e,i){ie(e!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const o=i.getIterator(Me.Wrap);let c=o.getNext();for(;c;)l=l||e.isDefinedOn(c.node),s.push(c),c=o.getNext();let f;l?f=sc(s,e.getCompare()):f=Ur;const p=e.toString(),d={...this.indexSet_};d[p]=e;const g={...this.indexes_};return g[p]=f,new bi(g,d)}addToIndexes(e,i){const s=Wu(this.indexes_,(l,o)=>{const c=ea(this.indexSet_,o);if(ie(c,"Missing index implementation for "+o),l===Ur)if(c.isDefinedOn(e.node)){const f=[],p=i.getIterator(Me.Wrap);let d=p.getNext();for(;d;)d.name!==e.name&&f.push(d),d=p.getNext();return f.push(e),sc(f,c.getCompare())}else return Ur;else{const f=i.get(e.name);let p=l;return f&&(p=p.remove(new Me(e.name,f))),p.insert(e,e.node)}});return new bi(s,this.indexSet_)}removeFromIndexes(e,i){const s=Wu(this.indexes_,l=>{if(l===Ur)return l;{const o=i.get(e.name);return o?l.remove(new Me(e.name,o)):l}});return new bi(s,this.indexSet_)}}let hl;class ye{static get EMPTY_NODE(){return hl||(hl=new ye(new sn(lm),null,bi.Default))}constructor(e,i,s){this.children_=e,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&FS(this.priorityNode_),this.children_.isEmpty()&&ie(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hl}updatePriority(e){return this.children_.isEmpty()?this:new ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?hl:i}}getChild(e){const i=Re(e);return i===null?this:this.getImmediateChild(i).getChild(tt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(ie(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const s=new Me(e,i);let l,o;i.isEmpty()?(l=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(e,i),o=this.indexMap_.addToIndexes(s,this.children_));const c=l.isEmpty()?hl:this.priorityNode_;return new ye(l,c,o)}}updateChild(e,i){const s=Re(e);if(s===null)return i;{ie(Re(e)!==".priority"||os(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(tt(e),i);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let s=0,l=0,o=!0;if(this.forEachChild(dt,(c,f)=>{i[c]=f.val(e),s++,o&&ye.INTEGER_REGEXP_.test(c)?l=Math.max(l,Number(c)):o=!1}),!e&&o&&l<2*s){const c=[];for(const f in i)c[f]=i[f];return c}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+HS(this.getPriority().val())+":"),this.forEachChild(dt,(i,s)=>{const l=s.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":mS(e)}return this.lazyHash_}getPredecessorChildName(e,i,s){const l=this.resolveIndex_(s);if(l){const o=l.getPredecessorKey(new Me(e,i));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Me(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Me(i,this.children_.get(i)):null}forEachChild(e,i){const s=this.resolveIndex_(e);return s?s.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,Me.Wrap);let o=l.peek();for(;o!=null&&i.compare(o,e)<0;)l.getNext(),o=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,Me.Wrap);let o=l.peek();for(;o!=null&&i.compare(o,e)>0;)l.getNext(),o=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===so?-1:0}withIndex(e){if(e===$r||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new ye(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===$r||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(dt),l=i.getIterator(dt);let o=s.getNext(),c=l.getNext();for(;o&&c;){if(o.name!==c.name||!o.node.equals(c.node))return!1;o=s.getNext(),c=l.getNext()}return o===null&&c===null}else return!1;else return!1}}resolveIndex_(e){return e===$r?null:this.indexMap_.get(e.toString())}}ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sk extends ye{constructor(){super(new sn(lm),ye.EMPTY_NODE,bi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ye.EMPTY_NODE}isEmpty(){return!1}}const so=new sk;Object.defineProperties(Me,{MIN:{value:new Me(ta,ye.EMPTY_NODE)},MAX:{value:new Me(Gs,so)}});PS.__EMPTY_NODE=ye.EMPTY_NODE;Rt.__childrenNodeConstructor=ye;WD(so);ek(so);const rk=!0;function Dt(t,e=null){if(t===null)return ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),ie(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const i=t;return new Rt(i,Dt(e))}if(!(t instanceof Array)&&rk){const i=[];let s=!1;if(on(t,(c,f)=>{if(c.substring(0,1)!=="."){const p=Dt(f);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new Me(c,p)))}}),i.length===0)return ye.EMPTY_NODE;const o=sc(i,ZD,c=>c.name,lm);if(s){const c=sc(i,dt.getCompare());return new ye(o,Dt(e),new bi({".priority":c},{".priority":dt}))}else return new ye(o,Dt(e),bi.Default)}else{let i=ye.EMPTY_NODE;return on(t,(s,l)=>{if(Ai(t,s)&&s.substring(0,1)!=="."){const o=Dt(l);(o.isLeafNode()||!o.isEmpty())&&(i=i.updateImmediateChild(s,o))}}),i.updatePriority(Dt(e))}}JD(Dt);class ak extends Tc{constructor(e){super(),this.indexPath_=e,ie(!Ie(e)&&Re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const s=this.extractChild(e.node),l=this.extractChild(i.node),o=s.compareTo(l);return o===0?oa(e.name,i.name):o}makePost(e,i){const s=Dt(e),l=ye.EMPTY_NODE.updateChild(this.indexPath_,s);return new Me(i,l)}maxPost(){const e=ye.EMPTY_NODE.updateChild(this.indexPath_,so);return new Me(Gs,e)}toString(){return BS(this.indexPath_,0).join("/")}}class lk extends Tc{compare(e,i){const s=e.node.compareTo(i.node);return s===0?oa(e.name,i.name):s}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Me.MIN}maxPost(){return Me.MAX}makePost(e,i){const s=Dt(e);return new Me(i,s)}toString(){return".value"}}const ok=new lk;function YS(t){return{type:"value",snapshotNode:t}}function na(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Pl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Hl(t,e,i){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:i}}function uk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}class om{constructor(e){this.index_=e}updateChild(e,i,s,l,o,c){ie(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(i);return f.getChild(l).equals(s.getChild(l))&&f.isEmpty()===s.isEmpty()||(c!=null&&(s.isEmpty()?e.hasChild(i)?c.trackChildChange(Pl(i,f)):ie(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?c.trackChildChange(na(i,s)):c.trackChildChange(Hl(i,s,f))),e.isLeafNode()&&s.isEmpty())?e:e.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(e,i,s){return s!=null&&(e.isLeafNode()||e.forEachChild(dt,(l,o)=>{i.hasChild(l)||s.trackChildChange(Pl(l,o))}),i.isLeafNode()||i.forEachChild(dt,(l,o)=>{if(e.hasChild(l)){const c=e.getImmediateChild(l);c.equals(o)||s.trackChildChange(Hl(l,o,c))}else s.trackChildChange(na(l,o))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?ye.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fl{constructor(e){this.indexedFilter_=new om(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fl.getStartPost_(e),this.endPost_=Fl.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,s=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&s}updateChild(e,i,s,l,o,c){return this.matches(new Me(i,s))||(s=ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,s,l,o,c)}updateFullNode(e,i,s){i.isLeafNode()&&(i=ye.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(ye.EMPTY_NODE);const o=this;return i.forEachChild(dt,(c,f)=>{o.matches(new Me(c,f))||(l=l.updateImmediateChild(c,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class ck{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Fl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,s,l,o,c){return this.rangedFilter_.matches(new Me(i,s))||(s=ye.EMPTY_NODE),e.getImmediateChild(i).equals(s)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,s,l,o,c):this.fullLimitUpdateChild_(e,i,s,o,c)}updateFullNode(e,i,s){let l;if(i.isLeafNode()||i.isEmpty())l=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=ye.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const f=o.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))l=l.updateImmediateChild(f.name,f.node),c++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(ye.EMPTY_NODE);let o;this.reverse_?o=l.getReverseIterator(this.index_):o=l.getIterator(this.index_);let c=0;for(;o.hasNext();){const f=o.getNext();c<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?c++:l=l.updateImmediateChild(f.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,s)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,s,l,o){let c;if(this.reverse_){const y=this.index_.getCompare();c=(v,b)=>y(b,v)}else c=this.index_.getCompare();const f=e;ie(f.numChildren()===this.limit_,"");const p=new Me(i,s),d=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),g=this.rangedFilter_.matches(p);if(f.hasChild(i)){const y=f.getImmediateChild(i);let v=l.getChildAfterChild(this.index_,d,this.reverse_);for(;v!=null&&(v.name===i||f.hasChild(v.name));)v=l.getChildAfterChild(this.index_,v,this.reverse_);const b=v==null?1:c(v,p);if(g&&!s.isEmpty()&&b>=0)return o?.trackChildChange(Hl(i,s,y)),f.updateImmediateChild(i,s);{o?.trackChildChange(Pl(i,y));const M=f.updateImmediateChild(i,ye.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o?.trackChildChange(na(v.name,v.node)),M.updateImmediateChild(v.name,v.node)):M}}else return s.isEmpty()?e:g&&c(d,p)>=0?(o!=null&&(o.trackChildChange(Pl(d.name,d.node)),o.trackChildChange(na(i,s))),f.updateImmediateChild(i,s).updateImmediateChild(d.name,ye.EMPTY_NODE)):e}}class um{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ie(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ie(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return ie(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ie(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ie(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===dt}copy(){const e=new um;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fk(t){return t.loadsAllData()?new om(t.getIndex()):t.hasLimit()?new ck(t):new Fl(t)}function C1(t){const e={};if(t.isDefault())return e;let i;if(t.index_===dt?i="$priority":t.index_===ok?i="$value":t.index_===$r?i="$key":(ie(t.index_ instanceof ak,"Unrecognized index type!"),i=t.index_.toString()),e.orderBy=Tt(i),t.startSet_){const s=t.startAfterSet_?"startAfter":"startAt";e[s]=Tt(t.indexStartValue_),t.startNameSet_&&(e[s]+=","+Tt(t.indexStartName_))}if(t.endSet_){const s=t.endBeforeSet_?"endBefore":"endAt";e[s]=Tt(t.indexEndValue_),t.endNameSet_&&(e[s]+=","+Tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function T1(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let i=t.viewFrom_;i===""&&(t.isViewFromLeft()?i="l":i="r"),e.vf=i}return t.index_!==dt&&(e.i=t.index_.toString()),e}class rc extends jS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(ie(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,s,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=io("p:rest:"),this.listens_={}}listen(e,i,s,l){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const c=rc.getListenId_(e,s),f={};this.listens_[c]=f;const p=C1(e._queryParams);this.restRequest_(o+".json",p,(d,g)=>{let y=g;if(d===404&&(y=null,d=null),d===null&&this.onDataUpdate_(o,y,!1,s),ea(this.listens_,c)===f){let v;d?d===401?v="permission_denied":v="rest_error:"+d:v="ok",l(v,null)}})}unlisten(e,i){const s=rc.getListenId_(e,i);delete this.listens_[s]}get(e){const i=C1(e._queryParams),s=e._path.toString(),l=new Ec;return this.restRequest_(s+".json",i,(o,c)=>{let f=c;o===404&&(f=null,o=null),o===null?(this.onDataUpdate_(s,f,!1,null),l.resolve(f)):l.reject(new Error(f))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,o])=>{l&&l.accessToken&&(i.auth=l.accessToken),o&&o.token&&(i.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+LR(i);this.log_("Sending REST request for "+c);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(s&&f.readyState===4){this.log_("REST Response for "+c+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=zl(f.responseText)}catch{an("Failed to parse JSON response for "+c+": "+f.responseText)}s(null,p)}else f.status!==401&&f.status!==404&&an("Got unsuccessful REST response for "+c+" Status: "+f.status),s(f.status);s=null}},f.open("GET",c,!0),f.send()})}}class hk{constructor(){this.rootNode_=ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function ac(){return{value:null,children:new Map}}function KS(t,e,i){if(Ie(e))t.value=i,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,i);else{const s=Re(e);t.children.has(s)||t.children.set(s,ac());const l=t.children.get(s);e=tt(e),KS(l,e,i)}}function sp(t,e,i){t.value!==null?i(e,t.value):dk(t,(s,l)=>{const o=new Ze(e.toString()+"/"+s);sp(l,o,i)})}function dk(t,e){t.children.forEach((i,s)=>{e(s,i)})}class pk{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&on(this.last_,(s,l)=>{i[s]=i[s]-l}),this.last_=e,i}}const w1=10*1e3,mk=30*1e3,gk=300*1e3;class yk{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new pk(e);const s=w1+(mk-w1)*Math.random();Cl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const e=this.statsListener_.get(),i={};let s=!1;on(e,(l,o)=>{o>0&&Ai(this.statsToReport_,l)&&(i[l]=o,s=!0)}),s&&this.server_.reportStats(i),Cl(this.reportStats_.bind(this),Math.floor(Math.random()*2*gk))}}var Hn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function XS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class lc{constructor(e,i,s){this.path=e,this.affectedTree=i,this.revert=s,this.type=Hn.ACK_USER_WRITE,this.source=XS()}operationForChild(e){if(Ie(this.path)){if(this.affectedTree.value!=null)return ie(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ze(e));return new lc(Ve(),i,this.revert)}}else return ie(Re(this.path)===e,"operationForChild called for unrelated child."),new lc(tt(this.path),this.affectedTree,this.revert)}}class Gl{constructor(e,i){this.source=e,this.path=i,this.type=Hn.LISTEN_COMPLETE}operationForChild(e){return Ie(this.path)?new Gl(this.source,Ve()):new Gl(this.source,tt(this.path))}}class qs{constructor(e,i,s){this.source=e,this.path=i,this.snap=s,this.type=Hn.OVERWRITE}operationForChild(e){return Ie(this.path)?new qs(this.source,Ve(),this.snap.getImmediateChild(e)):new qs(this.source,tt(this.path),this.snap)}}class ql{constructor(e,i,s){this.source=e,this.path=i,this.children=s,this.type=Hn.MERGE}operationForChild(e){if(Ie(this.path)){const i=this.children.subtree(new Ze(e));return i.isEmpty()?null:i.value?new qs(this.source,Ve(),i.value):new ql(this.source,Ve(),i)}else return ie(Re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ql(this.source,tt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class us{constructor(e,i,s){this.node_=e,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ie(e))return this.isFullyInitialized()&&!this.filtered_;const i=Re(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class vk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xk(t,e,i,s){const l=[],o=[];return e.forEach(c=>{c.type==="child_changed"&&t.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(uk(c.childName,c.snapshotNode))}),dl(t,l,"child_removed",e,s,i),dl(t,l,"child_added",e,s,i),dl(t,l,"child_moved",o,s,i),dl(t,l,"child_changed",e,s,i),dl(t,l,"value",e,s,i),l}function dl(t,e,i,s,l,o){const c=s.filter(f=>f.type===i);c.sort((f,p)=>bk(t,f,p)),c.forEach(f=>{const p=_k(t,f,o);l.forEach(d=>{d.respondsTo(f.type)&&e.push(d.createEvent(p,t.query_))})})}function _k(t,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function bk(t,e,i){if(e.childName==null||i.childName==null)throw aa("Should only compare child_ events.");const s=new Me(e.childName,e.snapshotNode),l=new Me(i.childName,i.snapshotNode);return t.index_.compare(s,l)}function wc(t,e){return{eventCache:t,serverCache:e}}function Tl(t,e,i,s){return wc(new us(e,i,s),t.serverCache)}function QS(t,e,i,s){return wc(t.eventCache,new us(e,i,s))}function oc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ys(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let vd;const Sk=()=>(vd||(vd=new sn(lD)),vd);class rt{static fromObject(e){let i=new rt(null);return on(e,(s,l)=>{i=i.set(new Ze(s),l)}),i}constructor(e,i=Sk()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Ve(),value:this.value};if(Ie(e))return null;{const s=Re(e),l=this.children.get(s);if(l!==null){const o=l.findRootMostMatchingPathAndValue(tt(e),i);return o!=null?{path:wt(new Ze(s),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ie(e))return this;{const i=Re(e),s=this.children.get(i);return s!==null?s.subtree(tt(e)):new rt(null)}}set(e,i){if(Ie(e))return new rt(i,this.children);{const s=Re(e),o=(this.children.get(s)||new rt(null)).set(tt(e),i),c=this.children.insert(s,o);return new rt(this.value,c)}}remove(e){if(Ie(e))return this.children.isEmpty()?new rt(null):new rt(null,this.children);{const i=Re(e),s=this.children.get(i);if(s){const l=s.remove(tt(e));let o;return l.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,l),this.value===null&&o.isEmpty()?new rt(null):new rt(this.value,o)}else return this}}get(e){if(Ie(e))return this.value;{const i=Re(e),s=this.children.get(i);return s?s.get(tt(e)):null}}setTree(e,i){if(Ie(e))return i;{const s=Re(e),o=(this.children.get(s)||new rt(null)).setTree(tt(e),i);let c;return o.isEmpty()?c=this.children.remove(s):c=this.children.insert(s,o),new rt(this.value,c)}}fold(e){return this.fold_(Ve(),e)}fold_(e,i){const s={};return this.children.inorderTraversal((l,o)=>{s[l]=o.fold_(wt(e,l),i)}),i(e,this.value,s)}findOnPath(e,i){return this.findOnPath_(e,Ve(),i)}findOnPath_(e,i,s){const l=this.value?s(i,this.value):!1;if(l)return l;if(Ie(e))return null;{const o=Re(e),c=this.children.get(o);return c?c.findOnPath_(tt(e),wt(i,o),s):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Ve(),i)}foreachOnPath_(e,i,s){if(Ie(e))return this;{this.value&&s(i,this.value);const l=Re(e),o=this.children.get(l);return o?o.foreachOnPath_(tt(e),wt(i,l),s):new rt(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,i){this.children.inorderTraversal((s,l)=>{l.foreach_(wt(e,s),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,s)=>{s.value&&e(i,s.value)})}}class Fn{constructor(e){this.writeTree_=e}static empty(){return new Fn(new rt(null))}}function wl(t,e,i){if(Ie(e))return new Fn(new rt(i));{const s=t.writeTree_.findRootMostValueAndPath(e);if(s!=null){const l=s.path;let o=s.value;const c=Yt(l,e);return o=o.updateChild(c,i),new Fn(t.writeTree_.set(l,o))}else{const l=new rt(i),o=t.writeTree_.setTree(e,l);return new Fn(o)}}}function A1(t,e,i){let s=t;return on(i,(l,o)=>{s=wl(s,wt(e,l),o)}),s}function N1(t,e){if(Ie(e))return Fn.empty();{const i=t.writeTree_.setTree(e,new rt(null));return new Fn(i)}}function rp(t,e){return Ks(t,e)!=null}function Ks(t,e){const i=t.writeTree_.findRootMostValueAndPath(e);return i!=null?t.writeTree_.get(i.path).getChild(Yt(i.path,e)):null}function R1(t){const e=[],i=t.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(dt,(s,l)=>{e.push(new Me(s,l))}):t.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&e.push(new Me(s,l.value))}),e}function as(t,e){if(Ie(e))return t;{const i=Ks(t,e);return i!=null?new Fn(new rt(i)):new Fn(t.writeTree_.subtree(e))}}function ap(t){return t.writeTree_.isEmpty()}function ia(t,e){return $S(Ve(),t.writeTree_,e)}function $S(t,e,i){if(e.value!=null)return i.updateChild(t,e.value);{let s=null;return e.children.inorderTraversal((l,o)=>{l===".priority"?(ie(o.value!==null,"Priority writes must always be leaf nodes"),s=o.value):i=$S(wt(t,l),o,i)}),!i.getChild(t).isEmpty()&&s!==null&&(i=i.updateChild(wt(t,".priority"),s)),i}}function Ac(t,e){return eE(e,t)}function Ek(t,e,i,s,l){ie(s>t.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),t.allWrites.push({path:e,snap:i,writeId:s,visible:l}),l&&(t.visibleWrites=wl(t.visibleWrites,e,i)),t.lastWriteId=s}function Ck(t,e){for(let i=0;i<t.allWrites.length;i++){const s=t.allWrites[i];if(s.writeId===e)return s}return null}function Tk(t,e){const i=t.allWrites.findIndex(f=>f.writeId===e);ie(i>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[i];t.allWrites.splice(i,1);let l=s.visible,o=!1,c=t.allWrites.length-1;for(;l&&c>=0;){const f=t.allWrites[c];f.visible&&(c>=i&&wk(f,s.path)?l=!1:Pn(s.path,f.path)&&(o=!0)),c--}if(l){if(o)return Ak(t),!0;if(s.snap)t.visibleWrites=N1(t.visibleWrites,s.path);else{const f=s.children;on(f,p=>{t.visibleWrites=N1(t.visibleWrites,wt(s.path,p))})}return!0}else return!1}function wk(t,e){if(t.snap)return Pn(t.path,e);for(const i in t.children)if(t.children.hasOwnProperty(i)&&Pn(wt(t.path,i),e))return!0;return!1}function Ak(t){t.visibleWrites=ZS(t.allWrites,Nk,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Nk(t){return t.visible}function ZS(t,e,i){let s=Fn.empty();for(let l=0;l<t.length;++l){const o=t[l];if(e(o)){const c=o.path;let f;if(o.snap)Pn(i,c)?(f=Yt(i,c),s=wl(s,f,o.snap)):Pn(c,i)&&(f=Yt(c,i),s=wl(s,Ve(),o.snap.getChild(f)));else if(o.children){if(Pn(i,c))f=Yt(i,c),s=A1(s,f,o.children);else if(Pn(c,i))if(f=Yt(c,i),Ie(f))s=A1(s,Ve(),o.children);else{const p=ea(o.children,Re(f));if(p){const d=p.getChild(tt(f));s=wl(s,Ve(),d)}}}else throw aa("WriteRecord should have .snap or .children")}}return s}function WS(t,e,i,s,l){if(!s&&!l){const o=Ks(t.visibleWrites,e);if(o!=null)return o;{const c=as(t.visibleWrites,e);if(ap(c))return i;if(i==null&&!rp(c,Ve()))return null;{const f=i||ye.EMPTY_NODE;return ia(c,f)}}}else{const o=as(t.visibleWrites,e);if(!l&&ap(o))return i;if(!l&&i==null&&!rp(o,Ve()))return null;{const c=function(d){return(d.visible||l)&&(!s||!~s.indexOf(d.writeId))&&(Pn(d.path,e)||Pn(e,d.path))},f=ZS(t.allWrites,c,e),p=i||ye.EMPTY_NODE;return ia(f,p)}}}function Rk(t,e,i){let s=ye.EMPTY_NODE;const l=Ks(t.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(dt,(o,c)=>{s=s.updateImmediateChild(o,c)}),s;if(i){const o=as(t.visibleWrites,e);return i.forEachChild(dt,(c,f)=>{const p=ia(as(o,new Ze(c)),f);s=s.updateImmediateChild(c,p)}),R1(o).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}else{const o=as(t.visibleWrites,e);return R1(o).forEach(c=>{s=s.updateImmediateChild(c.name,c.node)}),s}}function Mk(t,e,i,s,l){ie(s||l,"Either existingEventSnap or existingServerSnap must exist");const o=wt(e,i);if(rp(t.visibleWrites,o))return null;{const c=as(t.visibleWrites,o);return ap(c)?l.getChild(i):ia(c,l.getChild(i))}}function Dk(t,e,i,s){const l=wt(e,i),o=Ks(t.visibleWrites,l);if(o!=null)return o;if(s.isCompleteForChild(i)){const c=as(t.visibleWrites,l);return ia(c,s.getNode().getImmediateChild(i))}else return null}function kk(t,e){return Ks(t.visibleWrites,e)}function Ok(t,e,i,s,l,o,c){let f;const p=as(t.visibleWrites,e),d=Ks(p,Ve());if(d!=null)f=d;else if(i!=null)f=ia(p,i);else return[];if(f=f.withIndex(c),!f.isEmpty()&&!f.isLeafNode()){const g=[],y=c.getCompare(),v=o?f.getReverseIteratorFrom(s,c):f.getIteratorFrom(s,c);let b=v.getNext();for(;b&&g.length<l;)y(b,s)!==0&&g.push(b),b=v.getNext();return g}else return[]}function Ik(){return{visibleWrites:Fn.empty(),allWrites:[],lastWriteId:-1}}function uc(t,e,i,s){return WS(t.writeTree,t.treePath,e,i,s)}function hm(t,e){return Rk(t.writeTree,t.treePath,e)}function M1(t,e,i,s){return Mk(t.writeTree,t.treePath,e,i,s)}function cc(t,e){return kk(t.writeTree,wt(t.treePath,e))}function jk(t,e,i,s,l,o){return Ok(t.writeTree,t.treePath,e,i,s,l,o)}function dm(t,e,i){return Dk(t.writeTree,t.treePath,e,i)}function JS(t,e){return eE(wt(t.treePath,e),t.writeTree)}function eE(t,e){return{treePath:t,writeTree:e}}class Lk{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,s=e.childName;ie(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),ie(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const o=l.type;if(i==="child_added"&&o==="child_removed")this.changeMap.set(s,Hl(s,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&o==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&o==="child_changed")this.changeMap.set(s,Pl(s,l.oldSnap));else if(i==="child_changed"&&o==="child_added")this.changeMap.set(s,na(s,e.snapshotNode));else if(i==="child_changed"&&o==="child_changed")this.changeMap.set(s,Hl(s,e.snapshotNode,l.oldSnap));else throw aa("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(s,e)}getChanges(){return Array.from(this.changeMap.values())}}class zk{getCompleteChild(e){return null}getChildAfterChild(e,i,s){return null}}const tE=new zk;class pm{constructor(e,i,s=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const s=this.optCompleteServerCache_!=null?new us(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dm(this.writes_,e,s)}}getChildAfterChild(e,i,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ys(this.viewCache_),o=jk(this.writes_,l,i,1,s,e);return o.length===0?null:o[0]}}function Bk(t){return{filter:t}}function Uk(t,e){ie(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),ie(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Vk(t,e,i,s,l){const o=new Lk;let c,f;if(i.type===Hn.OVERWRITE){const d=i;d.source.fromUser?c=lp(t,e,d.path,d.snap,s,l,o):(ie(d.source.fromServer,"Unknown source."),f=d.source.tagged||e.serverCache.isFiltered()&&!Ie(d.path),c=fc(t,e,d.path,d.snap,s,l,f,o))}else if(i.type===Hn.MERGE){const d=i;d.source.fromUser?c=Hk(t,e,d.path,d.children,s,l,o):(ie(d.source.fromServer,"Unknown source."),f=d.source.tagged||e.serverCache.isFiltered(),c=op(t,e,d.path,d.children,s,l,f,o))}else if(i.type===Hn.ACK_USER_WRITE){const d=i;d.revert?c=qk(t,e,d.path,s,l,o):c=Fk(t,e,d.path,d.affectedTree,s,l,o)}else if(i.type===Hn.LISTEN_COMPLETE)c=Gk(t,e,i.path,s,o);else throw aa("Unknown operation type: "+i.type);const p=o.getChanges();return Pk(e,c,p),{viewCache:c,changes:p}}function Pk(t,e,i){const s=e.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),o=oc(t);(i.length>0||!t.eventCache.isFullyInitialized()||l&&!s.getNode().equals(o)||!s.getNode().getPriority().equals(o.getPriority()))&&i.push(YS(oc(e)))}}function nE(t,e,i,s,l,o){const c=e.eventCache;if(cc(s,i)!=null)return e;{let f,p;if(Ie(i))if(ie(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const d=Ys(e),g=d instanceof ye?d:ye.EMPTY_NODE,y=hm(s,g);f=t.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const d=uc(s,Ys(e));f=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const d=Re(i);if(d===".priority"){ie(os(i)===1,"Can't have a priority with additional path components");const g=c.getNode();p=e.serverCache.getNode();const y=M1(s,i,g,p);y!=null?f=t.filter.updatePriority(g,y):f=c.getNode()}else{const g=tt(i);let y;if(c.isCompleteForChild(d)){p=e.serverCache.getNode();const v=M1(s,i,c.getNode(),p);v!=null?y=c.getNode().getImmediateChild(d).updateChild(g,v):y=c.getNode().getImmediateChild(d)}else y=dm(s,d,e.serverCache);y!=null?f=t.filter.updateChild(c.getNode(),d,y,g,l,o):f=c.getNode()}}return Tl(e,f,c.isFullyInitialized()||Ie(i),t.filter.filtersNodes())}}function fc(t,e,i,s,l,o,c,f){const p=e.serverCache;let d;const g=c?t.filter:t.filter.getIndexedFilter();if(Ie(i))d=g.updateFullNode(p.getNode(),s,null);else if(g.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(i,s);d=g.updateFullNode(p.getNode(),b,null)}else{const b=Re(i);if(!p.isCompleteForPath(i)&&os(i)>1)return e;const C=tt(i),k=p.getNode().getImmediateChild(b).updateChild(C,s);b===".priority"?d=g.updatePriority(p.getNode(),k):d=g.updateChild(p.getNode(),b,k,C,tE,null)}const y=QS(e,d,p.isFullyInitialized()||Ie(i),g.filtersNodes()),v=new pm(l,y,o);return nE(t,y,i,l,v,f)}function lp(t,e,i,s,l,o,c){const f=e.eventCache;let p,d;const g=new pm(l,e,o);if(Ie(i))d=t.filter.updateFullNode(e.eventCache.getNode(),s,c),p=Tl(e,d,!0,t.filter.filtersNodes());else{const y=Re(i);if(y===".priority")d=t.filter.updatePriority(e.eventCache.getNode(),s),p=Tl(e,d,f.isFullyInitialized(),f.isFiltered());else{const v=tt(i),b=f.getNode().getImmediateChild(y);let C;if(Ie(v))C=s;else{const M=g.getCompleteChild(y);M!=null?zS(v)===".priority"&&M.getChild(US(v)).isEmpty()?C=M:C=M.updateChild(v,s):C=ye.EMPTY_NODE}if(b.equals(C))p=e;else{const M=t.filter.updateChild(f.getNode(),y,C,v,g,c);p=Tl(e,M,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function D1(t,e){return t.eventCache.isCompleteForChild(e)}function Hk(t,e,i,s,l,o,c){let f=e;return s.foreach((p,d)=>{const g=wt(i,p);D1(e,Re(g))&&(f=lp(t,f,g,d,l,o,c))}),s.foreach((p,d)=>{const g=wt(i,p);D1(e,Re(g))||(f=lp(t,f,g,d,l,o,c))}),f}function k1(t,e,i){return i.foreach((s,l)=>{e=e.updateChild(s,l)}),e}function op(t,e,i,s,l,o,c,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,d;Ie(i)?d=s:d=new rt(null).setTree(i,s);const g=e.serverCache.getNode();return d.children.inorderTraversal((y,v)=>{if(g.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),C=k1(t,b,v);p=fc(t,p,new Ze(y),C,l,o,c,f)}}),d.children.inorderTraversal((y,v)=>{const b=!e.serverCache.isCompleteForChild(y)&&v.value===null;if(!g.hasChild(y)&&!b){const C=e.serverCache.getNode().getImmediateChild(y),M=k1(t,C,v);p=fc(t,p,new Ze(y),M,l,o,c,f)}}),p}function Fk(t,e,i,s,l,o,c){if(cc(l,i)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(s.value!=null){if(Ie(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return fc(t,e,i,p.getNode().getChild(i),l,o,f,c);if(Ie(i)){let d=new rt(null);return p.getNode().forEachChild($r,(g,y)=>{d=d.set(new Ze(g),y)}),op(t,e,i,d,l,o,f,c)}else return e}else{let d=new rt(null);return s.foreach((g,y)=>{const v=wt(i,g);p.isCompleteForPath(v)&&(d=d.set(g,p.getNode().getChild(v)))}),op(t,e,i,d,l,o,f,c)}}function Gk(t,e,i,s,l){const o=e.serverCache,c=QS(e,o.getNode(),o.isFullyInitialized()||Ie(i),o.isFiltered());return nE(t,c,i,s,tE,l)}function qk(t,e,i,s,l,o){let c;if(cc(s,i)!=null)return e;{const f=new pm(s,e,l),p=e.eventCache.getNode();let d;if(Ie(i)||Re(i)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=uc(s,Ys(e));else{const y=e.serverCache.getNode();ie(y instanceof ye,"serverChildren would be complete if leaf node"),g=hm(s,y)}g=g,d=t.filter.updateFullNode(p,g,o)}else{const g=Re(i);let y=dm(s,g,e.serverCache);y==null&&e.serverCache.isCompleteForChild(g)&&(y=p.getImmediateChild(g)),y!=null?d=t.filter.updateChild(p,g,y,tt(i),f,o):e.eventCache.getNode().hasChild(g)?d=t.filter.updateChild(p,g,ye.EMPTY_NODE,tt(i),f,o):d=p,d.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=uc(s,Ys(e)),c.isLeafNode()&&(d=t.filter.updateFullNode(d,c,o)))}return c=e.serverCache.isFullyInitialized()||cc(s,Ve())!=null,Tl(e,d,c,t.filter.filtersNodes())}}class Yk{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new om(s.getIndex()),o=fk(s);this.processor_=Bk(o);const c=i.serverCache,f=i.eventCache,p=l.updateFullNode(ye.EMPTY_NODE,c.getNode(),null),d=o.updateFullNode(ye.EMPTY_NODE,f.getNode(),null),g=new us(p,c.isFullyInitialized(),l.filtersNodes()),y=new us(d,f.isFullyInitialized(),o.filtersNodes());this.viewCache_=wc(y,g),this.eventGenerator_=new vk(this.query_)}get query(){return this.query_}}function Kk(t){return t.viewCache_.serverCache.getNode()}function Xk(t){return oc(t.viewCache_)}function Qk(t,e){const i=Ys(t.viewCache_);return i&&(t.query._queryParams.loadsAllData()||!Ie(e)&&!i.getImmediateChild(Re(e)).isEmpty())?i.getChild(e):null}function O1(t){return t.eventRegistrations_.length===0}function $k(t,e){t.eventRegistrations_.push(e)}function I1(t,e,i){const s=[];if(i){ie(e==null,"A cancel should cancel all event registrations.");const l=t.query._path;t.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(i,l);c&&s.push(c)})}if(e){let l=[];for(let o=0;o<t.eventRegistrations_.length;++o){const c=t.eventRegistrations_[o];if(!c.matches(e))l.push(c);else if(e.hasAnyCallback()){l=l.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=l}else t.eventRegistrations_=[];return s}function j1(t,e,i,s){e.type===Hn.MERGE&&e.source.queryId!==null&&(ie(Ys(t.viewCache_),"We should always have a full cache before handling merges"),ie(oc(t.viewCache_),"Missing event cache, even though we have a server cache"));const l=t.viewCache_,o=Vk(t.processor_,l,e,i,s);return Uk(t.processor_,o.viewCache),ie(o.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,iE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Zk(t,e){const i=t.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(dt,(o,c)=>{s.push(na(o,c))}),i.isFullyInitialized()&&s.push(YS(i.getNode())),iE(t,s,i.getNode(),e)}function iE(t,e,i,s){const l=s?[s]:t.eventRegistrations_;return xk(t.eventGenerator_,e,i,l)}let hc;class sE{constructor(){this.views=new Map}}function Wk(t){ie(!hc,"__referenceConstructor has already been defined"),hc=t}function Jk(){return ie(hc,"Reference.ts has not been loaded"),hc}function eO(t){return t.views.size===0}function mm(t,e,i,s){const l=e.source.queryId;if(l!==null){const o=t.views.get(l);return ie(o!=null,"SyncTree gave us an op for an invalid query."),j1(o,e,i,s)}else{let o=[];for(const c of t.views.values())o=o.concat(j1(c,e,i,s));return o}}function rE(t,e,i,s,l){const o=e._queryIdentifier,c=t.views.get(o);if(!c){let f=uc(i,l?s:null),p=!1;f?p=!0:s instanceof ye?(f=hm(i,s),p=!1):(f=ye.EMPTY_NODE,p=!1);const d=wc(new us(f,p,!1),new us(s,l,!1));return new Yk(e,d)}return c}function tO(t,e,i,s,l,o){const c=rE(t,e,s,l,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,c),$k(c,i),Zk(c,i)}function nO(t,e,i,s){const l=e._queryIdentifier,o=[];let c=[];const f=cs(t);if(l==="default")for(const[p,d]of t.views.entries())c=c.concat(I1(d,i,s)),O1(d)&&(t.views.delete(p),d.query._queryParams.loadsAllData()||o.push(d.query));else{const p=t.views.get(l);p&&(c=c.concat(I1(p,i,s)),O1(p)&&(t.views.delete(l),p.query._queryParams.loadsAllData()||o.push(p.query)))}return f&&!cs(t)&&o.push(new(Jk())(e._repo,e._path)),{removed:o,events:c}}function aE(t){const e=[];for(const i of t.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ls(t,e){let i=null;for(const s of t.views.values())i=i||Qk(s,e);return i}function lE(t,e){if(e._queryParams.loadsAllData())return Nc(t);{const s=e._queryIdentifier;return t.views.get(s)}}function oE(t,e){return lE(t,e)!=null}function cs(t){return Nc(t)!=null}function Nc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let dc;function iO(t){ie(!dc,"__referenceConstructor has already been defined"),dc=t}function sO(){return ie(dc,"Reference.ts has not been loaded"),dc}let rO=1;class L1{constructor(e){this.listenProvider_=e,this.syncPointTree_=new rt(null),this.pendingWriteTree_=Ik(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uE(t,e,i,s,l){return Ek(t.pendingWriteTree_,e,i,s,l),l?ao(t,new qs(XS(),e,i)):[]}function Bs(t,e,i=!1){const s=Ck(t.pendingWriteTree_,e);if(Tk(t.pendingWriteTree_,e)){let o=new rt(null);return s.snap!=null?o=o.set(Ve(),!0):on(s.children,c=>{o=o.set(new Ze(c),!0)}),ao(t,new lc(s.path,o,i))}else return[]}function ro(t,e,i){return ao(t,new qs(cm(),e,i))}function aO(t,e,i){const s=rt.fromObject(i);return ao(t,new ql(cm(),e,s))}function lO(t,e){return ao(t,new Gl(cm(),e))}function oO(t,e,i){const s=ym(t,i);if(s){const l=vm(s),o=l.path,c=l.queryId,f=Yt(o,e),p=new Gl(fm(c),f);return xm(t,o,p)}else return[]}function pc(t,e,i,s,l=!1){const o=e._path,c=t.syncPointTree_.get(o);let f=[];if(c&&(e._queryIdentifier==="default"||oE(c,e))){const p=nO(c,e,i,s);eO(c)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const d=p.removed;if(f=p.events,!l){const g=d.findIndex(v=>v._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(o,(v,b)=>cs(b));if(g&&!y){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const b=fO(v);for(let C=0;C<b.length;++C){const M=b[C],k=M.query,R=dE(t,M);t.listenProvider_.startListening(Al(k),Yl(t,k),R.hashFn,R.onComplete)}}}!y&&d.length>0&&!s&&(g?t.listenProvider_.stopListening(Al(e),null):d.forEach(v=>{const b=t.queryToTagMap.get(Rc(v));t.listenProvider_.stopListening(Al(v),b)}))}hO(t,d)}return f}function cE(t,e,i,s){const l=ym(t,s);if(l!=null){const o=vm(l),c=o.path,f=o.queryId,p=Yt(c,e),d=new qs(fm(f),p,i);return xm(t,c,d)}else return[]}function uO(t,e,i,s){const l=ym(t,s);if(l){const o=vm(l),c=o.path,f=o.queryId,p=Yt(c,e),d=rt.fromObject(i),g=new ql(fm(f),p,d);return xm(t,c,g)}else return[]}function up(t,e,i,s=!1){const l=e._path;let o=null,c=!1;t.syncPointTree_.foreachOnPath(l,(v,b)=>{const C=Yt(v,l);o=o||ls(b,C),c=c||cs(b)});let f=t.syncPointTree_.get(l);f?(c=c||cs(f),o=o||ls(f,Ve())):(f=new sE,t.syncPointTree_=t.syncPointTree_.set(l,f));let p;o!=null?p=!0:(p=!1,o=ye.EMPTY_NODE,t.syncPointTree_.subtree(l).foreachChild((b,C)=>{const M=ls(C,Ve());M&&(o=o.updateImmediateChild(b,M))}));const d=oE(f,e);if(!d&&!e._queryParams.loadsAllData()){const v=Rc(e);ie(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const b=dO();t.queryToTagMap.set(v,b),t.tagToQueryMap.set(b,v)}const g=Ac(t.pendingWriteTree_,l);let y=tO(f,e,i,g,o,p);if(!d&&!c&&!s){const v=lE(f,e);y=y.concat(pO(t,e,v))}return y}function gm(t,e,i){const l=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(c,f)=>{const p=Yt(c,e),d=ls(f,p);if(d)return d});return WS(l,e,o,i,!0)}function cO(t,e){const i=e._path;let s=null;t.syncPointTree_.foreachOnPath(i,(d,g)=>{const y=Yt(d,i);s=s||ls(g,y)});let l=t.syncPointTree_.get(i);l?s=s||ls(l,Ve()):(l=new sE,t.syncPointTree_=t.syncPointTree_.set(i,l));const o=s!=null,c=o?new us(s,!0,!1):null,f=Ac(t.pendingWriteTree_,e._path),p=rE(l,e,f,o?c.getNode():ye.EMPTY_NODE,o);return Xk(p)}function ao(t,e){return fE(e,t.syncPointTree_,null,Ac(t.pendingWriteTree_,Ve()))}function fE(t,e,i,s){if(Ie(t.path))return hE(t,e,i,s);{const l=e.get(Ve());i==null&&l!=null&&(i=ls(l,Ve()));let o=[];const c=Re(t.path),f=t.operationForChild(c),p=e.children.get(c);if(p&&f){const d=i?i.getImmediateChild(c):null,g=JS(s,c);o=o.concat(fE(f,p,d,g))}return l&&(o=o.concat(mm(l,t,s,i))),o}}function hE(t,e,i,s){const l=e.get(Ve());i==null&&l!=null&&(i=ls(l,Ve()));let o=[];return e.children.inorderTraversal((c,f)=>{const p=i?i.getImmediateChild(c):null,d=JS(s,c),g=t.operationForChild(c);g&&(o=o.concat(hE(g,f,p,d)))}),l&&(o=o.concat(mm(l,t,s,i))),o}function dE(t,e){const i=e.query,s=Yl(t,i);return{hashFn:()=>(Kk(e)||ye.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?oO(t,i._path,s):lO(t,i._path);{const o=cD(l,i);return pc(t,i,null,o)}}}}function Yl(t,e){const i=Rc(e);return t.queryToTagMap.get(i)}function Rc(t){return t._path.toString()+"$"+t._queryIdentifier}function ym(t,e){return t.tagToQueryMap.get(e)}function vm(t){const e=t.indexOf("$");return ie(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ze(t.substr(0,e))}}function xm(t,e,i){const s=t.syncPointTree_.get(e);ie(s,"Missing sync point for query tag that we're tracking");const l=Ac(t.pendingWriteTree_,e);return mm(s,i,l,null)}function fO(t){return t.fold((e,i,s)=>{if(i&&cs(i))return[Nc(i)];{let l=[];return i&&(l=aE(i)),on(s,(o,c)=>{l=l.concat(c)}),l}})}function Al(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(sO())(t._repo,t._path):t}function hO(t,e){for(let i=0;i<e.length;++i){const s=e[i];if(!s._queryParams.loadsAllData()){const l=Rc(s),o=t.queryToTagMap.get(l);t.queryToTagMap.delete(l),t.tagToQueryMap.delete(o)}}}function dO(){return rO++}function pO(t,e,i){const s=e._path,l=Yl(t,e),o=dE(t,i),c=t.listenProvider_.startListening(Al(e),l,o.hashFn,o.onComplete),f=t.syncPointTree_.subtree(s);if(l)ie(!cs(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((d,g,y)=>{if(!Ie(d)&&g&&cs(g))return[Nc(g).query];{let v=[];return g&&(v=v.concat(aE(g).map(b=>b.query))),on(y,(b,C)=>{v=v.concat(C)}),v}});for(let d=0;d<p.length;++d){const g=p[d];t.listenProvider_.stopListening(Al(g),Yl(t,g))}}return c}class _m{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new _m(i)}node(){return this.node_}}class bm{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=wt(this.path_,e);return new bm(this.syncTree_,i)}node(){return gm(this.syncTree_,this.path_)}}const mO=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},z1=function(t,e,i){if(!t||typeof t!="object")return t;if(ie(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gO(t[".sv"],e,i);if(typeof t[".sv"]=="object")return yO(t[".sv"],e);ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gO=function(t,e,i){if(t==="timestamp")return i.timestamp;ie(!1,"Unexpected server value: "+t)},yO=function(t,e,i){t.hasOwnProperty("increment")||ie(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;typeof s!="number"&&ie(!1,"Unexpected increment value: "+s);const l=e.node();if(ie(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const c=l.getValue();return typeof c!="number"?s:c+s},vO=function(t,e,i,s){return Sm(e,new bm(i,t),s)},pE=function(t,e,i){return Sm(t,new _m(e),i)};function Sm(t,e,i){const s=t.getPriority().val(),l=z1(s,e.getImmediateChild(".priority"),i);let o;if(t.isLeafNode()){const c=t,f=z1(c.getValue(),e,i);return f!==c.getValue()||l!==c.getPriority().val()?new Rt(f,Dt(l)):t}else{const c=t;return o=c,l!==c.getPriority().val()&&(o=o.updatePriority(new Rt(l))),c.forEachChild(dt,(f,p)=>{const d=Sm(p,e.getImmediateChild(f),i);d!==p&&(o=o.updateImmediateChild(f,d))}),o}}class Em{constructor(e="",i=null,s={children:{},childCount:0}){this.name=e,this.parent=i,this.node=s}}function Cm(t,e){let i=e instanceof Ze?e:new Ze(e),s=t,l=Re(i);for(;l!==null;){const o=ea(s.node.children,l)||{children:{},childCount:0};s=new Em(l,s,o),i=tt(i),l=Re(i)}return s}function ca(t){return t.node.value}function mE(t,e){t.node.value=e,cp(t)}function gE(t){return t.node.childCount>0}function xO(t){return ca(t)===void 0&&!gE(t)}function Mc(t,e){on(t.node.children,(i,s)=>{e(new Em(i,t,s))})}function yE(t,e,i,s){i&&e(t),Mc(t,l=>{yE(l,e,!0)})}function _O(t,e,i){let s=t.parent;for(;s!==null;){if(e(s))return!0;s=s.parent}return!1}function lo(t){return new Ze(t.parent===null?t.name:lo(t.parent)+"/"+t.name)}function cp(t){t.parent!==null&&bO(t.parent,t.name,t)}function bO(t,e,i){const s=xO(i),l=Ai(t.node.children,e);s&&l?(delete t.node.children[e],t.node.childCount--,cp(t)):!s&&!l&&(t.node.children[e]=i.node,t.node.childCount++,cp(t))}const SO=/[\[\].#$\/\u0000-\u001F\u007F]/,EO=/[\[\].#$\u0000-\u001F\u007F]/,xd=10*1024*1024,vE=function(t){return typeof t=="string"&&t.length!==0&&!SO.test(t)},xE=function(t){return typeof t=="string"&&t.length!==0&&!EO.test(t)},CO=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),xE(t)},TO=function(t,e,i,s){Tm(Jp(t,"value"),e,i)},Tm=function(t,e,i){const s=i instanceof Ze?new FD(i,t):i;if(e===void 0)throw new Error(t+"contains undefined "+js(s));if(typeof e=="function")throw new Error(t+"contains a function "+js(s)+" with contents = "+e.toString());if(gS(e))throw new Error(t+"contains "+e.toString()+" "+js(s));if(typeof e=="string"&&e.length>xd/3&&Cc(e)>xd)throw new Error(t+"contains a string greater than "+xd+" utf8 bytes "+js(s)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,o=!1;if(on(e,(c,f)=>{if(c===".value")l=!0;else if(c!==".priority"&&c!==".sv"&&(o=!0,!vE(c)))throw new Error(t+" contains an invalid key ("+c+") "+js(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);GD(s,c),Tm(t,f,s),qD(s)}),l&&o)throw new Error(t+' contains ".value" child '+js(s)+" in addition to actual children.")}},_E=function(t,e,i,s){if(!xE(i))throw new Error(Jp(t,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},wO=function(t,e,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),_E(t,e,i)},AO=function(t,e){if(Re(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},NO=function(t,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!vE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!CO(i))throw new Error(Jp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class RO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wm(t,e){let i=null;for(let s=0;s<e.length;s++){const l=e[s],o=l.getPath();i!==null&&!rm(o,i.path)&&(t.eventLists_.push(i),i=null),i===null&&(i={events:[],path:o}),i.events.push(l)}i&&t.eventLists_.push(i)}function bE(t,e,i){wm(t,i),SE(t,s=>rm(s,e))}function Wn(t,e,i){wm(t,i),SE(t,s=>Pn(s,e)||Pn(e,s))}function SE(t,e){t.recursionDepth_++;let i=!0;for(let s=0;s<t.eventLists_.length;s++){const l=t.eventLists_[s];if(l){const o=l.path;e(o)?(MO(t.eventLists_[s]),t.eventLists_[s]=null):i=!1}}i&&(t.eventLists_=[]),t.recursionDepth_--}function MO(t){for(let e=0;e<t.events.length;e++){const i=t.events[e];if(i!==null){t.events[e]=null;const s=i.getEventRunner();El&&Ut("event: "+i.toString()),ua(s)}}}const DO="repo_interrupt",kO=25;class OO{constructor(e,i,s,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ac(),this.transactionQueueTree_=new Em,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IO(t,e,i){if(t.stats_=im(t.repoInfo_),t.forceRestClient_||pD())t.server_=new rc(t.repoInfo_,(s,l,o,c)=>{B1(t,s,l,o,c)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>U1(t,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Si(t.repoInfo_,e,(s,l,o,c)=>{B1(t,s,l,o,c)},s=>{U1(t,s)},s=>{LO(t,s)},t.authTokenProvider_,t.appCheckProvider_,i),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=xD(t.repoInfo_,()=>new yk(t.stats_,t.server_)),t.infoData_=new hk,t.infoSyncTree_=new L1({startListening:(s,l,o,c)=>{let f=[];const p=t.infoData_.getNode(s._path);return p.isEmpty()||(f=ro(t.infoSyncTree_,s._path,p),setTimeout(()=>{c("ok")},0)),f},stopListening:()=>{}}),Nm(t,"connected",!1),t.serverSyncTree_=new L1({startListening:(s,l,o,c)=>(t.server_.listen(s,o,l,(f,p)=>{const d=c(f,p);Wn(t.eventQueue_,s._path,d)}),[]),stopListening:(s,l)=>{t.server_.unlisten(s,l)}})}function jO(t){const i=t.infoData_.getNode(new Ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Am(t){return mO({timestamp:jO(t)})}function B1(t,e,i,s,l){t.dataUpdateCount++;const o=new Ze(e);i=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,i):i;let c=[];if(l)if(s){const p=Wu(i,d=>Dt(d));c=uO(t.serverSyncTree_,o,p,l)}else{const p=Dt(i);c=cE(t.serverSyncTree_,o,p,l)}else if(s){const p=Wu(i,d=>Dt(d));c=aO(t.serverSyncTree_,o,p)}else{const p=Dt(i);c=ro(t.serverSyncTree_,o,p)}let f=o;c.length>0&&(f=kc(t,o)),Wn(t.eventQueue_,f,c)}function U1(t,e){Nm(t,"connected",e),e===!1&&UO(t)}function LO(t,e){on(e,(i,s)=>{Nm(t,i,s)})}function Nm(t,e,i){const s=new Ze("/.info/"+e),l=Dt(i);t.infoData_.updateSnapshot(s,l);const o=ro(t.infoSyncTree_,s,l);Wn(t.eventQueue_,s,o)}function EE(t){return t.nextWriteId_++}function zO(t,e,i){const s=cO(t.serverSyncTree_,e);return s!=null?Promise.resolve(s):t.server_.get(e).then(l=>{const o=Dt(l).withIndex(e._queryParams.getIndex());up(t.serverSyncTree_,e,i,!0);let c;if(e._queryParams.loadsAllData())c=ro(t.serverSyncTree_,e._path,o);else{const f=Yl(t.serverSyncTree_,e);c=cE(t.serverSyncTree_,e._path,o,f)}return Wn(t.eventQueue_,e._path,c),pc(t.serverSyncTree_,e,i,null,!0),o},l=>(Dc(t,"get for query "+Tt(e)+" failed: "+l),Promise.reject(new Error(l))))}function BO(t,e,i,s,l){Dc(t,"set",{path:e.toString(),value:i,priority:s});const o=Am(t),c=Dt(i,s),f=gm(t.serverSyncTree_,e),p=pE(c,f,o),d=EE(t),g=uE(t.serverSyncTree_,e,p,d,!0);wm(t.eventQueue_,g),t.server_.put(e.toString(),c.val(!0),(v,b)=>{const C=v==="ok";C||an("set at "+e+" failed: "+v);const M=Bs(t.serverSyncTree_,d,!C);Wn(t.eventQueue_,e,M),HO(t,l,v,b)});const y=NE(t,e);kc(t,y),Wn(t.eventQueue_,y,[])}function UO(t){Dc(t,"onDisconnectEvents");const e=Am(t),i=ac();sp(t.onDisconnect_,Ve(),(l,o)=>{const c=vO(l,o,t.serverSyncTree_,e);KS(i,l,c)});let s=[];sp(i,Ve(),(l,o)=>{s=s.concat(ro(t.serverSyncTree_,l,o));const c=NE(t,l);kc(t,c)}),t.onDisconnect_=ac(),Wn(t.eventQueue_,Ve(),s)}function VO(t,e,i){let s;Re(e._path)===".info"?s=up(t.infoSyncTree_,e,i):s=up(t.serverSyncTree_,e,i),bE(t.eventQueue_,e._path,s)}function fp(t,e,i){let s;Re(e._path)===".info"?s=pc(t.infoSyncTree_,e,i):s=pc(t.serverSyncTree_,e,i),bE(t.eventQueue_,e._path,s)}function PO(t){t.persistentConnection_&&t.persistentConnection_.interrupt(DO)}function Dc(t,...e){let i="";t.persistentConnection_&&(i=t.persistentConnection_.id+":"),Ut(i,...e)}function HO(t,e,i,s){e&&ua(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let o=l;s&&(o+=": "+s);const c=new Error(o);c.code=l,e(c)}})}function CE(t,e,i){return gm(t.serverSyncTree_,e,i)||ye.EMPTY_NODE}function Rm(t,e=t.transactionQueueTree_){if(e||Oc(t,e),ca(e)){const i=wE(t,e);ie(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&FO(t,lo(e),i)}else gE(e)&&Mc(e,i=>{Rm(t,i)})}function FO(t,e,i){const s=i.map(d=>d.currentWriteId),l=CE(t,e,s);let o=l;const c=l.hash();for(let d=0;d<i.length;d++){const g=i[d];ie(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const y=Yt(e,g.path);o=o.updateChild(y,g.currentOutputSnapshotRaw)}const f=o.val(!0),p=e;t.server_.put(p.toString(),f,d=>{Dc(t,"transaction put response",{path:p.toString(),status:d});let g=[];if(d==="ok"){const y=[];for(let v=0;v<i.length;v++)i[v].status=2,g=g.concat(Bs(t.serverSyncTree_,i[v].currentWriteId)),i[v].onComplete&&y.push(()=>i[v].onComplete(null,!0,i[v].currentOutputSnapshotResolved)),i[v].unwatcher();Oc(t,Cm(t.transactionQueueTree_,e)),Rm(t,t.transactionQueueTree_),Wn(t.eventQueue_,e,g);for(let v=0;v<y.length;v++)ua(y[v])}else{if(d==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{an("transaction at "+p.toString()+" failed: "+d);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=d}kc(t,e)}},c)}function kc(t,e){const i=TE(t,e),s=lo(i),l=wE(t,i);return GO(t,l,s),s}function GO(t,e,i){if(e.length===0)return;const s=[];let l=[];const c=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],d=Yt(i,p.path);let g=!1,y;if(ie(d!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)g=!0,y=p.abortReason,l=l.concat(Bs(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=kO)g=!0,y="maxretry",l=l.concat(Bs(t.serverSyncTree_,p.currentWriteId,!0));else{const v=CE(t,p.path,c);p.currentInputSnapshot=v;const b=e[f].update(v.val());if(b!==void 0){Tm("transaction failed: Data returned ",b,p.path);let C=Dt(b);typeof b=="object"&&b!=null&&Ai(b,".priority")||(C=C.updatePriority(v.getPriority()));const k=p.currentWriteId,R=Am(t),V=pE(C,v,R);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=V,p.currentWriteId=EE(t),c.splice(c.indexOf(k),1),l=l.concat(uE(t.serverSyncTree_,p.path,V,p.currentWriteId,p.applyLocally)),l=l.concat(Bs(t.serverSyncTree_,k,!0))}else g=!0,y="nodata",l=l.concat(Bs(t.serverSyncTree_,p.currentWriteId,!0))}Wn(t.eventQueue_,i,l),l=[],g&&(e[f].status=2,(function(v){setTimeout(v,Math.floor(0))})(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?s.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):s.push(()=>e[f].onComplete(new Error(y),!1,null))))}Oc(t,t.transactionQueueTree_);for(let f=0;f<s.length;f++)ua(s[f]);Rm(t,t.transactionQueueTree_)}function TE(t,e){let i,s=t.transactionQueueTree_;for(i=Re(e);i!==null&&ca(s)===void 0;)s=Cm(s,i),e=tt(e),i=Re(e);return s}function wE(t,e){const i=[];return AE(t,e,i),i.sort((s,l)=>s.order-l.order),i}function AE(t,e,i){const s=ca(e);if(s)for(let l=0;l<s.length;l++)i.push(s[l]);Mc(e,l=>{AE(t,l,i)})}function Oc(t,e){const i=ca(e);if(i){let s=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[s]=i[l],s++);i.length=s,mE(e,i.length>0?i:void 0)}Mc(e,s=>{Oc(t,s)})}function NE(t,e){const i=lo(TE(t,e)),s=Cm(t.transactionQueueTree_,e);return _O(s,l=>{_d(t,l)}),_d(t,s),yE(s,l=>{_d(t,l)}),i}function _d(t,e){const i=ca(e);if(i){const s=[];let l=[],o=-1;for(let c=0;c<i.length;c++)i[c].status===3||(i[c].status===1?(ie(o===c-1,"All SENT items should be at beginning of queue."),o=c,i[c].status=3,i[c].abortReason="set"):(ie(i[c].status===0,"Unexpected transaction status in abort"),i[c].unwatcher(),l=l.concat(Bs(t.serverSyncTree_,i[c].currentWriteId,!0)),i[c].onComplete&&s.push(i[c].onComplete.bind(null,new Error("set"),!1,null))));o===-1?mE(e,void 0):i.length=o+1,Wn(t.eventQueue_,lo(e),l);for(let c=0;c<s.length;c++)ua(s[c])}}function qO(t){let e="";const i=t.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let l=i[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function YO(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const i of t.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?e[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):an(`Invalid query segment '${i}' in query '${t}'`)}return e}const V1=function(t,e){const i=KO(t),s=i.namespace;i.domain==="firebase.com"&&Ci(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&Ci("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||rD();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new NS(i.host,i.secure,s,l,e,"",s!==i.subdomain),path:new Ze(i.pathString)}},KO=function(t){let e="",i="",s="",l="",o="",c=!0,f="https",p=443;if(typeof t=="string"){let d=t.indexOf("//");d>=0&&(f=t.substring(0,d-1),t=t.substring(d+2));let g=t.indexOf("/");g===-1&&(g=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(g,y)),g<y&&(l=qO(t.substring(g,y)));const v=YO(t.substring(Math.min(t.length,y)));d=e.indexOf(":"),d>=0?(c=f==="https"||f==="wss",p=parseInt(e.substring(d+1),10)):d=e.length;const b=e.slice(0,d);if(b.toLowerCase()==="localhost")i="localhost";else if(b.split(".").length<=2)i=b;else{const C=e.indexOf(".");s=e.substring(0,C).toLowerCase(),i=e.substring(C+1),o=s}"ns"in v&&(o=v.ns)}return{host:e,port:p,domain:i,subdomain:s,secure:c,scheme:f,pathString:l,namespace:o}};class XO{constructor(e,i,s,l){this.eventType=e,this.eventRegistration=i,this.snapshot=s,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class QO{constructor(e,i,s){this.eventRegistration=e,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RE{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return ie(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Mm{constructor(e,i,s,l){this._repo=e,this._path=i,this._queryParams=s,this._orderByCalled=l}get key(){return Ie(this._path)?null:zS(this._path)}get ref(){return new Ni(this._repo,this._path)}get _queryIdentifier(){const e=T1(this._queryParams),i=tm(e);return i==="{}"?"default":i}get _queryObject(){return T1(this._queryParams)}isEqual(e){if(e=la(e),!(e instanceof Mm))return!1;const i=this._repo===e._repo,s=rm(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+HD(this._path)}}class Ni extends Mm{constructor(e,i){super(e,i,new um,!1)}get parent(){const e=US(this._path);return e===null?null:new Ni(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Kl{constructor(e,i,s){this._node=e,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Ze(e),s=hp(this.ref,e);return new Kl(this._node.getChild(i),s,dt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>e(new Kl(l,hp(this.ref,s),dt)))}hasChild(e){const i=new Ze(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $O(t,e){return t=la(t),t._checkNotDeleted("ref"),e!==void 0?hp(t._root,e):t._root}function hp(t,e){return t=la(t),Re(t._path)===null?wO("child","path",e):_E("child","path",e),new Ni(t._repo,wt(t._path,e))}function ZO(t,e){t=la(t),AO("set",t._path),TO("set",e,t._path);const i=new Ec;return BO(t._repo,t._path,e,null,i.wrapCallback(()=>{})),i.promise}function WO(t){t=la(t);const e=new RE(()=>{}),i=new Ic(e);return zO(t._repo,t,i).then(s=>new Kl(s,new Ni(t._repo,t._path),t._queryParams.getIndex()))}class Ic{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const s=i._queryParams.getIndex();return new XO("value",this,new Kl(e.snapshotNode,new Ni(i._repo,i._path),s))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new QO(this,e,i):null}matches(e){return e instanceof Ic?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function JO(t,e,i,s,l){let o;if(typeof s=="object"&&(o=void 0,l=s),typeof s=="function"&&(o=s),l&&l.onlyOnce){const p=i,d=(g,y)=>{fp(t._repo,t,f),p(g,y)};d.userCallback=i.userCallback,d.context=i.context,i=d}const c=new RE(i,o||void 0),f=new Ic(c);return VO(t._repo,t,f),()=>fp(t._repo,t,f)}function e3(t,e,i,s){return JO(t,"value",e,i,s)}function t3(t,e,i){fp(t._repo,t,null)}Wk(Ni);iO(Ni);const n3="FIREBASE_DATABASE_EMULATOR_HOST",dp={};let i3=!1;function s3(t,e,i,s){const l=e.lastIndexOf(":"),o=e.substring(0,l),c=Wp(o);t.repoInfo_=new NS(e,c,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(t.authTokenProvider_=s)}function r3(t,e,i,s,l){let o=s||t.options.databaseURL;o===void 0&&(t.options.projectId||Ci("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ut("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c=V1(o,l),f=c.repoInfo,p;typeof process<"u"&&l1&&(p=l1[n3]),p?(o=`http://${p}?ns=${f.namespace}`,c=V1(o,l),f=c.repoInfo):c.repoInfo.secure;const d=new gD(t.name,t.options,e);NO("Invalid Firebase Database URL",c),Ie(c.path)||Ci("Database URL must point to the root of a Firebase Database (not including a child path).");const g=l3(f,t,d,new mD(t,i));return new o3(g,t)}function a3(t,e){const i=dp[e];(!i||i[t.key]!==t)&&Ci(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PO(t),delete i[t.key]}function l3(t,e,i,s){let l=dp[e.name];l||(l={},dp[e.name]=l);let o=l[t.toURLString()];return o&&Ci("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new OO(t,i3,i,s),l[t.toURLString()]=o,o}class o3{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ci("Cannot call "+e+" on a deleted database.")}}function u3(t=VM(),e){const i=jM(t,"database").getImmediate({identifier:e});if(!i._instanceStarted){const s=_R("database");s&&c3(i,...s)}return i}function c3(t,e,i,s={}){t=la(t),t._checkNotDeleted("useEmulator");const l=`${e}:${i}`,o=t._repoInternal;if(t._instanceStarted){if(l===t._repoInternal.repoInfo_.host&&Ju(s,o.repoInfo_.emulatorOptions))return;Ci("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let c;if(o.repoInfo_.nodeAdmin)s.mockUserToken&&Ci('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Fu(Fu.OWNER);else if(s.mockUserToken){const f=typeof s.mockUserToken=="string"?s.mockUserToken:SR(s.mockUserToken,t.app.options.projectId);c=new Fu(f)}Wp(e)&&(bR(e),TR("Database",!0)),s3(o,l,s,c)}function f3(t){JM(UM),tc(new Bl("database",(e,{instanceIdentifier:i})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return r3(s,l,o,i)},"PUBLIC").setMultipleInstances(!0)),Xr(o1,u1,t),Xr(o1,u1,"esm2020")}Si.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Si.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};f3();const h3={databaseURL:"https://antigravity-sync-c07bf-default-rtdb.firebaseio.com/"},d3=cS(h3),p3=u3(d3);class ME{syncCode;userRef;unsubscribe=null;constructor(e){this.syncCode=e.trim().toLowerCase().replace(/[^a-z0-9]/g,""),this.userRef=$O(p3,`users/${this.syncCode}`)}async uploadData(e){try{await ZO(this.userRef,{...e,lastUpdated:Date.now()}),console.log("[FIREBASE] Data uploaded successfully")}catch(i){throw console.error("[FIREBASE] Upload failed:",i),i}}async downloadData(){try{const e=await WO(this.userRef);return e.exists()?(console.log("[FIREBASE] Data downloaded successfully"),e.val()):(console.log("[FIREBASE] No data found for sync code"),null)}catch(e){throw console.error("[FIREBASE] Download failed:",e),e}}subscribeToUpdates(e){this.unsubscribe=e3(this.userRef,i=>{i.exists()?e(i.val()):e(null)},i=>{console.error("[FIREBASE] Subscription error:",i)})}unsubscribeFromUpdates(){this.unsubscribe&&(t3(this.userRef),this.unsubscribe=null)}static generateSyncCode(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let s=0;s<8;s++)i+=e.charAt(Math.floor(Math.random()*e.length));return i}static isValidSyncCode(e){return/^[a-z0-9]{4,16}$/.test(e.trim().toLowerCase())}}const DE=ee.createContext(null),P1={name:"User",preferences:[],facts:[],mood:"Neutral",writingStyle:"Concise & Direct",knowledgeBase:"General Knowledge",persona:"Antigravity (Default)",neuralScene:"Standard Void",lastUpdated:Date.now()},m3=({children:t})=>{const[e,i]=ee.useState(P1),[s,l]=ee.useState(!1),[o,c]=ee.useState(localStorage.getItem("gemini_api_key")||""),[f,p]=ee.useState("chat"),[d,g]=ee.useState(localStorage.getItem("antigravity_model")||"gemini-2.0-flash"),[y,v]=ee.useState([]),[b,C]=ee.useState(null),[M,k]=ee.useState([]),[R,V]=ee.useState(()=>{try{const K=localStorage.getItem("antigravity_firebase_config");if(K){const Z=JSON.parse(K);return{syncCode:Z.syncCode||"",lastSync:Z.lastSync||0}}}catch(K){console.error("[INIT] Failed to parse firebase config:",K)}return{syncCode:"",lastSync:0}}),[O,$]=ee.useState("idle"),[Q,z]=ee.useState(!1),X=ee.useRef(null),te=ee.useRef(!1);ee.useEffect(()=>{localStorage.setItem("antigravity_firebase_config",JSON.stringify(R))},[R]),ee.useEffect(()=>(Q&&R.syncCode&&(console.log("[FIREBASE] Auto-connecting after local data load..."),A(R.syncCode)),()=>{X.current&&X.current.unsubscribeFromUpdates()}),[Q]);const fe=K=>{c(K),localStorage.setItem("gemini_api_key",K)};ee.useEffect(()=>{localStorage.setItem("antigravity_model",d)},[d]),ee.useEffect(()=>{const K=localStorage.getItem("antigravity_memory_v1");if(K)try{const J=JSON.parse(K);i({...J,facts:J.facts||[],preferences:J.preferences||[]})}catch(J){console.error(J)}const Z=localStorage.getItem("antigravity_history_v1");if(Z)try{const pe=JSON.parse(Z).filter(Se=>Se&&Se.id&&Array.isArray(Se.messages));if(v(pe),pe.length>0){const Se=pe.sort((We,at)=>at.timestamp-We.timestamp)[0];C(Se.id),k(Se.messages||[])}else he()}catch(J){console.error(J)}else he();z(!0)},[]),ee.useEffect(()=>{if(y.length>0&&(localStorage.setItem("antigravity_history_v1",JSON.stringify(y)),Q&&R.syncCode&&O==="connected"&&X.current&&!te.current)){const K=setTimeout(()=>{console.log("[FIREBASE] Auto-uploading sessions change...");const Z={profile:e,sessions:y,lastUpdated:Date.now()};X.current?.uploadData(Z).catch(J=>{console.error("[FIREBASE] Auto-upload failed:",J)})},2e3);return()=>clearTimeout(K)}},[y,R.syncCode,O,Q]);const he=()=>{if(M.length===0){p("chat");return}const K=Date.now().toString(),Z={id:K,title:"New Chat",messages:[],timestamp:Date.now()};v(J=>{const pe=J.filter(Se=>Se.messages.length>0);return[Z,...pe]}),C(K),k([]),p("chat")},ae=K=>{const Z=y.find(J=>J.id===K);Z&&(C(Z.id),k(Z.messages),p("chat"))},le=K=>{const Z=y.filter(J=>J.id!==K);v(Z),localStorage.setItem("antigravity_history_v1",JSON.stringify(Z)),b===K&&(Z.length>0?ae(Z[0].id):he())},Ce=K=>{v(Z=>Z.map(J=>J.id===K?{...J,isArchived:!0}:J)),b===K&&he()},se=K=>{v(Z=>Z.map(J=>J.id===K?{...J,isArchived:!1}:J))},W=()=>{v([]),localStorage.removeItem("antigravity_history_v1"),he()},L=()=>{i(P1),localStorage.removeItem("antigravity_memory_v1"),W()},Y=K=>{i(K),localStorage.setItem("antigravity_memory_v1",JSON.stringify(K))},ue=K=>{const Z=e.facts.filter((pe,Se)=>Se!==K),J={...e,facts:Z,lastUpdated:Date.now()};i(J),localStorage.setItem("antigravity_memory_v1",JSON.stringify(J))},ve=K=>{k(Z=>Z.find(pe=>pe.id===K.id)?Z.map(pe=>pe.id===K.id?K:pe):[...Z,K]),b&&v(Z=>Z.map(J=>{if(J.id===b){let pe=J.title;K.role==="user"&&J.messages.length<=1&&(pe=K.content.slice(0,40)+(K.content.length>40?"...":""));const Se=J.messages.find(at=>at.id===K.id);let We;return Se?We=J.messages.map(at=>at.id===K.id?K:at):We=[...J.messages,K],{...J,messages:We,title:pe,timestamp:Date.now()}}return J}))},T=async K=>{if(console.log("[MEMORY] updateMemory called with",K.length,"messages"),console.log("[MEMORY] Current apiKey exists:",!!o),!o){console.log("[MEMORY] No API key, skipping memory update");return}if(K.length<2){console.log("[MEMORY] Not enough messages, skipping");return}console.log("[MEMORY] Starting memory distillation..."),console.log("[MEMORY] Current profile before update:",JSON.stringify(e)),l(!0);try{const J=await new Zb(o).distillMemory(K,e);if(console.log("[MEMORY] Received new profile:",JSON.stringify(J)),J&&J.facts){console.log("[MEMORY] New facts count:",J.facts.length),i(J),localStorage.setItem("antigravity_memory_v1",JSON.stringify(J));const pe=localStorage.getItem("antigravity_memory_v1");console.log("[MEMORY] Verified saved to localStorage:",!!pe),console.log("[MEMORY] Saved facts:",JSON.parse(pe||"{}").facts)}else console.warn("[MEMORY] Invalid profile returned, keeping old profile")}catch(Z){console.error("[MEMORY] Memory distillation FAILED:",Z)}finally{l(!1),console.log("[MEMORY] isReflecting set to false")}},A=async K=>{if(K.trim()){$("syncing");try{const Z=new ME(K);X.current=Z;const J=await Z.downloadData();if(J){const pe=J.lastUpdated||0,Se=e.lastUpdated||0;if(console.log(`[FIREBASE] Cloud: ${pe}, Local: ${Se}`),pe>Se){if(console.log("[FIREBASE] Cloud is newer. Downloading..."),te.current=!0,J.profile){const We={...J.profile,facts:J.profile.facts||[],preferences:J.profile.preferences||[]};i(We),localStorage.setItem("antigravity_memory_v1",JSON.stringify(We))}if(J.sessions&&J.sessions.length>0){v(J.sessions),localStorage.setItem("antigravity_history_v1",JSON.stringify(J.sessions));const We=J.sessions.sort((at,ei)=>ei.timestamp-at.timestamp)[0];C(We.id),k(We.messages||[])}te.current=!1}else console.log("[FIREBASE] Local is newer. Uploading..."),await Z.uploadData({profile:e,sessions:y,lastUpdated:Date.now()})}else console.log("[FIREBASE] No cloud data. Uploading local..."),await Z.uploadData({profile:e,sessions:y,lastUpdated:Date.now()});Z.subscribeToUpdates(pe=>{if(pe&&!te.current){const Se=pe.lastUpdated||0,We=e.lastUpdated||0;if(Se>We+3e3){if(console.log("[FIREBASE] Real-time update received"),te.current=!0,pe.profile){const at={...pe.profile,facts:pe.profile.facts||[],preferences:pe.profile.preferences||[]};i(at),localStorage.setItem("antigravity_memory_v1",JSON.stringify(at))}if(pe.sessions&&(v(pe.sessions),localStorage.setItem("antigravity_history_v1",JSON.stringify(pe.sessions)),b)){const at=pe.sessions.find(ei=>ei.id===b);at&&k(at.messages||[])}te.current=!1}}}),V({syncCode:K,lastSync:Date.now()}),$("connected")}catch(Z){console.error("[FIREBASE] Connection failed:",Z),$("error")}}},H=async K=>{await A(K)},E=async()=>{if(!(!R.syncCode||!X.current)){$("syncing");try{await X.current.uploadData({profile:e,sessions:y,lastUpdated:Date.now()}),V(K=>({...K,lastSync:Date.now()})),$("connected")}catch(K){console.error("[FIREBASE] Sync failed:",K),$("error")}}},oe=()=>{X.current&&(X.current.unsubscribeFromUpdates(),X.current=null),V({syncCode:"",lastSync:0}),$("idle"),localStorage.removeItem("antigravity_firebase_config")};return _.jsx(DE.Provider,{value:{profile:e,updateMemory:T,isReflecting:s,apiKey:o,setApiKey:fe,activeView:f,setActiveView:p,model:d,setModel:g,sessions:y,currentSessionId:b,currentMessages:M,startNewChat:he,openChat:ae,saveMessage:ve,deleteSession:le,archiveSession:Ce,unarchiveSession:se,clearAllSessions:W,clearMemory:L,updateManualProfile:Y,deleteFact:ue,cloudConfig:R,setSyncCode:H,syncStatus:O,syncMemory:E,disconnectCloud:oe},children:t})},Xs=()=>{const t=ee.useContext(DE);if(!t)throw new Error("useMemoryContext must be used within a MemoryProvider");return t},kE=ee.createContext(null),Dm=()=>{const t=ee.useContext(kE);if(!t)throw new Error("useUI must be used within UIProvider");return t},g3=({children:t})=>{const[e,i]=ee.useState({isOpen:!1,options:null}),s=c=>{i({isOpen:!0,options:c})},l=()=>{i(c=>({...c,isOpen:!1}))},o=()=>{e.options?.onConfirm&&e.options.onConfirm(),l()};return _.jsxs(kE.Provider,{value:{showAlert:s},children:[t,e.isOpen&&e.options&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:_.jsxs("div",{className:"w-full max-w-sm bg-[#0a0a0b] border border-white/10 shadow-2xl overflow-hidden relative animate-in zoom-in-95 duration-200",children:[_.jsx("div",{className:`h-1 w-full ${e.options.type==="danger"?"bg-red-500":"bg-[var(--accent-primary)]"}`}),_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[_.jsx("div",{className:`p-2 rounded-lg ${e.options.type==="danger"?"bg-red-500/10 text-red-500":"bg-[var(--accent-primary)]/10 text-[var(--accent-primary)]"}`,children:_.jsx(wN,{size:20})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-white font-bold font-mono tracking-wider uppercase text-sm mb-1",children:e.options.title}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs leading-relaxed",children:e.options.message})]})]}),_.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[_.jsx("button",{onClick:l,className:"px-4 py-2 text-[10px] uppercase tracking-wider font-mono text-[var(--text-dim)] hover:text-white transition-colors",children:e.options.cancelLabel||"Cancel"}),_.jsx("button",{onClick:o,className:`px-4 py-2 text-[10px] uppercase tracking-wider font-mono font-bold transition-all border ${e.options.type==="danger"?"border-red-500/50 bg-red-500/10 text-red-500 hover:bg-red-500 hover:text-white":"border-[var(--accent-primary)] bg-[var(--accent-primary)]/10 text-[var(--accent-primary)] hover:bg-[var(--accent-primary)] hover:text-black"}`,children:e.options.confirmLabel||"Confirm"})]})]})]})})]})},H1=({className:t="",onNavigate:e})=>{const{activeView:i,setActiveView:s,startNewChat:l,sessions:o,currentSessionId:c,openChat:f,archiveSession:p,deleteSession:d}=Xs(),{showAlert:g}=Dm(),[y,v]=ee.useState(!1),b=o.filter(C=>!C.isArchived).sort((C,M)=>M.timestamp-C.timestamp);return _.jsxs("aside",{className:`w-[260px] h-full flex flex-col bg-[#050505] border-r border-white/10 z-20 ${t}`,children:[_.jsx("div",{className:"p-3 border-b border-white/5",children:_.jsxs("button",{onClick:()=>{l(),s("chat"),e?.()},className:"w-full flex items-center gap-2 px-3 py-2 bg-[var(--accent-primary)] hover:bg-[var(--accent-secondary)] text-black font-bold font-mono text-xs uppercase tracking-wider transition-all",children:[_.jsx(Qp,{size:14,strokeWidth:3}),_.jsx("span",{children:"New Session"})]})}),_.jsxs("div",{className:"flex-1 overflow-y-auto",children:[_.jsxs("div",{className:"py-2 border-b border-white/5",children:[_.jsx("div",{className:"px-4 mb-2 text-[9px] font-mono text-[var(--text-dim)] uppercase tracking-widest",children:"Recent"}),_.jsx("div",{className:`${y?"flex-1":"max-h-[30vh]"} overflow-y-auto no-scrollbar px-2 space-y-0.5 mb-2 transition-all duration-300`,children:b.length===0?_.jsx("div",{className:"px-4 py-3 text-[10px] text-[var(--text-dim)] font-mono italic opacity-50 text-center",children:"No active sessions"}):b.map(C=>_.jsxs("div",{className:`group relative flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-all ${c===C.id?"bg-white/10 text-white":"text-[var(--text-dim)] hover:bg-white/5 hover:text-white"}`,onClick:()=>{f(C.id),e?.()},children:[_.jsx(sN,{size:12,className:c===C.id?"text-[var(--accent-primary)]":"opacity-50"}),_.jsx("div",{className:"flex-1 overflow-hidden",children:_.jsx("div",{className:"text-[11px] truncate font-medium",children:C.title||"New Chat"})}),_.jsx("div",{className:"absolute right-2 opacity-0 group-hover:opacity-100 transition-opacity flex items-center",children:_.jsxs("div",{className:"group/menu relative flex items-center justify-end",children:[_.jsx("div",{className:"p-1 text-[var(--text-dim)] hover:text-white transition-colors cursor-default group-hover/menu:opacity-0 absolute right-0",children:_.jsx(G2,{size:14})}),_.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover/menu:opacity-100 transition-all transform translate-x-2 group-hover/menu:translate-x-0 bg-[#050505] pl-2 z-10",children:[_.jsx("button",{onClick:M=>{M.stopPropagation(),p(C.id)},className:"p-1 hover:bg-white/10 rounded text-[var(--text-dim)] hover:text-[var(--accent-primary)] transition-colors",title:"Archive",children:_.jsx(A2,{size:12})}),_.jsx("button",{onClick:M=>{M.stopPropagation(),g({title:"Delete Session?",message:"This action cannot be undone. The session will be permanently removed from memory core.",confirmLabel:"Delete",type:"danger",onConfirm:()=>d(C.id)})},className:"p-1 hover:bg-red-500/10 rounded text-[var(--text-dim)] hover:text-red-500 transition-colors",title:"Delete",children:_.jsx(CN,{size:12})})]})]})})]},C.id))}),b.length>0&&_.jsx("button",{onClick:()=>v(!y),className:"w-full flex justify-center py-1 text-[var(--text-dim)] hover:text-white transition-colors",children:y?_.jsx(Mx,{size:14,className:"rotate-180 transition-transform"}):_.jsx(Mx,{size:14,className:"transition-transform"})})]}),_.jsxs("div",{className:"py-4",children:[_.jsx("div",{className:"px-4 mb-2 text-[9px] font-mono text-[var(--text-dim)] uppercase tracking-widest",children:"Core System"}),_.jsx(pl,{icon:E2,label:"Neural Stream",active:i==="memory",onClick:()=>{s("memory"),e?.()}})]}),_.jsxs("div",{className:"py-2 border-t border-white/5",children:[_.jsx("div",{className:"px-4 mb-2 text-[9px] font-mono text-[var(--text-dim)] uppercase tracking-widest",children:"Data"}),_.jsx(pl,{icon:Fb,label:"Archives",active:i==="history",onClick:()=>{s("history"),e?.()}}),_.jsx(pl,{icon:Ub,label:"Models",active:i==="models",onClick:()=>{s("models"),e?.()},badge:"3"})]}),_.jsxs("div",{className:"py-2 border-t border-white/5",children:[_.jsx("div",{className:"px-4 mb-2 text-[9px] font-mono text-[var(--text-dim)] uppercase tracking-widest",children:"System"}),_.jsx(pl,{icon:mN,label:"Configuration",active:i==="settings",onClick:()=>{s("settings"),e?.()}}),_.jsx(pl,{icon:qb,label:"Security",active:i==="security",onClick:()=>{s("security"),e?.()}})]})]}),_.jsx("div",{className:"p-3 border-t border-white/10 bg-[#080808]",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"text-[10px] font-mono text-white uppercase",children:"US-EAST-1"}),_.jsx("span",{className:"text-[9px] font-mono text-[var(--text-dim)]",children:"Connected"})]})]})})]})},pl=({icon:t,label:e,active:i,onClick:s,badge:l})=>_.jsxs("button",{onClick:s,className:`w-full flex items-center gap-3 px-4 py-2 text-xs font-mono transition-all border-l-2 cursor-pointer ${i?"border-[var(--accent-primary)] bg-white/5 text-white":"border-transparent text-[var(--text-dim)] hover:text-white hover:bg-white/5"}`,children:[_.jsx(t,{size:14,className:`${i?"text-[var(--accent-primary)]":"text-[var(--text-dim)]"}`}),_.jsx("span",{children:e}),l&&_.jsx("span",{className:"ml-auto text-[9px] bg-white/10 text-white px-1.5 py-0.5 rounded-sm",children:l})]}),y3=({children:t})=>{const[e,i]=ee.useState(!1);return _.jsxs("div",{className:"flex flex-col md:flex-row fixed inset-0 overflow-hidden text-[var(--text-main)] selection:bg-[var(--accent-primary)] selection:text-black",children:[e&&_.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden",onClick:()=>i(!1)}),_.jsx("div",{className:`fixed inset-y-0 left-0 z-50 transform transition-transform duration-300 ease-in-out md:hidden ${e?"translate-x-0":"-translate-x-full"}`,children:_.jsx(H1,{className:"flex h-full shadow-2xl",onNavigate:()=>i(!1)})}),_.jsxs("div",{className:"flex md:hidden items-center justify-between px-4 py-3 bg-[#050505] border-b border-white/10 relative z-30 flex-shrink-0",children:[_.jsx("button",{onClick:()=>i(!e),className:"p-1 text-white hover:bg-white/10 rounded-md",children:e?_.jsx(MN,{size:20}):_.jsx(nN,{size:20})}),_.jsx("span",{className:"font-mono font-bold text-sm tracking-widest text-white uppercase select-none",children:"ANTIGRAVITY"}),_.jsx("div",{className:"w-8"})]}),_.jsxs("div",{className:"relative z-10 flex w-full flex-1 overflow-hidden backdrop-blur-sm",children:[_.jsx(H1,{className:"hidden md:flex flex-shrink-0"}),_.jsx("main",{className:"flex-1 min-w-0 relative flex flex-col bg-black/20 h-full",children:t})]})]})};function v3(t,e){const i={};return(t[t.length-1]===""?[...t,""]:t).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const x3=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_3=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,b3={};function F1(t,e){return(b3.jsx?_3:x3).test(t)}const S3=/[ \t\n\f\r]/g;function E3(t){return typeof t=="object"?t.type==="text"?G1(t.value):!1:G1(t)}function G1(t){return t.replace(S3,"")===""}class oo{constructor(e,i,s){this.normal=i,this.property=e,s&&(this.space=s)}}oo.prototype.normal={};oo.prototype.property={};oo.prototype.space=void 0;function OE(t,e){const i={},s={};for(const l of t)Object.assign(i,l.property),Object.assign(s,l.normal);return new oo(i,s,e)}function pp(t){return t.toLowerCase()}class un{constructor(e,i){this.attribute=i,this.property=e}}un.prototype.attribute="";un.prototype.booleanish=!1;un.prototype.boolean=!1;un.prototype.commaOrSpaceSeparated=!1;un.prototype.commaSeparated=!1;un.prototype.defined=!1;un.prototype.mustUseProperty=!1;un.prototype.number=!1;un.prototype.overloadedBoolean=!1;un.prototype.property="";un.prototype.spaceSeparated=!1;un.prototype.space=void 0;let C3=0;const Ae=Qs(),_t=Qs(),mp=Qs(),ne=Qs(),Je=Qs(),Zr=Qs(),vn=Qs();function Qs(){return 2**++C3}const gp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:_t,commaOrSpaceSeparated:vn,commaSeparated:Zr,number:ne,overloadedBoolean:mp,spaceSeparated:Je},Symbol.toStringTag,{value:"Module"})),bd=Object.keys(gp);class km extends un{constructor(e,i,s,l){let o=-1;if(super(e,i),q1(this,"space",l),typeof s=="number")for(;++o<bd.length;){const c=bd[o];q1(this,bd[o],(s&gp[c])===gp[c])}}}km.prototype.defined=!0;function q1(t,e,i){i&&(t[e]=i)}function fa(t){const e={},i={};for(const[s,l]of Object.entries(t.properties)){const o=new km(s,t.transform(t.attributes||{},s),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),e[s]=o,i[pp(s)]=s,i[pp(o.attribute)]=s}return new oo(e,i,t.space)}const IE=fa({properties:{ariaActiveDescendant:null,ariaAtomic:_t,ariaAutoComplete:null,ariaBusy:_t,ariaChecked:_t,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:_t,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:_t,ariaFlowTo:Je,ariaGrabbed:_t,ariaHasPopup:null,ariaHidden:_t,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:ne,ariaLive:null,ariaModal:_t,ariaMultiLine:_t,ariaMultiSelectable:_t,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:_t,ariaReadOnly:_t,ariaRelevant:null,ariaRequired:_t,ariaRoleDescription:Je,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:_t,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function jE(t,e){return e in t?t[e]:e}function LE(t,e){return jE(t,e.toLowerCase())}const T3=fa({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Zr,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Je,autoFocus:Ae,autoPlay:Ae,blocking:Je,capture:null,charSet:null,checked:Ae,cite:null,className:Je,cols:ne,colSpan:null,content:null,contentEditable:_t,controls:Ae,controlsList:Je,coords:ne|Zr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:mp,draggable:_t,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Je,height:ne,hidden:mp,high:ne,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Je,itemRef:Je,itemScope:Ae,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:ne,pattern:null,ping:Je,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Je,required:Ae,reversed:Ae,rows:ne,rowSpan:ne,sandbox:Je,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:_t,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:_t,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:_t,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:LE}),w3=fa({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:vn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Zr,g2:Zr,glyphName:Zr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jE}),zE=fa({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),BE=fa({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:LE}),UE=fa({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),A3={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},N3=/[A-Z]/g,Y1=/-[a-z]/g,R3=/^data[-\w.:]+$/i;function M3(t,e){const i=pp(e);let s=e,l=un;if(i in t.normal)return t.property[t.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&R3.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Y1,k3);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Y1.test(o)){let c=o.replace(N3,D3);c.charAt(0)!=="-"&&(c="-"+c),e="data"+c}}l=km}return new l(s,e)}function D3(t){return"-"+t.toLowerCase()}function k3(t){return t.charAt(1).toUpperCase()}const O3=OE([IE,T3,zE,BE,UE],"html"),Om=OE([IE,w3,zE,BE,UE],"svg");function I3(t){return t.join(" ").trim()}var Vr={},Sd,K1;function j3(){if(K1)return Sd;K1=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,i=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,d="/",g="*",y="",v="comment",b="declaration";function C(k,R){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];R=R||{};var V=1,O=1;function $(se){var W=se.match(e);W&&(V+=W.length);var L=se.lastIndexOf(p);O=~L?se.length-L:O+se.length}function Q(){var se={line:V,column:O};return function(W){return W.position=new z(se),fe(),W}}function z(se){this.start=se,this.end={line:V,column:O},this.source=R.source}z.prototype.content=k;function X(se){var W=new Error(R.source+":"+V+":"+O+": "+se);if(W.reason=se,W.filename=R.source,W.line=V,W.column=O,W.source=k,!R.silent)throw W}function te(se){var W=se.exec(k);if(W){var L=W[0];return $(L),k=k.slice(L.length),W}}function fe(){te(i)}function he(se){var W;for(se=se||[];W=ae();)W!==!1&&se.push(W);return se}function ae(){var se=Q();if(!(d!=k.charAt(0)||g!=k.charAt(1))){for(var W=2;y!=k.charAt(W)&&(g!=k.charAt(W)||d!=k.charAt(W+1));)++W;if(W+=2,y===k.charAt(W-1))return X("End of comment missing");var L=k.slice(2,W-2);return O+=2,$(L),k=k.slice(W),O+=2,se({type:v,comment:L})}}function le(){var se=Q(),W=te(s);if(W){if(ae(),!te(l))return X("property missing ':'");var L=te(o),Y=se({type:b,property:M(W[0].replace(t,y)),value:L?M(L[0].replace(t,y)):y});return te(c),Y}}function Ce(){var se=[];he(se);for(var W;W=le();)W!==!1&&(se.push(W),he(se));return se}return fe(),Ce()}function M(k){return k?k.replace(f,y):y}return Sd=C,Sd}var X1;function L3(){if(X1)return Vr;X1=1;var t=Vr&&Vr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=i;const e=t(j3());function i(s,l){let o=null;if(!s||typeof s!="string")return o;const c=(0,e.default)(s),f=typeof l=="function";return c.forEach(p=>{if(p.type!=="declaration")return;const{property:d,value:g}=p;f?l(d,g,p):g&&(o=o||{},o[d]=g)}),o}return Vr}var ml={},Q1;function z3(){if(Q1)return ml;Q1=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,i=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(d){return!d||i.test(d)||t.test(d)},c=function(d,g){return g.toUpperCase()},f=function(d,g){return"".concat(g,"-")},p=function(d,g){return g===void 0&&(g={}),o(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(l,f):d=d.replace(s,f),d.replace(e,c))};return ml.camelCase=p,ml}var gl,$1;function B3(){if($1)return gl;$1=1;var t=gl&&gl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(L3()),i=z3();function s(l,o){var c={};return!l||typeof l!="string"||(0,e.default)(l,function(f,p){f&&p&&(c[(0,i.camelCase)(f,o)]=p)}),c}return s.default=s,gl=s,gl}var U3=B3();const V3=Yp(U3),VE=PE("end"),Im=PE("start");function PE(t){return e;function e(i){const s=i&&i.position&&i.position[t]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function P3(t){const e=Im(t),i=VE(t);if(e&&i)return{start:e,end:i}}function Nl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Z1(t.position):"start"in t||"end"in t?Z1(t):"line"in t||"column"in t?yp(t):""}function yp(t){return W1(t&&t.line)+":"+W1(t&&t.column)}function Z1(t){return yp(t&&t.start)+"-"+yp(t&&t.end)}function W1(t){return t&&typeof t=="number"?t:1}class Ht extends Error{constructor(e,i,s){super(),typeof i=="string"&&(s=i,i=void 0);let l="",o={},c=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof e=="string"?l=e:!o.cause&&e&&(c=!0,l=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof s=="string"){const p=s.indexOf(":");p===-1?o.ruleId=s:(o.source=s.slice(0,p),o.ruleId=s.slice(p+1))}if(!o.place&&o.ancestors&&o.ancestors){const p=o.ancestors[o.ancestors.length-1];p&&(o.place=p.position)}const f=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=f?f.line:void 0,this.name=Nl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=c&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ht.prototype.file="";Ht.prototype.name="";Ht.prototype.reason="";Ht.prototype.message="";Ht.prototype.stack="";Ht.prototype.column=void 0;Ht.prototype.line=void 0;Ht.prototype.ancestors=void 0;Ht.prototype.cause=void 0;Ht.prototype.fatal=void 0;Ht.prototype.place=void 0;Ht.prototype.ruleId=void 0;Ht.prototype.source=void 0;const jm={}.hasOwnProperty,H3=new Map,F3=/[A-Z]/g,G3=new Set(["table","tbody","thead","tfoot","tr"]),q3=new Set(["td","th"]),HE="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Y3(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=e.filePath||void 0;let s;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=e4(i,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=J3(i,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:s,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Om:O3,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=FE(l,t,void 0);return o&&typeof o!="string"?o:l.create(t,l.Fragment,{children:o||void 0},void 0)}function FE(t,e,i){if(e.type==="element")return K3(t,e,i);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return X3(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return $3(t,e,i);if(e.type==="mdxjsEsm")return Q3(t,e);if(e.type==="root")return Z3(t,e,i);if(e.type==="text")return W3(t,e)}function K3(t,e,i){const s=t.schema;let l=s;e.tagName.toLowerCase()==="svg"&&s.space==="html"&&(l=Om,t.schema=l),t.ancestors.push(e);const o=qE(t,e.tagName,!1),c=t4(t,e);let f=zm(t,e);return G3.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!E3(p):!0})),GE(t,c,o,e),Lm(c,f),t.ancestors.pop(),t.schema=s,t.create(e,o,c,i)}function X3(t,e){if(e.data&&e.data.estree&&t.evaluater){const s=e.data.estree.body[0];return s.type,t.evaluater.evaluateExpression(s.expression)}Xl(t,e.position)}function Q3(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Xl(t,e.position)}function $3(t,e,i){const s=t.schema;let l=s;e.name==="svg"&&s.space==="html"&&(l=Om,t.schema=l),t.ancestors.push(e);const o=e.name===null?t.Fragment:qE(t,e.name,!0),c=n4(t,e),f=zm(t,e);return GE(t,c,o,e),Lm(c,f),t.ancestors.pop(),t.schema=s,t.create(e,o,c,i)}function Z3(t,e,i){const s={};return Lm(s,zm(t,e)),t.create(e,t.Fragment,s,i)}function W3(t,e){return e.value}function GE(t,e,i,s){typeof i!="string"&&i!==t.Fragment&&t.passNode&&(e.node=s)}function Lm(t,e){if(e.length>0){const i=e.length>1?e:e[0];i&&(t.children=i)}}function J3(t,e,i){return s;function s(l,o,c,f){const d=Array.isArray(c.children)?i:e;return f?d(o,c,f):d(o,c)}}function e4(t,e){return i;function i(s,l,o,c){const f=Array.isArray(o.children),p=Im(s);return e(l,o,c,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function t4(t,e){const i={};let s,l;for(l in e.properties)if(l!=="children"&&jm.call(e.properties,l)){const o=i4(t,l,e.properties[l]);if(o){const[c,f]=o;t.tableCellAlignToStyle&&c==="align"&&typeof f=="string"&&q3.has(e.tagName)?s=f:i[c]=f}}if(s){const o=i.style||(i.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return i}function n4(t,e){const i={};for(const s of e.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&t.evaluater){const o=s.data.estree.body[0];o.type;const c=o.expression;c.type;const f=c.properties[0];f.type,Object.assign(i,t.evaluater.evaluateExpression(f.argument))}else Xl(t,e.position);else{const l=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&t.evaluater){const f=s.value.data.estree.body[0];f.type,o=t.evaluater.evaluateExpression(f.expression)}else Xl(t,e.position);else o=s.value===null?!0:s.value;i[l]=o}return i}function zm(t,e){const i=[];let s=-1;const l=t.passKeys?new Map:H3;for(;++s<e.children.length;){const o=e.children[s];let c;if(t.passKeys){const p=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(p){const d=l.get(p)||0;c=p+"-"+d,l.set(p,d+1)}}const f=FE(t,o,c);f!==void 0&&i.push(f)}return i}function i4(t,e,i){const s=M3(t.schema,e);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=s.commaSeparated?v3(i):I3(i)),s.property==="style"){let l=typeof i=="object"?i:s4(t,String(i));return t.stylePropertyNameCase==="css"&&(l=r4(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&s.space?A3[s.property]||s.property:s.attribute,i]}}function s4(t,e){try{return V3(e,{reactCompat:!0})}catch(i){if(t.ignoreInvalidStyle)return{};const s=i,l=new Ht("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=HE+"#cannot-parse-style-attribute",l}}function qE(t,e,i){let s;if(!i)s={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let o=-1,c;for(;++o<l.length;){const f=F1(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};c=c?{type:"MemberExpression",object:c,property:f,computed:!!(o&&f.type==="Literal"),optional:!1}:f}s=c}else s=F1(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(s.type==="Literal"){const l=s.value;return jm.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(s);Xl(t)}function Xl(t,e){const i=new Ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=HE+"#cannot-handle-mdx-estrees-without-createevaluater",i}function r4(t){const e={};let i;for(i in t)jm.call(t,i)&&(e[a4(i)]=t[i]);return e}function a4(t){let e=t.replace(F3,l4);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function l4(t){return"-"+t.toLowerCase()}const Ed={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},o4={};function u4(t,e){const i=o4,s=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,l=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return YE(t,s,l)}function YE(t,e,i){if(c4(t)){if("value"in t)return t.type==="html"&&!i?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return J1(t.children,e,i)}return Array.isArray(t)?J1(t,e,i):""}function J1(t,e,i){const s=[];let l=-1;for(;++l<t.length;)s[l]=YE(t[l],e,i);return s.join("")}function c4(t){return!!(t&&typeof t=="object")}const e_=document.createElement("i");function Bm(t){const e="&"+t+";";e_.innerHTML=e;const i=e_.textContent;return i.charCodeAt(i.length-1)===59&&t!=="semi"||i===e?!1:i}function Jn(t,e,i,s){const l=t.length;let o=0,c;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,i=i>0?i:0,s.length<1e4)c=Array.from(s),c.unshift(e,i),t.splice(...c);else for(i&&t.splice(e,i);o<s.length;)c=s.slice(o,o+1e4),c.unshift(e,0),t.splice(...c),o+=1e4,e+=1e4}function Dn(t,e){return t.length>0?(Jn(t,t.length,0,e),t):e}const t_={}.hasOwnProperty;function f4(t){const e={};let i=-1;for(;++i<t.length;)h4(e,t[i]);return e}function h4(t,e){let i;for(i in e){const l=(t_.call(t,i)?t[i]:void 0)||(t[i]={}),o=e[i];let c;if(o)for(c in o){t_.call(l,c)||(l[c]=[]);const f=o[c];d4(l[c],Array.isArray(f)?f:f?[f]:[])}}}function d4(t,e){let i=-1;const s=[];for(;++i<e.length;)(e[i].add==="after"?t:s).push(e[i]);Jn(t,0,0,s)}function KE(t,e){const i=Number.parseInt(t,e);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"":String.fromCodePoint(i)}function Wr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qn=ds(/[A-Za-z]/),xn=ds(/[\dA-Za-z]/),p4=ds(/[#-'*+\--9=?A-Z^-~]/);function vp(t){return t!==null&&(t<32||t===127)}const xp=ds(/\d/),m4=ds(/[\dA-Fa-f]/),g4=ds(/[!-/:-@[-`{-~]/);function be(t){return t!==null&&t<-2}function ln(t){return t!==null&&(t<0||t===32)}function He(t){return t===-2||t===-1||t===32}const y4=ds(new RegExp("\\p{P}|\\p{S}","u")),v4=ds(/\s/);function ds(t){return e;function e(i){return i!==null&&i>-1&&t.test(String.fromCharCode(i))}}function ha(t){const e=[];let i=-1,s=0,l=0;for(;++i<t.length;){const o=t.charCodeAt(i);let c="";if(o===37&&xn(t.charCodeAt(i+1))&&xn(t.charCodeAt(i+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(c=String.fromCharCode(o));else if(o>55295&&o<57344){const f=t.charCodeAt(i+1);o<56320&&f>56319&&f<57344?(c=String.fromCharCode(o,f),l=1):c=""}else c=String.fromCharCode(o);c&&(e.push(t.slice(s,i),encodeURIComponent(c)),s=i+l+1,c=""),l&&(i+=l,l=0)}return e.join("")+t.slice(s)}function nt(t,e,i,s){const l=s?s-1:Number.POSITIVE_INFINITY;let o=0;return c;function c(p){return He(p)?(t.enter(i),f(p)):e(p)}function f(p){return He(p)&&o++<l?(t.consume(p),f):(t.exit(i),e(p))}}const x4={tokenize:_4};function _4(t){const e=t.attempt(this.parser.constructs.contentInitial,s,l);let i;return e;function s(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),nt(t,e,"linePrefix")}function l(f){return t.enter("paragraph"),o(f)}function o(f){const p=t.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=p),i=p,c(f)}function c(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return be(f)?(t.consume(f),t.exit("chunkText"),o):(t.consume(f),c)}}const b4={tokenize:S4},n_={tokenize:E4};function S4(t){const e=this,i=[];let s=0,l,o,c;return f;function f(O){if(s<i.length){const $=i[s];return e.containerState=$[1],t.attempt($[0].continuation,p,d)(O)}return d(O)}function p(O){if(s++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&V();const $=e.events.length;let Q=$,z;for(;Q--;)if(e.events[Q][0]==="exit"&&e.events[Q][1].type==="chunkFlow"){z=e.events[Q][1].end;break}R(s);let X=$;for(;X<e.events.length;)e.events[X][1].end={...z},X++;return Jn(e.events,Q+1,0,e.events.slice($)),e.events.length=X,d(O)}return f(O)}function d(O){if(s===i.length){if(!l)return v(O);if(l.currentConstruct&&l.currentConstruct.concrete)return C(O);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(n_,g,y)(O)}function g(O){return l&&V(),R(s),v(O)}function y(O){return e.parser.lazy[e.now().line]=s!==i.length,c=e.now().offset,C(O)}function v(O){return e.containerState={},t.attempt(n_,b,C)(O)}function b(O){return s++,i.push([e.currentConstruct,e.containerState]),v(O)}function C(O){if(O===null){l&&V(),R(0),t.consume(O);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),M(O)}function M(O){if(O===null){k(t.exit("chunkFlow"),!0),R(0),t.consume(O);return}return be(O)?(t.consume(O),k(t.exit("chunkFlow")),s=0,e.interrupt=void 0,f):(t.consume(O),M)}function k(O,$){const Q=e.sliceStream(O);if($&&Q.push(null),O.previous=o,o&&(o.next=O),o=O,l.defineSkip(O.start),l.write(Q),e.parser.lazy[O.start.line]){let z=l.events.length;for(;z--;)if(l.events[z][1].start.offset<c&&(!l.events[z][1].end||l.events[z][1].end.offset>c))return;const X=e.events.length;let te=X,fe,he;for(;te--;)if(e.events[te][0]==="exit"&&e.events[te][1].type==="chunkFlow"){if(fe){he=e.events[te][1].end;break}fe=!0}for(R(s),z=X;z<e.events.length;)e.events[z][1].end={...he},z++;Jn(e.events,te+1,0,e.events.slice(X)),e.events.length=z}}function R(O){let $=i.length;for(;$-- >O;){const Q=i[$];e.containerState=Q[1],Q[0].exit.call(e,t)}i.length=O}function V(){l.write([null]),o=void 0,l=void 0,e.containerState._closeFlow=void 0}}function E4(t,e,i){return nt(t,t.attempt(this.parser.constructs.document,e,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function i_(t){if(t===null||ln(t)||v4(t))return 1;if(y4(t))return 2}function Um(t,e,i){const s=[];let l=-1;for(;++l<t.length;){const o=t[l].resolveAll;o&&!s.includes(o)&&(e=o(e,i),s.push(o))}return e}const _p={name:"attention",resolveAll:C4,tokenize:T4};function C4(t,e){let i=-1,s,l,o,c,f,p,d,g;for(;++i<t.length;)if(t[i][0]==="enter"&&t[i][1].type==="attentionSequence"&&t[i][1]._close){for(s=i;s--;)if(t[s][0]==="exit"&&t[s][1].type==="attentionSequence"&&t[s][1]._open&&e.sliceSerialize(t[s][1]).charCodeAt(0)===e.sliceSerialize(t[i][1]).charCodeAt(0)){if((t[s][1]._close||t[i][1]._open)&&(t[i][1].end.offset-t[i][1].start.offset)%3&&!((t[s][1].end.offset-t[s][1].start.offset+t[i][1].end.offset-t[i][1].start.offset)%3))continue;p=t[s][1].end.offset-t[s][1].start.offset>1&&t[i][1].end.offset-t[i][1].start.offset>1?2:1;const y={...t[s][1].end},v={...t[i][1].start};s_(y,-p),s_(v,p),c={type:p>1?"strongSequence":"emphasisSequence",start:y,end:{...t[s][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[i][1].start},end:v},o={type:p>1?"strongText":"emphasisText",start:{...t[s][1].end},end:{...t[i][1].start}},l={type:p>1?"strong":"emphasis",start:{...c.start},end:{...f.end}},t[s][1].end={...c.start},t[i][1].start={...f.end},d=[],t[s][1].end.offset-t[s][1].start.offset&&(d=Dn(d,[["enter",t[s][1],e],["exit",t[s][1],e]])),d=Dn(d,[["enter",l,e],["enter",c,e],["exit",c,e],["enter",o,e]]),d=Dn(d,Um(e.parser.constructs.insideSpan.null,t.slice(s+1,i),e)),d=Dn(d,[["exit",o,e],["enter",f,e],["exit",f,e],["exit",l,e]]),t[i][1].end.offset-t[i][1].start.offset?(g=2,d=Dn(d,[["enter",t[i][1],e],["exit",t[i][1],e]])):g=0,Jn(t,s-1,i-s+3,d),i=s+d.length-g-2;break}}for(i=-1;++i<t.length;)t[i][1].type==="attentionSequence"&&(t[i][1].type="data");return t}function T4(t,e){const i=this.parser.constructs.attentionMarkers.null,s=this.previous,l=i_(s);let o;return c;function c(p){return o=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===o)return t.consume(p),f;const d=t.exit("attentionSequence"),g=i_(p),y=!g||g===2&&l||i.includes(p),v=!l||l===2&&g||i.includes(s);return d._open=!!(o===42?y:y&&(l||!v)),d._close=!!(o===42?v:v&&(g||!y)),e(p)}}function s_(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const w4={name:"autolink",tokenize:A4};function A4(t,e,i){let s=0;return l;function l(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return Qn(b)?(t.consume(b),c):b===64?i(b):d(b)}function c(b){return b===43||b===45||b===46||xn(b)?(s=1,f(b)):d(b)}function f(b){return b===58?(t.consume(b),s=0,p):(b===43||b===45||b===46||xn(b))&&s++<32?(t.consume(b),f):(s=0,d(b))}function p(b){return b===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):b===null||b===32||b===60||vp(b)?i(b):(t.consume(b),p)}function d(b){return b===64?(t.consume(b),g):p4(b)?(t.consume(b),d):i(b)}function g(b){return xn(b)?y(b):i(b)}function y(b){return b===46?(t.consume(b),s=0,g):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e):v(b)}function v(b){if((b===45||xn(b))&&s++<63){const C=b===45?v:y;return t.consume(b),C}return i(b)}}const jc={partial:!0,tokenize:N4};function N4(t,e,i){return s;function s(o){return He(o)?nt(t,l,"linePrefix")(o):l(o)}function l(o){return o===null||be(o)?e(o):i(o)}}const XE={continuation:{tokenize:M4},exit:D4,name:"blockQuote",tokenize:R4};function R4(t,e,i){const s=this;return l;function l(c){if(c===62){const f=s.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(c),t.exit("blockQuoteMarker"),o}return i(c)}function o(c){return He(c)?(t.enter("blockQuotePrefixWhitespace"),t.consume(c),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(c))}}function M4(t,e,i){const s=this;return l;function l(c){return He(c)?nt(t,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):o(c)}function o(c){return t.attempt(XE,e,i)(c)}}function D4(t){t.exit("blockQuote")}const QE={name:"characterEscape",tokenize:k4};function k4(t,e,i){return s;function s(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),l}function l(o){return g4(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):i(o)}}const $E={name:"characterReference",tokenize:O4};function O4(t,e,i){const s=this;let l=0,o,c;return f;function f(y){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),p}function p(y){return y===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(y),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),o=31,c=xn,g(y))}function d(y){return y===88||y===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(y),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,c=m4,g):(t.enter("characterReferenceValue"),o=7,c=xp,g(y))}function g(y){if(y===59&&l){const v=t.exit("characterReferenceValue");return c===xn&&!Bm(s.sliceSerialize(v))?i(y):(t.enter("characterReferenceMarker"),t.consume(y),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return c(y)&&l++<o?(t.consume(y),g):i(y)}}const r_={partial:!0,tokenize:j4},a_={concrete:!0,name:"codeFenced",tokenize:I4};function I4(t,e,i){const s=this,l={partial:!0,tokenize:Q};let o=0,c=0,f;return p;function p(z){return d(z)}function d(z){const X=s.events[s.events.length-1];return o=X&&X[1].type==="linePrefix"?X[2].sliceSerialize(X[1],!0).length:0,f=z,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(z)}function g(z){return z===f?(c++,t.consume(z),g):c<3?i(z):(t.exit("codeFencedFenceSequence"),He(z)?nt(t,y,"whitespace")(z):y(z))}function y(z){return z===null||be(z)?(t.exit("codeFencedFence"),s.interrupt?e(z):t.check(r_,M,$)(z)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),v(z))}function v(z){return z===null||be(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),y(z)):He(z)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),nt(t,b,"whitespace")(z)):z===96&&z===f?i(z):(t.consume(z),v)}function b(z){return z===null||be(z)?y(z):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(z))}function C(z){return z===null||be(z)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),y(z)):z===96&&z===f?i(z):(t.consume(z),C)}function M(z){return t.attempt(l,$,k)(z)}function k(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),R}function R(z){return o>0&&He(z)?nt(t,V,"linePrefix",o+1)(z):V(z)}function V(z){return z===null||be(z)?t.check(r_,M,$)(z):(t.enter("codeFlowValue"),O(z))}function O(z){return z===null||be(z)?(t.exit("codeFlowValue"),V(z)):(t.consume(z),O)}function $(z){return t.exit("codeFenced"),e(z)}function Q(z,X,te){let fe=0;return he;function he(W){return z.enter("lineEnding"),z.consume(W),z.exit("lineEnding"),ae}function ae(W){return z.enter("codeFencedFence"),He(W)?nt(z,le,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):le(W)}function le(W){return W===f?(z.enter("codeFencedFenceSequence"),Ce(W)):te(W)}function Ce(W){return W===f?(fe++,z.consume(W),Ce):fe>=c?(z.exit("codeFencedFenceSequence"),He(W)?nt(z,se,"whitespace")(W):se(W)):te(W)}function se(W){return W===null||be(W)?(z.exit("codeFencedFence"),X(W)):te(W)}}}function j4(t,e,i){const s=this;return l;function l(c){return c===null?i(c):(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o)}function o(c){return s.parser.lazy[s.now().line]?i(c):e(c)}}const Cd={name:"codeIndented",tokenize:z4},L4={partial:!0,tokenize:B4};function z4(t,e,i){const s=this;return l;function l(d){return t.enter("codeIndented"),nt(t,o,"linePrefix",5)(d)}function o(d){const g=s.events[s.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?c(d):i(d)}function c(d){return d===null?p(d):be(d)?t.attempt(L4,c,p)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||be(d)?(t.exit("codeFlowValue"),c(d)):(t.consume(d),f)}function p(d){return t.exit("codeIndented"),e(d)}}function B4(t,e,i){const s=this;return l;function l(c){return s.parser.lazy[s.now().line]?i(c):be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),l):nt(t,o,"linePrefix",5)(c)}function o(c){const f=s.events[s.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):be(c)?l(c):i(c)}}const U4={name:"codeText",previous:P4,resolve:V4,tokenize:H4};function V4(t){let e=t.length-4,i=3,s,l;if((t[i][1].type==="lineEnding"||t[i][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(s=i;++s<e;)if(t[s][1].type==="codeTextData"){t[i][1].type="codeTextPadding",t[e][1].type="codeTextPadding",i+=2,e-=2;break}}for(s=i-1,e++;++s<=e;)l===void 0?s!==e&&t[s][1].type!=="lineEnding"&&(l=s):(s===e||t[s][1].type==="lineEnding")&&(t[l][1].type="codeTextData",s!==l+2&&(t[l][1].end=t[s-1][1].end,t.splice(l+2,s-l-2),e-=s-l-2,s=l+2),l=void 0);return t}function P4(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function H4(t,e,i){let s=0,l,o;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),f(y)}function f(y){return y===96?(t.consume(y),s++,f):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?i(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(o=t.enter("codeTextSequence"),l=0,g(y)):be(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),d(y))}function d(y){return y===null||y===32||y===96||be(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),d)}function g(y){return y===96?(t.consume(y),l++,g):l===s?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(o.type="codeTextData",d(y))}}class F4{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,i){const s=i??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(e,s):e>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(e,i,s){const l=i||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return s&&yl(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yl(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yl(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const i=this.left.splice(e,Number.POSITIVE_INFINITY);yl(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yl(this.left,i.reverse())}}}function yl(t,e){let i=0;if(e.length<1e4)t.push(...e);else for(;i<e.length;)t.push(...e.slice(i,i+1e4)),i+=1e4}function ZE(t){const e={};let i=-1,s,l,o,c,f,p,d;const g=new F4(t);for(;++i<g.length;){for(;i in e;)i=e[i];if(s=g.get(i),i&&s[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(p=s[1]._tokenizer.events,o=0,o<p.length&&p[o][1].type==="lineEndingBlank"&&(o+=2),o<p.length&&p[o][1].type==="content"))for(;++o<p.length&&p[o][1].type!=="content";)p[o][1].type==="chunkText"&&(p[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(e,G4(g,i)),i=e[i],d=!0);else if(s[1]._container){for(o=i,l=void 0;o--;)if(c=g.get(o),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(l&&(g.get(l)[1].type="lineEndingBlank"),c[1].type="lineEnding",l=o);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;l&&(s[1].end={...g.get(l)[1].start},f=g.slice(l,i),f.unshift(s),g.splice(l,i-l+1,f))}}return Jn(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function G4(t,e){const i=t.get(e)[1],s=t.get(e)[2];let l=e-1;const o=[];let c=i._tokenizer;c||(c=s.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const f=c.events,p=[],d={};let g,y,v=-1,b=i,C=0,M=0;const k=[M];for(;b;){for(;t.get(++l)[1]!==b;);o.push(l),b._tokenizer||(g=s.sliceStream(b),b.next||g.push(null),y&&c.defineSkip(b.start),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(g),b._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),y=b,b=b.next}for(b=i;++v<f.length;)f[v][0]==="exit"&&f[v-1][0]==="enter"&&f[v][1].type===f[v-1][1].type&&f[v][1].start.line!==f[v][1].end.line&&(M=v+1,k.push(M),b._tokenizer=void 0,b.previous=void 0,b=b.next);for(c.events=[],b?(b._tokenizer=void 0,b.previous=void 0):k.pop(),v=k.length;v--;){const R=f.slice(k[v],k[v+1]),V=o.pop();p.push([V,V+R.length-1]),t.splice(V,2,R)}for(p.reverse(),v=-1;++v<p.length;)d[C+p[v][0]]=C+p[v][1],C+=p[v][1]-p[v][0]-1;return d}const q4={resolve:K4,tokenize:X4},Y4={partial:!0,tokenize:Q4};function K4(t){return ZE(t),t}function X4(t,e){let i;return s;function s(f){return t.enter("content"),i=t.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?o(f):be(f)?t.check(Y4,c,o)(f):(t.consume(f),l)}function o(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function c(f){return t.consume(f),t.exit("chunkContent"),i.next=t.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,l}}function Q4(t,e,i){const s=this;return l;function l(c){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),nt(t,o,"linePrefix")}function o(c){if(c===null||be(c))return i(c);const f=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(c):t.interrupt(s.parser.constructs.flow,i,e)(c)}}function WE(t,e,i,s,l,o,c,f,p){const d=p||Number.POSITIVE_INFINITY;let g=0;return y;function y(R){return R===60?(t.enter(s),t.enter(l),t.enter(o),t.consume(R),t.exit(o),v):R===null||R===32||R===41||vp(R)?i(R):(t.enter(s),t.enter(c),t.enter(f),t.enter("chunkString",{contentType:"string"}),M(R))}function v(R){return R===62?(t.enter(o),t.consume(R),t.exit(o),t.exit(l),t.exit(s),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===62?(t.exit("chunkString"),t.exit(f),v(R)):R===null||R===60||be(R)?i(R):(t.consume(R),R===92?C:b)}function C(R){return R===60||R===62||R===92?(t.consume(R),b):b(R)}function M(R){return!g&&(R===null||R===41||ln(R))?(t.exit("chunkString"),t.exit(f),t.exit(c),t.exit(s),e(R)):g<d&&R===40?(t.consume(R),g++,M):R===41?(t.consume(R),g--,M):R===null||R===32||R===40||vp(R)?i(R):(t.consume(R),R===92?k:M)}function k(R){return R===40||R===41||R===92?(t.consume(R),M):M(R)}}function JE(t,e,i,s,l,o){const c=this;let f=0,p;return d;function d(b){return t.enter(s),t.enter(l),t.consume(b),t.exit(l),t.enter(o),g}function g(b){return f>999||b===null||b===91||b===93&&!p||b===94&&!f&&"_hiddenFootnoteSupport"in c.parser.constructs?i(b):b===93?(t.exit(o),t.enter(l),t.consume(b),t.exit(l),t.exit(s),e):be(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===null||b===91||b===93||be(b)||f++>999?(t.exit("chunkString"),g(b)):(t.consume(b),p||(p=!He(b)),b===92?v:y)}function v(b){return b===91||b===92||b===93?(t.consume(b),f++,y):y(b)}}function eC(t,e,i,s,l,o){let c;return f;function f(v){return v===34||v===39||v===40?(t.enter(s),t.enter(l),t.consume(v),t.exit(l),c=v===40?41:v,p):i(v)}function p(v){return v===c?(t.enter(l),t.consume(v),t.exit(l),t.exit(s),e):(t.enter(o),d(v))}function d(v){return v===c?(t.exit(o),p(c)):v===null?i(v):be(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),nt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===c||v===null||be(v)?(t.exit("chunkString"),d(v)):(t.consume(v),v===92?y:g)}function y(v){return v===c||v===92?(t.consume(v),g):g(v)}}function Rl(t,e){let i;return s;function s(l){return be(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),i=!0,s):He(l)?nt(t,s,i?"linePrefix":"lineSuffix")(l):e(l)}}const $4={name:"definition",tokenize:W4},Z4={partial:!0,tokenize:J4};function W4(t,e,i){const s=this;let l;return o;function o(b){return t.enter("definition"),c(b)}function c(b){return JE.call(s,t,f,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(b)}function f(b){return l=Wr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),b===58?(t.enter("definitionMarker"),t.consume(b),t.exit("definitionMarker"),p):i(b)}function p(b){return ln(b)?Rl(t,d)(b):d(b)}function d(b){return WE(t,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(b)}function g(b){return t.attempt(Z4,y,y)(b)}function y(b){return He(b)?nt(t,v,"whitespace")(b):v(b)}function v(b){return b===null||be(b)?(t.exit("definition"),s.parser.defined.push(l),e(b)):i(b)}}function J4(t,e,i){return s;function s(f){return ln(f)?Rl(t,l)(f):i(f)}function l(f){return eC(t,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function o(f){return He(f)?nt(t,c,"whitespace")(f):c(f)}function c(f){return f===null||be(f)?e(f):i(f)}}const eI={name:"hardBreakEscape",tokenize:tI};function tI(t,e,i){return s;function s(o){return t.enter("hardBreakEscape"),t.consume(o),l}function l(o){return be(o)?(t.exit("hardBreakEscape"),e(o)):i(o)}}const nI={name:"headingAtx",resolve:iI,tokenize:sI};function iI(t,e){let i=t.length-2,s=3,l,o;return t[s][1].type==="whitespace"&&(s+=2),i-2>s&&t[i][1].type==="whitespace"&&(i-=2),t[i][1].type==="atxHeadingSequence"&&(s===i-1||i-4>s&&t[i-2][1].type==="whitespace")&&(i-=s+1===i?2:4),i>s&&(l={type:"atxHeadingText",start:t[s][1].start,end:t[i][1].end},o={type:"chunkText",start:t[s][1].start,end:t[i][1].end,contentType:"text"},Jn(t,s,i-s+1,[["enter",l,e],["enter",o,e],["exit",o,e],["exit",l,e]])),t}function sI(t,e,i){let s=0;return l;function l(g){return t.enter("atxHeading"),o(g)}function o(g){return t.enter("atxHeadingSequence"),c(g)}function c(g){return g===35&&s++<6?(t.consume(g),c):g===null||ln(g)?(t.exit("atxHeadingSequence"),f(g)):i(g)}function f(g){return g===35?(t.enter("atxHeadingSequence"),p(g)):g===null||be(g)?(t.exit("atxHeading"),e(g)):He(g)?nt(t,f,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function p(g){return g===35?(t.consume(g),p):(t.exit("atxHeadingSequence"),f(g))}function d(g){return g===null||g===35||ln(g)?(t.exit("atxHeadingText"),f(g)):(t.consume(g),d)}}const rI=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],l_=["pre","script","style","textarea"],aI={concrete:!0,name:"htmlFlow",resolveTo:uI,tokenize:cI},lI={partial:!0,tokenize:hI},oI={partial:!0,tokenize:fI};function uI(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function cI(t,e,i){const s=this;let l,o,c,f,p;return d;function d(E){return g(E)}function g(E){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(E),y}function y(E){return E===33?(t.consume(E),v):E===47?(t.consume(E),o=!0,M):E===63?(t.consume(E),l=3,s.interrupt?e:T):Qn(E)?(t.consume(E),c=String.fromCharCode(E),k):i(E)}function v(E){return E===45?(t.consume(E),l=2,b):E===91?(t.consume(E),l=5,f=0,C):Qn(E)?(t.consume(E),l=4,s.interrupt?e:T):i(E)}function b(E){return E===45?(t.consume(E),s.interrupt?e:T):i(E)}function C(E){const oe="CDATA[";return E===oe.charCodeAt(f++)?(t.consume(E),f===oe.length?s.interrupt?e:le:C):i(E)}function M(E){return Qn(E)?(t.consume(E),c=String.fromCharCode(E),k):i(E)}function k(E){if(E===null||E===47||E===62||ln(E)){const oe=E===47,K=c.toLowerCase();return!oe&&!o&&l_.includes(K)?(l=1,s.interrupt?e(E):le(E)):rI.includes(c.toLowerCase())?(l=6,oe?(t.consume(E),R):s.interrupt?e(E):le(E)):(l=7,s.interrupt&&!s.parser.lazy[s.now().line]?i(E):o?V(E):O(E))}return E===45||xn(E)?(t.consume(E),c+=String.fromCharCode(E),k):i(E)}function R(E){return E===62?(t.consume(E),s.interrupt?e:le):i(E)}function V(E){return He(E)?(t.consume(E),V):he(E)}function O(E){return E===47?(t.consume(E),he):E===58||E===95||Qn(E)?(t.consume(E),$):He(E)?(t.consume(E),O):he(E)}function $(E){return E===45||E===46||E===58||E===95||xn(E)?(t.consume(E),$):Q(E)}function Q(E){return E===61?(t.consume(E),z):He(E)?(t.consume(E),Q):O(E)}function z(E){return E===null||E===60||E===61||E===62||E===96?i(E):E===34||E===39?(t.consume(E),p=E,X):He(E)?(t.consume(E),z):te(E)}function X(E){return E===p?(t.consume(E),p=null,fe):E===null||be(E)?i(E):(t.consume(E),X)}function te(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||ln(E)?Q(E):(t.consume(E),te)}function fe(E){return E===47||E===62||He(E)?O(E):i(E)}function he(E){return E===62?(t.consume(E),ae):i(E)}function ae(E){return E===null||be(E)?le(E):He(E)?(t.consume(E),ae):i(E)}function le(E){return E===45&&l===2?(t.consume(E),L):E===60&&l===1?(t.consume(E),Y):E===62&&l===4?(t.consume(E),A):E===63&&l===3?(t.consume(E),T):E===93&&l===5?(t.consume(E),ve):be(E)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(lI,H,Ce)(E)):E===null||be(E)?(t.exit("htmlFlowData"),Ce(E)):(t.consume(E),le)}function Ce(E){return t.check(oI,se,H)(E)}function se(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),W}function W(E){return E===null||be(E)?Ce(E):(t.enter("htmlFlowData"),le(E))}function L(E){return E===45?(t.consume(E),T):le(E)}function Y(E){return E===47?(t.consume(E),c="",ue):le(E)}function ue(E){if(E===62){const oe=c.toLowerCase();return l_.includes(oe)?(t.consume(E),A):le(E)}return Qn(E)&&c.length<8?(t.consume(E),c+=String.fromCharCode(E),ue):le(E)}function ve(E){return E===93?(t.consume(E),T):le(E)}function T(E){return E===62?(t.consume(E),A):E===45&&l===2?(t.consume(E),T):le(E)}function A(E){return E===null||be(E)?(t.exit("htmlFlowData"),H(E)):(t.consume(E),A)}function H(E){return t.exit("htmlFlow"),e(E)}}function fI(t,e,i){const s=this;return l;function l(c){return be(c)?(t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),o):i(c)}function o(c){return s.parser.lazy[s.now().line]?i(c):e(c)}}function hI(t,e,i){return s;function s(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(jc,e,i)}}const dI={name:"htmlText",tokenize:pI};function pI(t,e,i){const s=this;let l,o,c;return f;function f(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),p}function p(T){return T===33?(t.consume(T),d):T===47?(t.consume(T),Q):T===63?(t.consume(T),O):Qn(T)?(t.consume(T),te):i(T)}function d(T){return T===45?(t.consume(T),g):T===91?(t.consume(T),o=0,C):Qn(T)?(t.consume(T),V):i(T)}function g(T){return T===45?(t.consume(T),b):i(T)}function y(T){return T===null?i(T):T===45?(t.consume(T),v):be(T)?(c=y,Y(T)):(t.consume(T),y)}function v(T){return T===45?(t.consume(T),b):y(T)}function b(T){return T===62?L(T):T===45?v(T):y(T)}function C(T){const A="CDATA[";return T===A.charCodeAt(o++)?(t.consume(T),o===A.length?M:C):i(T)}function M(T){return T===null?i(T):T===93?(t.consume(T),k):be(T)?(c=M,Y(T)):(t.consume(T),M)}function k(T){return T===93?(t.consume(T),R):M(T)}function R(T){return T===62?L(T):T===93?(t.consume(T),R):M(T)}function V(T){return T===null||T===62?L(T):be(T)?(c=V,Y(T)):(t.consume(T),V)}function O(T){return T===null?i(T):T===63?(t.consume(T),$):be(T)?(c=O,Y(T)):(t.consume(T),O)}function $(T){return T===62?L(T):O(T)}function Q(T){return Qn(T)?(t.consume(T),z):i(T)}function z(T){return T===45||xn(T)?(t.consume(T),z):X(T)}function X(T){return be(T)?(c=X,Y(T)):He(T)?(t.consume(T),X):L(T)}function te(T){return T===45||xn(T)?(t.consume(T),te):T===47||T===62||ln(T)?fe(T):i(T)}function fe(T){return T===47?(t.consume(T),L):T===58||T===95||Qn(T)?(t.consume(T),he):be(T)?(c=fe,Y(T)):He(T)?(t.consume(T),fe):L(T)}function he(T){return T===45||T===46||T===58||T===95||xn(T)?(t.consume(T),he):ae(T)}function ae(T){return T===61?(t.consume(T),le):be(T)?(c=ae,Y(T)):He(T)?(t.consume(T),ae):fe(T)}function le(T){return T===null||T===60||T===61||T===62||T===96?i(T):T===34||T===39?(t.consume(T),l=T,Ce):be(T)?(c=le,Y(T)):He(T)?(t.consume(T),le):(t.consume(T),se)}function Ce(T){return T===l?(t.consume(T),l=void 0,W):T===null?i(T):be(T)?(c=Ce,Y(T)):(t.consume(T),Ce)}function se(T){return T===null||T===34||T===39||T===60||T===61||T===96?i(T):T===47||T===62||ln(T)?fe(T):(t.consume(T),se)}function W(T){return T===47||T===62||ln(T)?fe(T):i(T)}function L(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):i(T)}function Y(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),ue}function ue(T){return He(T)?nt(t,ve,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):ve(T)}function ve(T){return t.enter("htmlTextData"),c(T)}}const Vm={name:"labelEnd",resolveAll:vI,resolveTo:xI,tokenize:_I},mI={tokenize:bI},gI={tokenize:SI},yI={tokenize:EI};function vI(t){let e=-1;const i=[];for(;++e<t.length;){const s=t[e][1];if(i.push(t[e]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const l=s.type==="labelImage"?4:2;s.type="data",e+=l}}return t.length!==i.length&&Jn(t,0,t.length,i),t}function xI(t,e){let i=t.length,s=0,l,o,c,f;for(;i--;)if(l=t[i][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[i][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(c){if(t[i][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=i,l.type!=="labelLink")){s=2;break}}else l.type==="labelEnd"&&(c=i);const p={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[o][1].start},end:{...t[c][1].end}},g={type:"labelText",start:{...t[o+s+2][1].end},end:{...t[c-2][1].start}};return f=[["enter",p,e],["enter",d,e]],f=Dn(f,t.slice(o+1,o+s+3)),f=Dn(f,[["enter",g,e]]),f=Dn(f,Um(e.parser.constructs.insideSpan.null,t.slice(o+s+4,c-3),e)),f=Dn(f,[["exit",g,e],t[c-2],t[c-1],["exit",d,e]]),f=Dn(f,t.slice(c+1)),f=Dn(f,[["exit",p,e]]),Jn(t,o,t.length,f),t}function _I(t,e,i){const s=this;let l=s.events.length,o,c;for(;l--;)if((s.events[l][1].type==="labelImage"||s.events[l][1].type==="labelLink")&&!s.events[l][1]._balanced){o=s.events[l][1];break}return f;function f(v){return o?o._inactive?y(v):(c=s.parser.defined.includes(Wr(s.sliceSerialize({start:o.end,end:s.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(v),t.exit("labelMarker"),t.exit("labelEnd"),p):i(v)}function p(v){return v===40?t.attempt(mI,g,c?g:y)(v):v===91?t.attempt(gI,g,c?d:y)(v):c?g(v):y(v)}function d(v){return t.attempt(yI,g,y)(v)}function g(v){return e(v)}function y(v){return o._balanced=!0,i(v)}}function bI(t,e,i){return s;function s(y){return t.enter("resource"),t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),l}function l(y){return ln(y)?Rl(t,o)(y):o(y)}function o(y){return y===41?g(y):WE(t,c,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(y)}function c(y){return ln(y)?Rl(t,p)(y):g(y)}function f(y){return i(y)}function p(y){return y===34||y===39||y===40?eC(t,d,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(y):g(y)}function d(y){return ln(y)?Rl(t,g)(y):g(y)}function g(y){return y===41?(t.enter("resourceMarker"),t.consume(y),t.exit("resourceMarker"),t.exit("resource"),e):i(y)}}function SI(t,e,i){const s=this;return l;function l(f){return JE.call(s,t,o,c,"reference","referenceMarker","referenceString")(f)}function o(f){return s.parser.defined.includes(Wr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?e(f):i(f)}function c(f){return i(f)}}function EI(t,e,i){return s;function s(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),l}function l(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):i(o)}}const CI={name:"labelStartImage",resolveAll:Vm.resolveAll,tokenize:TI};function TI(t,e,i){const s=this;return l;function l(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),o}function o(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),c):i(f)}function c(f){return f===94&&"_hiddenFootnoteSupport"in s.parser.constructs?i(f):e(f)}}const wI={name:"labelStartLink",resolveAll:Vm.resolveAll,tokenize:AI};function AI(t,e,i){const s=this;return l;function l(c){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelLink"),o}function o(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?i(c):e(c)}}const Td={name:"lineEnding",tokenize:NI};function NI(t,e){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),nt(t,e,"linePrefix")}}const Gu={name:"thematicBreak",tokenize:RI};function RI(t,e,i){let s=0,l;return o;function o(d){return t.enter("thematicBreak"),c(d)}function c(d){return l=d,f(d)}function f(d){return d===l?(t.enter("thematicBreakSequence"),p(d)):s>=3&&(d===null||be(d))?(t.exit("thematicBreak"),e(d)):i(d)}function p(d){return d===l?(t.consume(d),s++,p):(t.exit("thematicBreakSequence"),He(d)?nt(t,f,"whitespace")(d):f(d))}}const nn={continuation:{tokenize:OI},exit:jI,name:"list",tokenize:kI},MI={partial:!0,tokenize:LI},DI={partial:!0,tokenize:II};function kI(t,e,i){const s=this,l=s.events[s.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,c=0;return f;function f(b){const C=s.containerState.type||(b===42||b===43||b===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!s.containerState.marker||b===s.containerState.marker:xp(b)){if(s.containerState.type||(s.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),b===42||b===45?t.check(Gu,i,d)(b):d(b);if(!s.interrupt||b===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(b)}return i(b)}function p(b){return xp(b)&&++c<10?(t.consume(b),p):(!s.interrupt||c<2)&&(s.containerState.marker?b===s.containerState.marker:b===41||b===46)?(t.exit("listItemValue"),d(b)):i(b)}function d(b){return t.enter("listItemMarker"),t.consume(b),t.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||b,t.check(jc,s.interrupt?i:g,t.attempt(MI,v,y))}function g(b){return s.containerState.initialBlankLine=!0,o++,v(b)}function y(b){return He(b)?(t.enter("listItemPrefixWhitespace"),t.consume(b),t.exit("listItemPrefixWhitespace"),v):i(b)}function v(b){return s.containerState.size=o+s.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(b)}}function OI(t,e,i){const s=this;return s.containerState._closeFlow=void 0,t.check(jc,l,o);function l(f){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,nt(t,e,"listItemIndent",s.containerState.size+1)(f)}function o(f){return s.containerState.furtherBlankLines||!He(f)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,c(f)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,t.attempt(DI,e,c)(f))}function c(f){return s.containerState._closeFlow=!0,s.interrupt=void 0,nt(t,t.attempt(nn,e,i),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function II(t,e,i){const s=this;return nt(t,l,"listItemIndent",s.containerState.size+1);function l(o){const c=s.events[s.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===s.containerState.size?e(o):i(o)}}function jI(t){t.exit(this.containerState.type)}function LI(t,e,i){const s=this;return nt(t,l,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const c=s.events[s.events.length-1];return!He(o)&&c&&c[1].type==="listItemPrefixWhitespace"?e(o):i(o)}}const o_={name:"setextUnderline",resolveTo:zI,tokenize:BI};function zI(t,e){let i=t.length,s,l,o;for(;i--;)if(t[i][0]==="enter"){if(t[i][1].type==="content"){s=i;break}t[i][1].type==="paragraph"&&(l=i)}else t[i][1].type==="content"&&t.splice(i,1),!o&&t[i][1].type==="definition"&&(o=i);const c={type:"setextHeading",start:{...t[s][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",o?(t.splice(l,0,["enter",c,e]),t.splice(o+1,0,["exit",t[s][1],e]),t[s][1].end={...t[o][1].end}):t[s][1]=c,t.push(["exit",c,e]),t}function BI(t,e,i){const s=this;let l;return o;function o(d){let g=s.events.length,y;for(;g--;)if(s.events[g][1].type!=="lineEnding"&&s.events[g][1].type!=="linePrefix"&&s.events[g][1].type!=="content"){y=s.events[g][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||y)?(t.enter("setextHeadingLine"),l=d,c(d)):i(d)}function c(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===l?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),He(d)?nt(t,p,"lineSuffix")(d):p(d))}function p(d){return d===null||be(d)?(t.exit("setextHeadingLine"),e(d)):i(d)}}const UI={tokenize:VI};function VI(t){const e=this,i=t.attempt(jc,s,t.attempt(this.parser.constructs.flowInitial,l,nt(t,t.attempt(this.parser.constructs.flow,l,t.attempt(q4,l)),"linePrefix")));return i;function s(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,i}function l(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,i}}const PI={resolveAll:nC()},HI=tC("string"),FI=tC("text");function tC(t){return{resolveAll:nC(t==="text"?GI:void 0),tokenize:e};function e(i){const s=this,l=this.parser.constructs[t],o=i.attempt(l,c,f);return c;function c(g){return d(g)?o(g):f(g)}function f(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),p}function p(g){return d(g)?(i.exit("data"),o(g)):(i.consume(g),p)}function d(g){if(g===null)return!0;const y=l[g];let v=-1;if(y)for(;++v<y.length;){const b=y[v];if(!b.previous||b.previous.call(s,s.previous))return!0}return!1}}}function nC(t){return e;function e(i,s){let l=-1,o;for(;++l<=i.length;)o===void 0?i[l]&&i[l][1].type==="data"&&(o=l,l++):(!i[l]||i[l][1].type!=="data")&&(l!==o+2&&(i[o][1].end=i[l-1][1].end,i.splice(o+2,l-o-2),l=o+2),o=void 0);return t?t(i,s):i}}function GI(t,e){let i=0;for(;++i<=t.length;)if((i===t.length||t[i][1].type==="lineEnding")&&t[i-1][1].type==="data"){const s=t[i-1][1],l=e.sliceStream(s);let o=l.length,c=-1,f=0,p;for(;o--;){const d=l[o];if(typeof d=="string"){for(c=d.length;d.charCodeAt(c-1)===32;)f++,c--;if(c)break;c=-1}else if(d===-2)p=!0,f++;else if(d!==-1){o++;break}}if(e._contentTypeTextTrailing&&i===t.length&&(f=0),f){const d={type:i===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?c:s.start._bufferIndex+c,_index:s.start._index+o,line:s.end.line,column:s.end.column-f,offset:s.end.offset-f},end:{...s.end}};s.end={...d.start},s.start.offset===s.end.offset?Object.assign(s,d):(t.splice(i,0,["enter",d,e],["exit",d,e]),i+=2)}i++}return t}const qI={42:nn,43:nn,45:nn,48:nn,49:nn,50:nn,51:nn,52:nn,53:nn,54:nn,55:nn,56:nn,57:nn,62:XE},YI={91:$4},KI={[-2]:Cd,[-1]:Cd,32:Cd},XI={35:nI,42:Gu,45:[o_,Gu],60:aI,61:o_,95:Gu,96:a_,126:a_},QI={38:$E,92:QE},$I={[-5]:Td,[-4]:Td,[-3]:Td,33:CI,38:$E,42:_p,60:[w4,dI],91:wI,92:[eI,QE],93:Vm,95:_p,96:U4},ZI={null:[_p,PI]},WI={null:[42,95]},JI={null:[]},e5=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:WI,contentInitial:YI,disable:JI,document:qI,flow:XI,flowInitial:KI,insideSpan:ZI,string:QI,text:$I},Symbol.toStringTag,{value:"Module"}));function t5(t,e,i){let s={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const l={},o=[];let c=[],f=[];const p={attempt:X(Q),check:X(z),consume:V,enter:O,exit:$,interrupt:X(z,{interrupt:!0})},d={code:null,containerState:{},defineSkip:M,events:[],now:C,parser:t,previous:null,sliceSerialize:v,sliceStream:b,write:y};let g=e.tokenize.call(d,p);return e.resolveAll&&o.push(e),d;function y(ae){return c=Dn(c,ae),k(),c[c.length-1]!==null?[]:(te(e,0),d.events=Um(o,d.events,d),d.events)}function v(ae,le){return i5(b(ae),le)}function b(ae){return n5(c,ae)}function C(){const{_bufferIndex:ae,_index:le,line:Ce,column:se,offset:W}=s;return{_bufferIndex:ae,_index:le,line:Ce,column:se,offset:W}}function M(ae){l[ae.line]=ae.column,he()}function k(){let ae;for(;s._index<c.length;){const le=c[s._index];if(typeof le=="string")for(ae=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===ae&&s._bufferIndex<le.length;)R(le.charCodeAt(s._bufferIndex));else R(le)}}function R(ae){g=g(ae)}function V(ae){be(ae)?(s.line++,s.column=1,s.offset+=ae===-3?2:1,he()):ae!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===c[s._index].length&&(s._bufferIndex=-1,s._index++)),d.previous=ae}function O(ae,le){const Ce=le||{};return Ce.type=ae,Ce.start=C(),d.events.push(["enter",Ce,d]),f.push(Ce),Ce}function $(ae){const le=f.pop();return le.end=C(),d.events.push(["exit",le,d]),le}function Q(ae,le){te(ae,le.from)}function z(ae,le){le.restore()}function X(ae,le){return Ce;function Ce(se,W,L){let Y,ue,ve,T;return Array.isArray(se)?H(se):"tokenize"in se?H([se]):A(se);function A(Z){return J;function J(pe){const Se=pe!==null&&Z[pe],We=pe!==null&&Z.null,at=[...Array.isArray(Se)?Se:Se?[Se]:[],...Array.isArray(We)?We:We?[We]:[]];return H(at)(pe)}}function H(Z){return Y=Z,ue=0,Z.length===0?L:E(Z[ue])}function E(Z){return J;function J(pe){return T=fe(),ve=Z,Z.partial||(d.currentConstruct=Z),Z.name&&d.parser.constructs.disable.null.includes(Z.name)?K():Z.tokenize.call(le?Object.assign(Object.create(d),le):d,p,oe,K)(pe)}}function oe(Z){return ae(ve,T),W}function K(Z){return T.restore(),++ue<Y.length?E(Y[ue]):L}}}function te(ae,le){ae.resolveAll&&!o.includes(ae)&&o.push(ae),ae.resolve&&Jn(d.events,le,d.events.length-le,ae.resolve(d.events.slice(le),d)),ae.resolveTo&&(d.events=ae.resolveTo(d.events,d))}function fe(){const ae=C(),le=d.previous,Ce=d.currentConstruct,se=d.events.length,W=Array.from(f);return{from:se,restore:L};function L(){s=ae,d.previous=le,d.currentConstruct=Ce,d.events.length=se,f=W,he()}}function he(){s.line in l&&s.column<2&&(s.column=l[s.line],s.offset+=l[s.line]-1)}}function n5(t,e){const i=e.start._index,s=e.start._bufferIndex,l=e.end._index,o=e.end._bufferIndex;let c;if(i===l)c=[t[i].slice(s,o)];else{if(c=t.slice(i,l),s>-1){const f=c[0];typeof f=="string"?c[0]=f.slice(s):c.shift()}o>0&&c.push(t[l].slice(0,o))}return c}function i5(t,e){let i=-1;const s=[];let l;for(;++i<t.length;){const o=t[i];let c;if(typeof o=="string")c=o;else switch(o){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=e?" ":"	";break}case-1:{if(!e&&l)continue;c=" ";break}default:c=String.fromCharCode(o)}l=o===-2,s.push(c)}return s.join("")}function s5(t){const s={constructs:f4([e5,...(t||{}).extensions||[]]),content:l(x4),defined:[],document:l(b4),flow:l(UI),lazy:{},string:l(HI),text:l(FI)};return s;function l(o){return c;function c(f){return t5(s,o,f)}}}function r5(t){for(;!ZE(t););return t}const u_=/[\0\t\n\r]/g;function a5(){let t=1,e="",i=!0,s;return l;function l(o,c,f){const p=[];let d,g,y,v,b;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(c||void 0).decode(o)),y=0,e="",i&&(o.charCodeAt(0)===65279&&y++,i=void 0);y<o.length;){if(u_.lastIndex=y,d=u_.exec(o),v=d&&d.index!==void 0?d.index:o.length,b=o.charCodeAt(v),!d){e=o.slice(y);break}if(b===10&&y===v&&s)p.push(-3),s=void 0;else switch(s&&(p.push(-5),s=void 0),y<v&&(p.push(o.slice(y,v)),t+=v-y),b){case 0:{p.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,p.push(-2);t++<g;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:s=!0,t=1}y=v+1}return f&&(s&&p.push(-5),e&&p.push(e),p.push(null)),p}}const l5=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function o5(t){return t.replace(l5,u5)}function u5(t,e,i){if(e)return e;if(i.charCodeAt(0)===35){const l=i.charCodeAt(1),o=l===120||l===88;return KE(i.slice(o?2:1),o?16:10)}return Bm(i)||t}const iC={}.hasOwnProperty;function c5(t,e,i){return typeof e!="string"&&(i=e,e=void 0),f5(i)(r5(s5(i).document().write(a5()(t,e,!0))))}function f5(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ws),autolinkProtocol:fe,autolinkEmail:fe,atxHeading:o($s),blockQuote:o(We),characterEscape:fe,characterReference:fe,codeFenced:o(at),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:o(at,c),codeText:o(ei,c),codeTextData:fe,data:fe,codeFlowValue:fe,definition:o(mo),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:o(ti),hardBreakEscape:o(Zs),hardBreakTrailing:o(Zs),htmlFlow:o(go,c),htmlFlowData:fe,htmlText:o(go,c),htmlTextData:fe,image:o(yo),label:c,link:o(Ws),listItem:o(ga),listItemValue:v,listOrdered:o(Js,y),listUnordered:o(Js),paragraph:o(Pc),reference:E,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:o($s),strong:o(Hc),thematicBreak:o(Fc)},exit:{atxHeading:p(),atxHeadingSequence:Q,autolink:p(),autolinkEmail:Se,autolinkProtocol:pe,blockQuote:p(),characterEscapeValue:he,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:Z,characterReference:J,codeFenced:p(k),codeFencedFence:M,codeFencedFenceInfo:b,codeFencedFenceMeta:C,codeFlowValue:he,codeIndented:p(R),codeText:p(W),codeTextData:he,data:he,definition:p(),definitionDestinationString:$,definitionLabelString:V,definitionTitleString:O,emphasis:p(),hardBreakEscape:p(le),hardBreakTrailing:p(le),htmlFlow:p(Ce),htmlFlowData:he,htmlText:p(se),htmlTextData:he,image:p(Y),label:ve,labelText:ue,lineEnding:ae,link:p(L),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:oe,resourceDestinationString:T,resourceTitleString:A,resource:H,setextHeading:p(te),setextHeadingLineSequence:X,setextHeadingText:z,strong:p(),thematicBreak:p()}};sC(e,(t||{}).mdastExtensions||[]);const i={};return s;function s(F){let re={type:"root",children:[]};const xe={stack:[re],tokenStack:[],config:e,enter:f,exit:d,buffer:c,resume:g,data:i},De=[];let Fe=-1;for(;++Fe<F.length;)if(F[Fe][1].type==="listOrdered"||F[Fe][1].type==="listUnordered")if(F[Fe][0]==="enter")De.push(Fe);else{const cn=De.pop();Fe=l(F,cn,Fe)}for(Fe=-1;++Fe<F.length;){const cn=e[F[Fe][0]];iC.call(cn,F[Fe][1].type)&&cn[F[Fe][1].type].call(Object.assign({sliceSerialize:F[Fe][2].sliceSerialize},xe),F[Fe][1])}if(xe.tokenStack.length>0){const cn=xe.tokenStack[xe.tokenStack.length-1];(cn[1]||c_).call(xe,void 0,cn[0])}for(re.position={start:es(F.length>0?F[0][1].start:{line:1,column:1,offset:0}),end:es(F.length>0?F[F.length-2][1].end:{line:1,column:1,offset:0})},Fe=-1;++Fe<e.transforms.length;)re=e.transforms[Fe](re)||re;return re}function l(F,re,xe){let De=re-1,Fe=-1,cn=!1,ni,Gt,St,Xt;for(;++De<=xe;){const Qe=F[De];switch(Qe[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Qe[0]==="enter"?Fe++:Fe--,Xt=void 0;break}case"lineEndingBlank":{Qe[0]==="enter"&&(ni&&!Xt&&!Fe&&!St&&(St=De),Xt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Xt=void 0}if(!Fe&&Qe[0]==="enter"&&Qe[1].type==="listItemPrefix"||Fe===-1&&Qe[0]==="exit"&&(Qe[1].type==="listUnordered"||Qe[1].type==="listOrdered")){if(ni){let Ri=De;for(Gt=void 0;Ri--;){const In=F[Ri];if(In[1].type==="lineEnding"||In[1].type==="lineEndingBlank"){if(In[0]==="exit")continue;Gt&&(F[Gt][1].type="lineEndingBlank",cn=!0),In[1].type="lineEnding",Gt=Ri}else if(!(In[1].type==="linePrefix"||In[1].type==="blockQuotePrefix"||In[1].type==="blockQuotePrefixWhitespace"||In[1].type==="blockQuoteMarker"||In[1].type==="listItemIndent"))break}St&&(!Gt||St<Gt)&&(ni._spread=!0),ni.end=Object.assign({},Gt?F[Gt][1].start:Qe[1].end),F.splice(Gt||De,0,["exit",ni,Qe[2]]),De++,xe++}if(Qe[1].type==="listItemPrefix"){const Ri={type:"listItem",_spread:!1,start:Object.assign({},Qe[1].start),end:void 0};ni=Ri,F.splice(De,0,["enter",Ri,Qe[2]]),De++,xe++,St=void 0,Xt=!0}}}return F[re][1]._spread=cn,xe}function o(F,re){return xe;function xe(De){f.call(this,F(De),De),re&&re.call(this,De)}}function c(){this.stack.push({type:"fragment",children:[]})}function f(F,re,xe){this.stack[this.stack.length-1].children.push(F),this.stack.push(F),this.tokenStack.push([re,xe||void 0]),F.position={start:es(re.start),end:void 0}}function p(F){return re;function re(xe){F&&F.call(this,xe),d.call(this,xe)}}function d(F,re){const xe=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==F.type&&(re?re.call(this,F,De[0]):(De[1]||c_).call(this,F,De[0]));else throw new Error("Cannot close `"+F.type+"` ("+Nl({start:F.start,end:F.end})+"): its not open");xe.position.end=es(F.end)}function g(){return u4(this.stack.pop())}function y(){this.data.expectingFirstListItemValue=!0}function v(F){if(this.data.expectingFirstListItemValue){const re=this.stack[this.stack.length-2];re.start=Number.parseInt(this.sliceSerialize(F),10),this.data.expectingFirstListItemValue=void 0}}function b(){const F=this.resume(),re=this.stack[this.stack.length-1];re.lang=F}function C(){const F=this.resume(),re=this.stack[this.stack.length-1];re.meta=F}function M(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const F=this.resume(),re=this.stack[this.stack.length-1];re.value=F.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function R(){const F=this.resume(),re=this.stack[this.stack.length-1];re.value=F.replace(/(\r?\n|\r)$/g,"")}function V(F){const re=this.resume(),xe=this.stack[this.stack.length-1];xe.label=re,xe.identifier=Wr(this.sliceSerialize(F)).toLowerCase()}function O(){const F=this.resume(),re=this.stack[this.stack.length-1];re.title=F}function $(){const F=this.resume(),re=this.stack[this.stack.length-1];re.url=F}function Q(F){const re=this.stack[this.stack.length-1];if(!re.depth){const xe=this.sliceSerialize(F).length;re.depth=xe}}function z(){this.data.setextHeadingSlurpLineEnding=!0}function X(F){const re=this.stack[this.stack.length-1];re.depth=this.sliceSerialize(F).codePointAt(0)===61?1:2}function te(){this.data.setextHeadingSlurpLineEnding=void 0}function fe(F){const xe=this.stack[this.stack.length-1].children;let De=xe[xe.length-1];(!De||De.type!=="text")&&(De=Ft(),De.position={start:es(F.start),end:void 0},xe.push(De)),this.stack.push(De)}function he(F){const re=this.stack.pop();re.value+=this.sliceSerialize(F),re.position.end=es(F.end)}function ae(F){const re=this.stack[this.stack.length-1];if(this.data.atHardBreak){const xe=re.children[re.children.length-1];xe.position.end=es(F.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(re.type)&&(fe.call(this,F),he.call(this,F))}function le(){this.data.atHardBreak=!0}function Ce(){const F=this.resume(),re=this.stack[this.stack.length-1];re.value=F}function se(){const F=this.resume(),re=this.stack[this.stack.length-1];re.value=F}function W(){const F=this.resume(),re=this.stack[this.stack.length-1];re.value=F}function L(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=re,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function Y(){const F=this.stack[this.stack.length-1];if(this.data.inReference){const re=this.data.referenceType||"shortcut";F.type+="Reference",F.referenceType=re,delete F.url,delete F.title}else delete F.identifier,delete F.label;this.data.referenceType=void 0}function ue(F){const re=this.sliceSerialize(F),xe=this.stack[this.stack.length-2];xe.label=o5(re),xe.identifier=Wr(re).toLowerCase()}function ve(){const F=this.stack[this.stack.length-1],re=this.resume(),xe=this.stack[this.stack.length-1];if(this.data.inReference=!0,xe.type==="link"){const De=F.children;xe.children=De}else xe.alt=re}function T(){const F=this.resume(),re=this.stack[this.stack.length-1];re.url=F}function A(){const F=this.resume(),re=this.stack[this.stack.length-1];re.title=F}function H(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function oe(F){const re=this.resume(),xe=this.stack[this.stack.length-1];xe.label=re,xe.identifier=Wr(this.sliceSerialize(F)).toLowerCase(),this.data.referenceType="full"}function K(F){this.data.characterReferenceType=F.type}function Z(F){const re=this.sliceSerialize(F),xe=this.data.characterReferenceType;let De;xe?(De=KE(re,xe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=Bm(re);const Fe=this.stack[this.stack.length-1];Fe.value+=De}function J(F){const re=this.stack.pop();re.position.end=es(F.end)}function pe(F){he.call(this,F);const re=this.stack[this.stack.length-1];re.url=this.sliceSerialize(F)}function Se(F){he.call(this,F);const re=this.stack[this.stack.length-1];re.url="mailto:"+this.sliceSerialize(F)}function We(){return{type:"blockquote",children:[]}}function at(){return{type:"code",lang:null,meta:null,value:""}}function ei(){return{type:"inlineCode",value:""}}function mo(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ti(){return{type:"emphasis",children:[]}}function $s(){return{type:"heading",depth:0,children:[]}}function Zs(){return{type:"break"}}function go(){return{type:"html",value:""}}function yo(){return{type:"image",title:null,url:"",alt:null}}function Ws(){return{type:"link",title:null,url:"",children:[]}}function Js(F){return{type:"list",ordered:F.type==="listOrdered",start:null,spread:F._spread,children:[]}}function ga(F){return{type:"listItem",spread:F._spread,checked:null,children:[]}}function Pc(){return{type:"paragraph",children:[]}}function Hc(){return{type:"strong",children:[]}}function Ft(){return{type:"text",value:""}}function Fc(){return{type:"thematicBreak"}}}function es(t){return{line:t.line,column:t.column,offset:t.offset}}function sC(t,e){let i=-1;for(;++i<e.length;){const s=e[i];Array.isArray(s)?sC(t,s):h5(t,s)}}function h5(t,e){let i;for(i in e)if(iC.call(e,i))switch(i){case"canContainEols":{const s=e[i];s&&t[i].push(...s);break}case"transforms":{const s=e[i];s&&t[i].push(...s);break}case"enter":case"exit":{const s=e[i];s&&Object.assign(t[i],s);break}}}function c_(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Nl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Nl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Nl({start:e.start,end:e.end})+") is still open")}function d5(t){const e=this;e.parser=i;function i(s){return c5(s,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function p5(t,e){const i={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,i),t.applyData(e,i)}function m5(t,e){const i={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,i),[t.applyData(e,i),{type:"text",value:`
`}]}function g5(t,e){const i=e.value?e.value+`
`:"",s={},l=e.lang?e.lang.split(/\s+/):[];l.length>0&&(s.className=["language-"+l[0]]);let o={type:"element",tagName:"code",properties:s,children:[{type:"text",value:i}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function y5(t,e){const i={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function v5(t,e){const i={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function x5(t,e){const i=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",s=String(e.identifier).toUpperCase(),l=ha(s.toLowerCase()),o=t.footnoteOrder.indexOf(s);let c,f=t.footnoteCounts.get(s);f===void 0?(f=0,t.footnoteOrder.push(s),c=t.footnoteOrder.length):c=o+1,f+=1,t.footnoteCounts.set(s,f);const p={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+l,id:i+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};t.patch(e,p);const d={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,d),t.applyData(e,d)}function _5(t,e){const i={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function b5(t,e){if(t.options.allowDangerousHtml){const i={type:"raw",value:e.value};return t.patch(e,i),t.applyData(e,i)}}function rC(t,e){const i=e.referenceType;let s="]";if(i==="collapsed"?s+="[]":i==="full"&&(s+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+s}];const l=t.all(e),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const c=l[l.length-1];return c&&c.type==="text"?c.value+=s:l.push({type:"text",value:s}),l}function S5(t,e){const i=String(e.identifier).toUpperCase(),s=t.definitionById.get(i);if(!s)return rC(t,e);const l={src:ha(s.url||""),alt:e.alt};s.title!==null&&s.title!==void 0&&(l.title=s.title);const o={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,o),t.applyData(e,o)}function E5(t,e){const i={src:ha(e.url)};e.alt!==null&&e.alt!==void 0&&(i.alt=e.alt),e.title!==null&&e.title!==void 0&&(i.title=e.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function C5(t,e){const i={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,i);const s={type:"element",tagName:"code",properties:{},children:[i]};return t.patch(e,s),t.applyData(e,s)}function T5(t,e){const i=String(e.identifier).toUpperCase(),s=t.definitionById.get(i);if(!s)return rC(t,e);const l={href:ha(s.url||"")};s.title!==null&&s.title!==void 0&&(l.title=s.title);const o={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function w5(t,e){const i={href:ha(e.url)};e.title!==null&&e.title!==void 0&&(i.title=e.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function A5(t,e,i){const s=t.all(e),l=i?N5(i):aC(e),o={},c=[];if(typeof e.checked=="boolean"){const g=s[0];let y;g&&g.type==="element"&&g.tagName==="p"?y=g:(y={type:"element",tagName:"p",properties:{},children:[]},s.unshift(y)),y.children.length>0&&y.children.unshift({type:"text",value:" "}),y.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let f=-1;for(;++f<s.length;){const g=s[f];(l||f!==0||g.type!=="element"||g.tagName!=="p")&&c.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!l?c.push(...g.children):c.push(g)}const p=s[s.length-1];p&&(l||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:c};return t.patch(e,d),t.applyData(e,d)}function N5(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const i=t.children;let s=-1;for(;!e&&++s<i.length;)e=aC(i[s])}return e}function aC(t){const e=t.spread;return e??t.children.length>1}function R5(t,e){const i={},s=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(i.start=e.start);++l<s.length;){const c=s[l];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:i,children:t.wrap(s,!0)};return t.patch(e,o),t.applyData(e,o)}function M5(t,e){const i={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function D5(t,e){const i={type:"root",children:t.wrap(t.all(e))};return t.patch(e,i),t.applyData(e,i)}function k5(t,e){const i={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function O5(t,e){const i=t.all(e),s=i.shift(),l=[];if(s){const c={type:"element",tagName:"thead",properties:{},children:t.wrap([s],!0)};t.patch(e.children[0],c),l.push(c)}if(i.length>0){const c={type:"element",tagName:"tbody",properties:{},children:t.wrap(i,!0)},f=Im(e.children[1]),p=VE(e.children[e.children.length-1]);f&&p&&(c.position={start:f,end:p}),l.push(c)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,o),t.applyData(e,o)}function I5(t,e,i){const s=i?i.children:void 0,o=(s?s.indexOf(e):1)===0?"th":"td",c=i&&i.type==="table"?i.align:void 0,f=c?c.length:e.children.length;let p=-1;const d=[];for(;++p<f;){const y=e.children[p],v={},b=c?c[p]:void 0;b&&(v.align=b);let C={type:"element",tagName:o,properties:v,children:[]};y&&(C.children=t.all(y),t.patch(y,C),C=t.applyData(y,C)),d.push(C)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function j5(t,e){const i={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}const f_=9,h_=32;function L5(t){const e=String(t),i=/\r?\n|\r/g;let s=i.exec(e),l=0;const o=[];for(;s;)o.push(d_(e.slice(l,s.index),l>0,!0),s[0]),l=s.index+s[0].length,s=i.exec(e);return o.push(d_(e.slice(l),l>0,!1)),o.join("")}function d_(t,e,i){let s=0,l=t.length;if(e){let o=t.codePointAt(s);for(;o===f_||o===h_;)s++,o=t.codePointAt(s)}if(i){let o=t.codePointAt(l-1);for(;o===f_||o===h_;)l--,o=t.codePointAt(l-1)}return l>s?t.slice(s,l):""}function z5(t,e){const i={type:"text",value:L5(String(e.value))};return t.patch(e,i),t.applyData(e,i)}function B5(t,e){const i={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,i),t.applyData(e,i)}const U5={blockquote:p5,break:m5,code:g5,delete:y5,emphasis:v5,footnoteReference:x5,heading:_5,html:b5,imageReference:S5,image:E5,inlineCode:C5,linkReference:T5,link:w5,listItem:A5,list:R5,paragraph:M5,root:D5,strong:k5,table:O5,tableCell:j5,tableRow:I5,text:z5,thematicBreak:B5,toml:Lu,yaml:Lu,definition:Lu,footnoteDefinition:Lu};function Lu(){}const lC=-1,Lc=0,Ml=1,mc=2,Pm=3,Hm=4,Fm=5,Gm=6,oC=7,uC=8,p_=typeof self=="object"?self:globalThis,V5=(t,e)=>{const i=(l,o)=>(t.set(o,l),l),s=l=>{if(t.has(l))return t.get(l);const[o,c]=e[l];switch(o){case Lc:case lC:return i(c,l);case Ml:{const f=i([],l);for(const p of c)f.push(s(p));return f}case mc:{const f=i({},l);for(const[p,d]of c)f[s(p)]=s(d);return f}case Pm:return i(new Date(c),l);case Hm:{const{source:f,flags:p}=c;return i(new RegExp(f,p),l)}case Fm:{const f=i(new Map,l);for(const[p,d]of c)f.set(s(p),s(d));return f}case Gm:{const f=i(new Set,l);for(const p of c)f.add(s(p));return f}case oC:{const{name:f,message:p}=c;return i(new p_[f](p),l)}case uC:return i(BigInt(c),l);case"BigInt":return i(Object(BigInt(c)),l);case"ArrayBuffer":return i(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:f}=new Uint8Array(c);return i(new DataView(f),c)}}return i(new p_[o](c),l)};return s},m_=t=>V5(new Map,t)(0),Pr="",{toString:P5}={},{keys:H5}=Object,vl=t=>{const e=typeof t;if(e!=="object"||!t)return[Lc,e];const i=P5.call(t).slice(8,-1);switch(i){case"Array":return[Ml,Pr];case"Object":return[mc,Pr];case"Date":return[Pm,Pr];case"RegExp":return[Hm,Pr];case"Map":return[Fm,Pr];case"Set":return[Gm,Pr];case"DataView":return[Ml,i]}return i.includes("Array")?[Ml,i]:i.includes("Error")?[oC,i]:[mc,i]},zu=([t,e])=>t===Lc&&(e==="function"||e==="symbol"),F5=(t,e,i,s)=>{const l=(c,f)=>{const p=s.push(c)-1;return i.set(f,p),p},o=c=>{if(i.has(c))return i.get(c);let[f,p]=vl(c);switch(f){case Lc:{let g=c;switch(p){case"bigint":f=uC,g=c.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return l([lC],c)}return l([f,g],c)}case Ml:{if(p){let v=c;return p==="DataView"?v=new Uint8Array(c.buffer):p==="ArrayBuffer"&&(v=new Uint8Array(c)),l([p,[...v]],c)}const g=[],y=l([f,g],c);for(const v of c)g.push(o(v));return y}case mc:{if(p)switch(p){case"BigInt":return l([p,c.toString()],c);case"Boolean":case"Number":case"String":return l([p,c.valueOf()],c)}if(e&&"toJSON"in c)return o(c.toJSON());const g=[],y=l([f,g],c);for(const v of H5(c))(t||!zu(vl(c[v])))&&g.push([o(v),o(c[v])]);return y}case Pm:return l([f,c.toISOString()],c);case Hm:{const{source:g,flags:y}=c;return l([f,{source:g,flags:y}],c)}case Fm:{const g=[],y=l([f,g],c);for(const[v,b]of c)(t||!(zu(vl(v))||zu(vl(b))))&&g.push([o(v),o(b)]);return y}case Gm:{const g=[],y=l([f,g],c);for(const v of c)(t||!zu(vl(v)))&&g.push(o(v));return y}}const{message:d}=c;return l([f,{name:p,message:d}],c)};return o},g_=(t,{json:e,lossy:i}={})=>{const s=[];return F5(!(e||i),!!e,new Map,s)(t),s},gc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?m_(g_(t,e)):structuredClone(t):(t,e)=>m_(g_(t,e));function G5(t,e){const i=[{type:"text",value:""}];return e>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),i}function q5(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Y5(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=t.options.footnoteBackContent||G5,s=t.options.footnoteBackLabel||q5,l=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",c=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[p]);if(!d)continue;const g=t.all(d),y=String(d.identifier).toUpperCase(),v=ha(y.toLowerCase());let b=0;const C=[],M=t.footnoteCounts.get(y);for(;M!==void 0&&++b<=M;){C.length>0&&C.push({type:"text",value:" "});let V=typeof i=="string"?i:i(p,b);typeof V=="string"&&(V={type:"text",value:V}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+v+(b>1?"-"+b:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(p,b),className:["data-footnote-backref"]},children:Array.isArray(V)?V:[V]})}const k=g[g.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const V=k.children[k.children.length-1];V&&V.type==="text"?V.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...C)}else g.push(...C);const R={type:"element",tagName:"li",properties:{id:e+"fn-"+v},children:t.wrap(g,!0)};t.patch(d,R),f.push(R)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...gc(c),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const cC=(function(t){if(t==null)return $5;if(typeof t=="function")return zc(t);if(typeof t=="object")return Array.isArray(t)?K5(t):X5(t);if(typeof t=="string")return Q5(t);throw new Error("Expected function, string, or object as test")});function K5(t){const e=[];let i=-1;for(;++i<t.length;)e[i]=cC(t[i]);return zc(s);function s(...l){let o=-1;for(;++o<e.length;)if(e[o].apply(this,l))return!0;return!1}}function X5(t){const e=t;return zc(i);function i(s){const l=s;let o;for(o in t)if(l[o]!==e[o])return!1;return!0}}function Q5(t){return zc(e);function e(i){return i&&i.type===t}}function zc(t){return e;function e(i,s,l){return!!(Z5(i)&&t.call(this,i,typeof s=="number"?s:void 0,l||void 0))}}function $5(){return!0}function Z5(t){return t!==null&&typeof t=="object"&&"type"in t}const fC=[],W5=!0,y_=!1,J5="skip";function ej(t,e,i,s){let l;typeof e=="function"&&typeof i!="function"?(s=i,i=e):l=e;const o=cC(l),c=s?-1:1;f(t,void 0,[])();function f(p,d,g){const y=p&&typeof p=="object"?p:{};if(typeof y.type=="string"){const b=typeof y.tagName=="string"?y.tagName:typeof y.name=="string"?y.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(p.type+(b?"<"+b+">":""))+")"})}return v;function v(){let b=fC,C,M,k;if((!e||o(p,d,g[g.length-1]||void 0))&&(b=tj(i(p,g)),b[0]===y_))return b;if("children"in p&&p.children){const R=p;if(R.children&&b[0]!==J5)for(M=(s?R.children.length:-1)+c,k=g.concat(R);M>-1&&M<R.children.length;){const V=R.children[M];if(C=f(V,M,k)(),C[0]===y_)return C;M=typeof C[1]=="number"?C[1]:M+c}}return b}}}function tj(t){return Array.isArray(t)?t:typeof t=="number"?[W5,t]:t==null?fC:[t]}function hC(t,e,i,s){let l,o,c;typeof e=="function"&&typeof i!="function"?(o=void 0,c=e,l=i):(o=e,c=i,l=s),ej(t,o,f,l);function f(p,d){const g=d[d.length-1],y=g?g.children.indexOf(p):void 0;return c(p,y,g)}}const bp={}.hasOwnProperty,nj={};function ij(t,e){const i=e||nj,s=new Map,l=new Map,o=new Map,c={...U5,...i.handlers},f={all:d,applyData:rj,definitionById:s,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:c,one:p,options:i,patch:sj,wrap:lj};return hC(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const y=g.type==="definition"?s:l,v=String(g.identifier).toUpperCase();y.has(v)||y.set(v,g)}}),f;function p(g,y){const v=g.type,b=f.handlers[v];if(bp.call(f.handlers,v)&&b)return b(f,g,y);if(f.options.passThrough&&f.options.passThrough.includes(v)){if("children"in g){const{children:M,...k}=g,R=gc(k);return R.children=f.all(g),R}return gc(g)}return(f.options.unknownHandler||aj)(f,g,y)}function d(g){const y=[];if("children"in g){const v=g.children;let b=-1;for(;++b<v.length;){const C=f.one(v[b],g);if(C){if(b&&v[b-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=v_(C.value)),!Array.isArray(C)&&C.type==="element")){const M=C.children[0];M&&M.type==="text"&&(M.value=v_(M.value))}Array.isArray(C)?y.push(...C):y.push(C)}}}return y}}function sj(t,e){t.position&&(e.position=P3(t))}function rj(t,e){let i=e;if(t&&t.data){const s=t.data.hName,l=t.data.hChildren,o=t.data.hProperties;if(typeof s=="string")if(i.type==="element")i.tagName=s;else{const c="children"in i?i.children:[i];i={type:"element",tagName:s,properties:{},children:c}}i.type==="element"&&o&&Object.assign(i.properties,gc(o)),"children"in i&&i.children&&l!==null&&l!==void 0&&(i.children=l)}return i}function aj(t,e){const i=e.data||{},s="value"in e&&!(bp.call(i,"hProperties")||bp.call(i,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function lj(t,e){const i=[];let s=-1;for(e&&i.push({type:"text",value:`
`});++s<t.length;)s&&i.push({type:"text",value:`
`}),i.push(t[s]);return e&&t.length>0&&i.push({type:"text",value:`
`}),i}function v_(t){let e=0,i=t.charCodeAt(e);for(;i===9||i===32;)e++,i=t.charCodeAt(e);return t.slice(e)}function x_(t,e){const i=ij(t,e),s=i.one(t,void 0),l=Y5(i),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function oj(t,e){return t&&"run"in t?async function(i,s){const l=x_(i,{file:s,...e});await t.run(l,s)}:function(i,s){return x_(i,{file:s,...t||e})}}function __(t){if(t)throw t}var wd,b_;function uj(){if(b_)return wd;b_=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},o=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!y)return!1;var v;for(v in d);return typeof v>"u"||t.call(d,v)},c=function(d,g){i&&g.name==="__proto__"?i(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},f=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(s)return s(d,g).value}else return;return d[g]};return wd=function p(){var d,g,y,v,b,C,M=arguments[0],k=1,R=arguments.length,V=!1;for(typeof M=="boolean"&&(V=M,M=arguments[1]||{},k=2),(M==null||typeof M!="object"&&typeof M!="function")&&(M={});k<R;++k)if(d=arguments[k],d!=null)for(g in d)y=f(M,g),v=f(d,g),M!==v&&(V&&v&&(o(v)||(b=l(v)))?(b?(b=!1,C=y&&l(y)?y:[]):C=y&&o(y)?y:{},c(M,{name:g,newValue:p(V,C,v)})):typeof v<"u"&&c(M,{name:g,newValue:v}));return M},wd}var cj=uj();const Ad=Yp(cj);function Sp(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function fj(){const t=[],e={run:i,use:s};return e;function i(...l){let o=-1;const c=l.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);f(null,...l);function f(p,...d){const g=t[++o];let y=-1;if(p){c(p);return}for(;++y<l.length;)(d[y]===null||d[y]===void 0)&&(d[y]=l[y]);l=d,g?hj(g,f)(...d):c(null,...d)}}function s(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function hj(t,e){let i;return s;function s(...c){const f=t.length>c.length;let p;f&&c.push(l);try{p=t.apply(this,c)}catch(d){const g=d;if(f&&i)throw g;return l(g)}f||(p&&p.then&&typeof p.then=="function"?p.then(o,l):p instanceof Error?l(p):o(p))}function l(c,...f){i||(i=!0,e(c,...f))}function o(c){l(null,c)}}const Xn={basename:dj,dirname:pj,extname:mj,join:gj,sep:"/"};function dj(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');uo(t);let i=0,s=-1,l=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(o){i=l+1;break}}else s<0&&(o=!0,s=l+1);return s<0?"":t.slice(i,s)}if(e===t)return"";let c=-1,f=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(o){i=l+1;break}}else c<0&&(o=!0,c=l+1),f>-1&&(t.codePointAt(l)===e.codePointAt(f--)?f<0&&(s=l):(f=-1,s=c));return i===s?s=c:s<0&&(s=t.length),t.slice(i,s)}function pj(t){if(uo(t),t.length===0)return".";let e=-1,i=t.length,s;for(;--i;)if(t.codePointAt(i)===47){if(s){e=i;break}}else s||(s=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function mj(t){uo(t);let e=t.length,i=-1,s=0,l=-1,o=0,c;for(;e--;){const f=t.codePointAt(e);if(f===47){if(c){s=e+1;break}continue}i<0&&(c=!0,i=e+1),f===46?l<0?l=e:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||i<0||o===0||o===1&&l===i-1&&l===s+1?"":t.slice(l,i)}function gj(...t){let e=-1,i;for(;++e<t.length;)uo(t[e]),t[e]&&(i=i===void 0?t[e]:i+"/"+t[e]);return i===void 0?".":yj(i)}function yj(t){uo(t);const e=t.codePointAt(0)===47;let i=vj(t,!e);return i.length===0&&!e&&(i="."),i.length>0&&t.codePointAt(t.length-1)===47&&(i+="/"),e?"/"+i:i}function vj(t,e){let i="",s=0,l=-1,o=0,c=-1,f,p;for(;++c<=t.length;){if(c<t.length)f=t.codePointAt(c);else{if(f===47)break;f=47}if(f===47){if(!(l===c-1||o===1))if(l!==c-1&&o===2){if(i.length<2||s!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(p=i.lastIndexOf("/"),p!==i.length-1){p<0?(i="",s=0):(i=i.slice(0,p),s=i.length-1-i.lastIndexOf("/")),l=c,o=0;continue}}else if(i.length>0){i="",s=0,l=c,o=0;continue}}e&&(i=i.length>0?i+"/..":"..",s=2)}else i.length>0?i+="/"+t.slice(l+1,c):i=t.slice(l+1,c),s=c-l-1;l=c,o=0}else f===46&&o>-1?o++:o=-1}return i}function uo(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const xj={cwd:_j};function _j(){return"/"}function Ep(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function bj(t){if(typeof t=="string")t=new URL(t);else if(!Ep(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Sj(t)}function Sj(t){if(t.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const e=t.pathname;let i=-1;for(;++i<e.length;)if(e.codePointAt(i)===37&&e.codePointAt(i+1)===50){const s=e.codePointAt(i+2);if(s===70||s===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const Nd=["history","path","basename","stem","extname","dirname"];class dC{constructor(e){let i;e?Ep(e)?i={path:e}:typeof e=="string"||Ej(e)?i={value:e}:i=e:i={},this.cwd="cwd"in i?"":xj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Nd.length;){const o=Nd[s];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let l;for(l in i)Nd.includes(l)||(this[l]=i[l])}get basename(){return typeof this.path=="string"?Xn.basename(this.path):void 0}set basename(e){Md(e,"basename"),Rd(e,"basename"),this.path=Xn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Xn.dirname(this.path):void 0}set dirname(e){S_(this.basename,"dirname"),this.path=Xn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Xn.extname(this.path):void 0}set extname(e){if(Rd(e,"extname"),S_(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Ep(e)&&(e=bj(e)),Md(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Xn.basename(this.path,this.extname):void 0}set stem(e){Md(e,"stem"),Rd(e,"stem"),this.path=Xn.join(this.dirname||"",e+(this.extname||""))}fail(e,i,s){const l=this.message(e,i,s);throw l.fatal=!0,l}info(e,i,s){const l=this.message(e,i,s);return l.fatal=void 0,l}message(e,i,s){const l=new Ht(e,i,s);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Rd(t,e){if(t&&t.includes(Xn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Xn.sep+"`")}function Md(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function S_(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Ej(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Cj=(function(t){const s=this.constructor.prototype,l=s[t],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),Tj={}.hasOwnProperty;class qm extends Cj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=fj()}copy(){const e=new qm;let i=-1;for(;++i<this.attachers.length;){const s=this.attachers[i];e.use(...s)}return e.data(Ad(!0,{},this.namespace)),e}data(e,i){return typeof e=="string"?arguments.length===2?(Od("data",this.frozen),this.namespace[e]=i,this):Tj.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Od("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const l=i.call(e,...s);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const i=Bu(e),s=this.parser||this.Parser;return Dd("parse",s),s(String(i),i)}process(e,i){const s=this;return this.freeze(),Dd("process",this.parser||this.Parser),kd("process",this.compiler||this.Compiler),i?l(void 0,i):new Promise(l);function l(o,c){const f=Bu(e),p=s.parse(f);s.run(p,f,function(g,y,v){if(g||!y||!v)return d(g);const b=y,C=s.stringify(b,v);Nj(C)?v.value=C:v.result=C,d(g,v)});function d(g,y){g||!y?c(g):o?o(y):i(void 0,y)}}}processSync(e){let i=!1,s;return this.freeze(),Dd("processSync",this.parser||this.Parser),kd("processSync",this.compiler||this.Compiler),this.process(e,l),C_("processSync","process",i),s;function l(o,c){i=!0,__(o),s=c}}run(e,i,s){E_(e),this.freeze();const l=this.transformers;return!s&&typeof i=="function"&&(s=i,i=void 0),s?o(void 0,s):new Promise(o);function o(c,f){const p=Bu(i);l.run(e,p,d);function d(g,y,v){const b=y||e;g?f(g):c?c(b):s(void 0,b,v)}}}runSync(e,i){let s=!1,l;return this.run(e,i,o),C_("runSync","run",s),l;function o(c,f){__(c),l=f,s=!0}}stringify(e,i){this.freeze();const s=Bu(i),l=this.compiler||this.Compiler;return kd("stringify",l),E_(e),l(e,s)}use(e,...i){const s=this.attachers,l=this.namespace;if(Od("use",this.frozen),e!=null)if(typeof e=="function")p(e,i);else if(typeof e=="object")Array.isArray(e)?f(e):c(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...y]=d;p(g,y)}else c(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function c(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(l.settings=Ad(!0,l.settings,d.settings))}function f(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const y=d[g];o(y)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,g){let y=-1,v=-1;for(;++y<s.length;)if(s[y][0]===d){v=y;break}if(v===-1)s.push([d,...g]);else if(g.length>0){let[b,...C]=g;const M=s[v][1];Sp(M)&&Sp(b)&&(b=Ad(!0,M,b)),s[v]=[d,b,...C]}}}}const wj=new qm().freeze();function Dd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function kd(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Od(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function E_(t){if(!Sp(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function C_(t,e,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Bu(t){return Aj(t)?t:new dC(t)}function Aj(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Nj(t){return typeof t=="string"||Rj(t)}function Rj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Mj="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",T_=[],w_={allowDangerousHtml:!0},Dj=/^(https?|ircs?|mailto|xmpp)$/i,kj=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Oj(t){const e=Ij(t),i=jj(t);return Lj(e.runSync(e.parse(i),i),t)}function Ij(t){const e=t.rehypePlugins||T_,i=t.remarkPlugins||T_,s=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...w_}:w_;return wj().use(d5).use(i).use(oj,s).use(e)}function jj(t){const e=t.children||"",i=new dC;return typeof e=="string"&&(i.value=e),i}function Lj(t,e){const i=e.allowedElements,s=e.allowElement,l=e.components,o=e.disallowedElements,c=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||zj;for(const g of kj)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Mj+g.id,void 0);return hC(t,d),Y3(t,{Fragment:_.Fragment,components:l,ignoreInvalidStyle:!0,jsx:_.jsx,jsxs:_.jsxs,passKeys:!0,passNode:!0});function d(g,y,v){if(g.type==="raw"&&v&&typeof y=="number")return c?v.children.splice(y,1):v.children[y]={type:"text",value:g.value},y;if(g.type==="element"){let b;for(b in Ed)if(Object.hasOwn(Ed,b)&&Object.hasOwn(g.properties,b)){const C=g.properties[b],M=Ed[b];(M===null||M.includes(g.tagName))&&(g.properties[b]=p(String(C||""),b,g))}}if(g.type==="element"){let b=i?!i.includes(g.tagName):o?o.includes(g.tagName):!1;if(!b&&s&&typeof y=="number"&&(b=!s(g,y,v)),b&&v&&typeof y=="number")return f&&g.children?v.children.splice(y,1,...g.children):v.children.splice(y,1),y}}}function zj(t){const e=t.indexOf(":"),i=t.indexOf("?"),s=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||i!==-1&&e>i||s!==-1&&e>s||Dj.test(t.slice(0,e))?t:""}const pC=ee.createContext({});function Bj(t){const e=ee.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ym=typeof window<"u",Uj=Ym?ee.useLayoutEffect:ee.useEffect,Km=ee.createContext(null);function Xm(t,e){t.indexOf(e)===-1&&t.push(e)}function Qm(t,e){const i=t.indexOf(e);i>-1&&t.splice(i,1)}const Ti=(t,e,i)=>i>e?e:i<t?t:i;let $m=()=>{};const wi={},mC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function gC(t){return typeof t=="object"&&t!==null}const yC=t=>/^0[^.\s]+$/u.test(t);function Zm(t){let e;return()=>(e===void 0&&(e=t()),e)}const On=t=>t,Vj=(t,e)=>i=>e(t(i)),co=(...t)=>t.reduce(Vj),Ql=(t,e,i)=>{const s=e-t;return s===0?1:(i-t)/s};class Wm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Qm(this.subscriptions,e)}notify(e,i,s){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,i,s);else for(let o=0;o<l;o++){const c=this.subscriptions[o];c&&c(e,i,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $n=t=>t*1e3,kn=t=>t/1e3;function vC(t,e){return e?t*(1e3/e):0}const xC=(t,e,i)=>(((1-3*i+3*e)*t+(3*i-6*e))*t+3*e)*t,Pj=1e-7,Hj=12;function Fj(t,e,i,s,l){let o,c,f=0;do c=e+(i-e)/2,o=xC(c,s,l)-t,o>0?i=c:e=c;while(Math.abs(o)>Pj&&++f<Hj);return c}function fo(t,e,i,s){if(t===e&&i===s)return On;const l=o=>Fj(o,0,1,t,i);return o=>o===0||o===1?o:xC(l(o),e,s)}const _C=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bC=t=>e=>1-t(1-e),SC=fo(.33,1.53,.69,.99),Jm=bC(SC),EC=_C(Jm),CC=t=>(t*=2)<1?.5*Jm(t):.5*(2-Math.pow(2,-10*(t-1))),eg=t=>1-Math.sin(Math.acos(t)),TC=bC(eg),wC=_C(eg),Gj=fo(.42,0,1,1),qj=fo(0,0,.58,1),AC=fo(.42,0,.58,1),Yj=t=>Array.isArray(t)&&typeof t[0]!="number",NC=t=>Array.isArray(t)&&typeof t[0]=="number",Kj={linear:On,easeIn:Gj,easeInOut:AC,easeOut:qj,circIn:eg,circInOut:wC,circOut:TC,backIn:Jm,backInOut:EC,backOut:SC,anticipate:CC},Xj=t=>typeof t=="string",A_=t=>{if(NC(t)){$m(t.length===4);const[e,i,s,l]=t;return fo(e,i,s,l)}else if(Xj(t))return Kj[t];return t},Uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qj(t,e){let i=new Set,s=new Set,l=!1,o=!1;const c=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(g){c.has(g)&&(d.schedule(g),t()),g(f)}const d={schedule:(g,y=!1,v=!1)=>{const C=v&&l?i:s;return y&&c.add(g),C.has(g)||C.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(f=g,l){o=!0;return}l=!0,[i,s]=[s,i],i.forEach(p),i.clear(),l=!1,o&&(o=!1,d.process(g))}};return d}const $j=40;function RC(t,e){let i=!1,s=!0;const l={delta:0,timestamp:0,isProcessing:!1},o=()=>i=!0,c=Uu.reduce((O,$)=>(O[$]=Qj(o),O),{}),{setup:f,read:p,resolveKeyframes:d,preUpdate:g,update:y,preRender:v,render:b,postRender:C}=c,M=()=>{const O=wi.useManualTiming?l.timestamp:performance.now();i=!1,wi.useManualTiming||(l.delta=s?1e3/60:Math.max(Math.min(O-l.timestamp,$j),1)),l.timestamp=O,l.isProcessing=!0,f.process(l),p.process(l),d.process(l),g.process(l),y.process(l),v.process(l),b.process(l),C.process(l),l.isProcessing=!1,i&&e&&(s=!1,t(M))},k=()=>{i=!0,s=!0,l.isProcessing||t(M)};return{schedule:Uu.reduce((O,$)=>{const Q=c[$];return O[$]=(z,X=!1,te=!1)=>(i||k(),Q.schedule(z,X,te)),O},{}),cancel:O=>{for(let $=0;$<Uu.length;$++)c[Uu[$]].cancel(O)},state:l,steps:c}}const{schedule:ot,cancel:fs,state:zt,steps:Id}=RC(typeof requestAnimationFrame<"u"?requestAnimationFrame:On,!0);let qu;function Zj(){qu=void 0}const rn={now:()=>(qu===void 0&&rn.set(zt.isProcessing||wi.useManualTiming?zt.timestamp:performance.now()),qu),set:t=>{qu=t,queueMicrotask(Zj)}},MC=t=>e=>typeof e=="string"&&e.startsWith(t),DC=MC("--"),Wj=MC("var(--"),tg=t=>Wj(t)?Jj.test(t.split("/*")[0].trim()):!1,Jj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$l={...da,transform:t=>Ti(0,1,t)},Vu={...da,default:1},Dl=t=>Math.round(t*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e6(t){return t==null}const t6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ig=(t,e)=>i=>!!(typeof i=="string"&&t6.test(i)&&i.startsWith(t)||e&&!e6(i)&&Object.prototype.hasOwnProperty.call(i,e)),kC=(t,e,i)=>s=>{if(typeof s!="string")return s;const[l,o,c,f]=s.match(ng);return{[t]:parseFloat(l),[e]:parseFloat(o),[i]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},n6=t=>Ti(0,255,t),jd={...da,transform:t=>Math.round(n6(t))},Us={test:ig("rgb","red"),parse:kC("red","green","blue"),transform:({red:t,green:e,blue:i,alpha:s=1})=>"rgba("+jd.transform(t)+", "+jd.transform(e)+", "+jd.transform(i)+", "+Dl($l.transform(s))+")"};function i6(t){let e="",i="",s="",l="";return t.length>5?(e=t.substring(1,3),i=t.substring(3,5),s=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),i=t.substring(2,3),s=t.substring(3,4),l=t.substring(4,5),e+=e,i+=i,s+=s,l+=l),{red:parseInt(e,16),green:parseInt(i,16),blue:parseInt(s,16),alpha:l?parseInt(l,16)/255:1}}const Cp={test:ig("#"),parse:i6,transform:Us.transform},ho=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ts=ho("deg"),Zn=ho("%"),_e=ho("px"),s6=ho("vh"),r6=ho("vw"),N_={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},Fr={test:ig("hsl","hue"),parse:kC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:i,alpha:s=1})=>"hsla("+Math.round(t)+", "+Zn.transform(Dl(e))+", "+Zn.transform(Dl(i))+", "+Dl($l.transform(s))+")"},bt={test:t=>Us.test(t)||Cp.test(t)||Fr.test(t),parse:t=>Us.test(t)?Us.parse(t):Fr.test(t)?Fr.parse(t):Cp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Us.transform(t):Fr.transform(t),getAnimatableNone:t=>{const e=bt.parse(t);return e.alpha=0,bt.transform(e)}},a6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l6(t){return isNaN(t)&&typeof t=="string"&&(t.match(ng)?.length||0)+(t.match(a6)?.length||0)>0}const OC="number",IC="color",o6="var",u6="var(",R_="${}",c6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zl(t){const e=t.toString(),i=[],s={color:[],number:[],var:[]},l=[];let o=0;const f=e.replace(c6,p=>(bt.test(p)?(s.color.push(o),l.push(IC),i.push(bt.parse(p))):p.startsWith(u6)?(s.var.push(o),l.push(o6),i.push(p)):(s.number.push(o),l.push(OC),i.push(parseFloat(p))),++o,R_)).split(R_);return{values:i,split:f,indexes:s,types:l}}function jC(t){return Zl(t).values}function LC(t){const{split:e,types:i}=Zl(t),s=e.length;return l=>{let o="";for(let c=0;c<s;c++)if(o+=e[c],l[c]!==void 0){const f=i[c];f===OC?o+=Dl(l[c]):f===IC?o+=bt.transform(l[c]):o+=l[c]}return o}}const f6=t=>typeof t=="number"?0:bt.test(t)?bt.getAnimatableNone(t):t;function h6(t){const e=jC(t);return LC(t)(e.map(f6))}const hs={test:l6,parse:jC,createTransformer:LC,getAnimatableNone:h6};function Ld(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function d6({hue:t,saturation:e,lightness:i,alpha:s}){t/=360,e/=100,i/=100;let l=0,o=0,c=0;if(!e)l=o=c=i;else{const f=i<.5?i*(1+e):i+e-i*e,p=2*i-f;l=Ld(p,f,t+1/3),o=Ld(p,f,t),c=Ld(p,f,t-1/3)}return{red:Math.round(l*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:s}}function yc(t,e){return i=>i>0?e:t}const ut=(t,e,i)=>t+(e-t)*i,zd=(t,e,i)=>{const s=t*t,l=i*(e*e-s)+s;return l<0?0:Math.sqrt(l)},p6=[Cp,Us,Fr],m6=t=>p6.find(e=>e.test(t));function M_(t){const e=m6(t);if(!e)return!1;let i=e.parse(t);return e===Fr&&(i=d6(i)),i}const D_=(t,e)=>{const i=M_(t),s=M_(e);if(!i||!s)return yc(t,e);const l={...i};return o=>(l.red=zd(i.red,s.red,o),l.green=zd(i.green,s.green,o),l.blue=zd(i.blue,s.blue,o),l.alpha=ut(i.alpha,s.alpha,o),Us.transform(l))},Tp=new Set(["none","hidden"]);function g6(t,e){return Tp.has(t)?i=>i<=0?t:e:i=>i>=1?e:t}function y6(t,e){return i=>ut(t,e,i)}function sg(t){return typeof t=="number"?y6:typeof t=="string"?tg(t)?yc:bt.test(t)?D_:_6:Array.isArray(t)?zC:typeof t=="object"?bt.test(t)?D_:v6:yc}function zC(t,e){const i=[...t],s=i.length,l=t.map((o,c)=>sg(o)(o,e[c]));return o=>{for(let c=0;c<s;c++)i[c]=l[c](o);return i}}function v6(t,e){const i={...t,...e},s={};for(const l in i)t[l]!==void 0&&e[l]!==void 0&&(s[l]=sg(t[l])(t[l],e[l]));return l=>{for(const o in s)i[o]=s[o](l);return i}}function x6(t,e){const i=[],s={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const o=e.types[l],c=t.indexes[o][s[o]],f=t.values[c]??0;i[l]=f,s[o]++}return i}const _6=(t,e)=>{const i=hs.createTransformer(e),s=Zl(t),l=Zl(e);return s.indexes.var.length===l.indexes.var.length&&s.indexes.color.length===l.indexes.color.length&&s.indexes.number.length>=l.indexes.number.length?Tp.has(t)&&!l.values.length||Tp.has(e)&&!s.values.length?g6(t,e):co(zC(x6(s,l),l.values),i):yc(t,e)};function BC(t,e,i){return typeof t=="number"&&typeof e=="number"&&typeof i=="number"?ut(t,e,i):sg(t)(t,e)}const b6=t=>{const e=({timestamp:i})=>t(i);return{start:(i=!0)=>ot.update(e,i),stop:()=>fs(e),now:()=>zt.isProcessing?zt.timestamp:rn.now()}},UC=(t,e,i=10)=>{let s="";const l=Math.max(Math.round(e/i),2);for(let o=0;o<l;o++)s+=Math.round(t(o/(l-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},vc=2e4;function rg(t){let e=0;const i=50;let s=t.next(e);for(;!s.done&&e<vc;)e+=i,s=t.next(e);return e>=vc?1/0:e}function S6(t,e=100,i){const s=i({...t,keyframes:[0,e]}),l=Math.min(rg(s),vc);return{type:"keyframes",ease:o=>s.next(l*o).value/e,duration:kn(l)}}const E6=5;function VC(t,e,i){const s=Math.max(e-E6,0);return vC(i-t(s),e-s)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bd=.001;function C6({duration:t=ht.duration,bounce:e=ht.bounce,velocity:i=ht.velocity,mass:s=ht.mass}){let l,o,c=1-e;c=Ti(ht.minDamping,ht.maxDamping,c),t=Ti(ht.minDuration,ht.maxDuration,kn(t)),c<1?(l=d=>{const g=d*c,y=g*t,v=g-i,b=wp(d,c),C=Math.exp(-y);return Bd-v/b*C},o=d=>{const y=d*c*t,v=y*i+i,b=Math.pow(c,2)*Math.pow(d,2)*t,C=Math.exp(-y),M=wp(Math.pow(d,2),c);return(-l(d)+Bd>0?-1:1)*((v-b)*C)/M}):(l=d=>{const g=Math.exp(-d*t),y=(d-i)*t+1;return-Bd+g*y},o=d=>{const g=Math.exp(-d*t),y=(i-d)*(t*t);return g*y});const f=5/t,p=w6(l,o,f);if(t=$n(t),isNaN(p))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const d=Math.pow(p,2)*s;return{stiffness:d,damping:c*2*Math.sqrt(s*d),duration:t}}}const T6=12;function w6(t,e,i){let s=i;for(let l=1;l<T6;l++)s=s-t(s)/e(s);return s}function wp(t,e){return t*Math.sqrt(1-e*e)}const A6=["duration","bounce"],N6=["stiffness","damping","mass"];function k_(t,e){return e.some(i=>t[i]!==void 0)}function R6(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!k_(t,N6)&&k_(t,A6))if(t.visualDuration){const i=t.visualDuration,s=2*Math.PI/(i*1.2),l=s*s,o=2*Ti(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:ht.mass,stiffness:l,damping:o}}else{const i=C6(t);e={...e,...i,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function xc(t=ht.visualDuration,e=ht.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:l}=i;const o=i.keyframes[0],c=i.keyframes[i.keyframes.length-1],f={done:!1,value:o},{stiffness:p,damping:d,mass:g,duration:y,velocity:v,isResolvedFromDuration:b}=R6({...i,velocity:-kn(i.velocity||0)}),C=v||0,M=d/(2*Math.sqrt(p*g)),k=c-o,R=kn(Math.sqrt(p/g)),V=Math.abs(k)<5;s||(s=V?ht.restSpeed.granular:ht.restSpeed.default),l||(l=V?ht.restDelta.granular:ht.restDelta.default);let O;if(M<1){const Q=wp(R,M);O=z=>{const X=Math.exp(-M*R*z);return c-X*((C+M*R*k)/Q*Math.sin(Q*z)+k*Math.cos(Q*z))}}else if(M===1)O=Q=>c-Math.exp(-R*Q)*(k+(C+R*k)*Q);else{const Q=R*Math.sqrt(M*M-1);O=z=>{const X=Math.exp(-M*R*z),te=Math.min(Q*z,300);return c-X*((C+M*R*k)*Math.sinh(te)+Q*k*Math.cosh(te))/Q}}const $={calculatedDuration:b&&y||null,next:Q=>{const z=O(Q);if(b)f.done=Q>=y;else{let X=Q===0?C:0;M<1&&(X=Q===0?$n(C):VC(O,Q,z));const te=Math.abs(X)<=s,fe=Math.abs(c-z)<=l;f.done=te&&fe}return f.value=f.done?c:z,f},toString:()=>{const Q=Math.min(rg($),vc),z=UC(X=>$.next(Q*X).value,Q,30);return Q+"ms "+z},toTransition:()=>{}};return $}xc.applyToOptions=t=>{const e=S6(t,100,xc);return t.ease=e.ease,t.duration=$n(e.duration),t.type="keyframes",t};function Ap({keyframes:t,velocity:e=0,power:i=.8,timeConstant:s=325,bounceDamping:l=10,bounceStiffness:o=500,modifyTarget:c,min:f,max:p,restDelta:d=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},b=te=>f!==void 0&&te<f||p!==void 0&&te>p,C=te=>f===void 0?p:p===void 0||Math.abs(f-te)<Math.abs(p-te)?f:p;let M=i*e;const k=y+M,R=c===void 0?k:c(k);R!==k&&(M=R-y);const V=te=>-M*Math.exp(-te/s),O=te=>R+V(te),$=te=>{const fe=V(te),he=O(te);v.done=Math.abs(fe)<=d,v.value=v.done?R:he};let Q,z;const X=te=>{b(v.value)&&(Q=te,z=xc({keyframes:[v.value,C(v.value)],velocity:VC(O,te,v.value),damping:l,stiffness:o,restDelta:d,restSpeed:g}))};return X(0),{calculatedDuration:null,next:te=>{let fe=!1;return!z&&Q===void 0&&(fe=!0,$(te),X(te)),Q!==void 0&&te>=Q?z.next(te-Q):(!fe&&$(te),v)}}}function M6(t,e,i){const s=[],l=i||wi.mix||BC,o=t.length-1;for(let c=0;c<o;c++){let f=l(t[c],t[c+1]);if(e){const p=Array.isArray(e)?e[c]||On:e;f=co(p,f)}s.push(f)}return s}function D6(t,e,{clamp:i=!0,ease:s,mixer:l}={}){const o=t.length;if($m(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=M6(e,s,l),p=f.length,d=g=>{if(c&&g<t[0])return e[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=Ql(t[y],t[y+1],g);return f[y](v)};return i?g=>d(Ti(t[0],t[o-1],g)):d}function k6(t,e){const i=t[t.length-1];for(let s=1;s<=e;s++){const l=Ql(0,e,s);t.push(ut(i,1,l))}}function O6(t){const e=[0];return k6(e,t.length-1),e}function I6(t,e){return t.map(i=>i*e)}function j6(t,e){return t.map(()=>e||AC).splice(0,t.length-1)}function kl({duration:t=300,keyframes:e,times:i,ease:s="easeInOut"}){const l=Yj(s)?s.map(A_):A_(s),o={done:!1,value:e[0]},c=I6(i&&i.length===e.length?i:O6(e),t),f=D6(c,e,{ease:Array.isArray(l)?l:j6(e,l)});return{calculatedDuration:t,next:p=>(o.value=f(p),o.done=p>=t,o)}}const L6=t=>t!==null;function ag(t,{repeat:e,repeatType:i="loop"},s,l=1){const o=t.filter(L6),f=l<0||e&&i!=="loop"&&e%2===1?0:o.length-1;return!f||s===void 0?o[f]:s}const z6={decay:Ap,inertia:Ap,tween:kl,keyframes:kl,spring:xc};function PC(t){typeof t.type=="string"&&(t.type=z6[t.type])}class lg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,i){return this.finished.then(e,i)}}const B6=t=>t/100;class og extends lg{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==rn.now()&&this.tick(rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PC(e);const{type:i=kl,repeat:s=0,repeatDelay:l=0,repeatType:o,velocity:c=0}=e;let{keyframes:f}=e;const p=i||kl;p!==kl&&typeof f[0]!="number"&&(this.mixKeyframes=co(B6,BC(f[0],f[1])),f=[0,100]);const d=p({...e,keyframes:f});o==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-c})),d.calculatedDuration===null&&(d.calculatedDuration=rg(d));const{calculatedDuration:g}=d;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(s+1)-l,this.generator=d}updateTime(e){const i=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(e,i=!1){const{generator:s,totalDuration:l,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:b,type:C,onUpdate:M,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),i?this.currentTime=e:this.updateTime(e);const R=this.currentTime-d*(this.playbackSpeed>=0?1:-1),V=this.playbackSpeed>=0?R<0:R>l;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let O=this.currentTime,$=s;if(y){const te=Math.min(this.currentTime,l)/f;let fe=Math.floor(te),he=te%1;!he&&te>=1&&(he=1),he===1&&fe--,fe=Math.min(fe,y+1),fe%2&&(v==="reverse"?(he=1-he,b&&(he-=b/f)):v==="mirror"&&($=c)),O=Ti(0,1,he)*f}const Q=V?{done:!1,value:g[0]}:$.next(O);o&&(Q.value=o(Q.value));let{done:z}=Q;!V&&p!==null&&(z=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const X=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&z);return X&&C!==Ap&&(Q.value=ag(g,this.options,k,this.speed)),M&&M(Q.value),X&&this.finish(),Q}then(e,i){return this.finished.then(e,i)}get duration(){return kn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+kn(e)}get time(){return kn(this.currentTime)}set time(e){e=$n(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(rn.now());const i=this.playbackSpeed!==e;this.playbackSpeed=e,i&&(this.time=kn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=b6,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=i??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function U6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Vs=t=>t*180/Math.PI,Np=t=>{const e=Vs(Math.atan2(t[1],t[0]));return Rp(e)},V6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Np,rotateZ:Np,skewX:t=>Vs(Math.atan(t[1])),skewY:t=>Vs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Rp=t=>(t=t%360,t<0&&(t+=360),t),O_=Np,I_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),j_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),P6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:I_,scaleY:j_,scale:t=>(I_(t)+j_(t))/2,rotateX:t=>Rp(Vs(Math.atan2(t[6],t[5]))),rotateY:t=>Rp(Vs(Math.atan2(-t[2],t[0]))),rotateZ:O_,rotate:O_,skewX:t=>Vs(Math.atan(t[4])),skewY:t=>Vs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Mp(t){return t.includes("scale")?1:0}function Dp(t,e){if(!t||t==="none")return Mp(e);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,l;if(i)s=P6,l=i;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=V6,l=f}if(!l)return Mp(e);const o=s[e],c=l[1].split(",").map(F6);return typeof o=="function"?o(c):c[o]}const H6=(t,e)=>{const{transform:i="none"}=getComputedStyle(t);return Dp(i,e)};function F6(t){return parseFloat(t.trim())}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ma=new Set(pa),L_=t=>t===da||t===_e,G6=new Set(["x","y","z"]),q6=pa.filter(t=>!G6.has(t));function Y6(t){const e=[];return q6.forEach(i=>{const s=t.getValue(i);s!==void 0&&(e.push([i,s.get()]),s.set(i.startsWith("scale")?1:0))}),e}const Ps={width:({x:t},{paddingLeft:e="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),height:({y:t},{paddingTop:e="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(e)-parseFloat(i),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dp(e,"x"),y:(t,{transform:e})=>Dp(e,"y")};Ps.translateX=Ps.x;Ps.translateY=Ps.y;const Hs=new Set;let kp=!1,Op=!1,Ip=!1;function HC(){if(Op){const t=Array.from(Hs).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),i=new Map;e.forEach(s=>{const l=Y6(s);l.length&&(i.set(s,l),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const l=i.get(s);l&&l.forEach(([o,c])=>{s.getValue(o)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Op=!1,kp=!1,Hs.forEach(t=>t.complete(Ip)),Hs.clear()}function FC(){Hs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Op=!0)})}function K6(){Ip=!0,FC(),HC(),Ip=!1}class ug{constructor(e,i,s,l,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=i,this.name=s,this.motionValue=l,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Hs.add(this),kp||(kp=!0,ot.read(FC),ot.resolveKeyframes(HC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:i,element:s,motionValue:l}=this;if(e[0]===null){const o=l?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(s&&i){const f=s.readValue(i,c);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=c),l&&o===void 0&&l.set(e[0])}U6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Hs.delete(this)}cancel(){this.state==="scheduled"&&(Hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X6=t=>t.startsWith("--");function Q6(t,e,i){X6(e)?t.style.setProperty(e,i):t.style[e]=i}const $6=Zm(()=>window.ScrollTimeline!==void 0),Z6={};function W6(t,e){const i=Zm(t);return()=>Z6[e]??i()}const GC=W6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_l=([t,e,i,s])=>`cubic-bezier(${t}, ${e}, ${i}, ${s})`,z_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_l([0,.65,.55,1]),circOut:_l([.55,0,1,.45]),backIn:_l([.31,.01,.66,-.59]),backOut:_l([.33,1.53,.69,.99])};function qC(t,e){if(t)return typeof t=="function"?GC()?UC(t,e):"ease-out":NC(t)?_l(t):Array.isArray(t)?t.map(i=>qC(i,e)||z_.easeOut):z_[t]}function J6(t,e,i,{delay:s=0,duration:l=300,repeat:o=0,repeatType:c="loop",ease:f="easeOut",times:p}={},d=void 0){const g={[e]:i};p&&(g.offset=p);const y=qC(f,l);Array.isArray(y)&&(g.easing=y);const v={delay:s,duration:l,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return d&&(v.pseudoElement=d),t.animate(g,v)}function YC(t){return typeof t=="function"&&"applyToOptions"in t}function eL({type:t,...e}){return YC(t)&&GC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tL extends lg{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:i,name:s,keyframes:l,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,$m(typeof e.type!="string");const d=eL(e);this.animation=J6(i,s,l,d,o),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=ag(l,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(g):Q6(i,s,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return kn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+kn(e)}get time(){return kn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=$n(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$6()?(this.animation.timeline=e,On):i(this)}}const KC={anticipate:CC,backInOut:EC,circInOut:wC};function nL(t){return t in KC}function iL(t){typeof t.ease=="string"&&nL(t.ease)&&(t.ease=KC[t.ease])}const B_=10;class sL extends tL{constructor(e){iL(e),PC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:i,onUpdate:s,onComplete:l,element:o,...c}=this.options;if(!i)return;if(e!==void 0){i.set(e);return}const f=new og({...c,autoplay:!1}),p=$n(this.finishedTime??this.time);i.setWithVelocity(f.sample(p-B_).value,f.sample(p).value,B_),f.stop()}}const U_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hs.test(t)||t==="0")&&!t.startsWith("url("));function rL(t){const e=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==e)return!0}function aL(t,e,i,s){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=U_(l,e),f=U_(o,e);return!c||!f?!1:rL(t)||(i==="spring"||YC(i))&&s}function jp(t){t.duration=0,t.type="keyframes"}const lL=new Set(["opacity","clipPath","filter","transform"]),oL=Zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uL(t){const{motionValue:e,name:i,repeatDelay:s,repeatType:l,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:d}=e.owner.getProps();return oL()&&i&&lL.has(i)&&(i!=="transform"||!d)&&!p&&!s&&l!=="mirror"&&o!==0&&c!=="inertia"}const cL=40;class fL extends lg{constructor({autoplay:e=!0,delay:i=0,type:s="keyframes",repeat:l=0,repeatDelay:o=0,repeatType:c="loop",keyframes:f,name:p,motionValue:d,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=rn.now();const v={autoplay:e,delay:i,type:s,repeat:l,repeatDelay:o,repeatType:c,name:p,motionValue:d,element:g,...y},b=g?.KeyframeResolver||ug;this.keyframeResolver=new b(f,(C,M,k)=>this.onKeyframesResolved(C,M,v,!k),p,d,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,i,s,l){this.keyframeResolver=void 0;const{name:o,type:c,velocity:f,delay:p,isHandoff:d,onUpdate:g}=s;this.resolvedAt=rn.now(),aL(e,o,c,f)||((wi.instantAnimations||!p)&&g?.(ag(e,s,i)),e[0]=e[e.length-1],jp(s),s.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>cL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...s,keyframes:e},b=!d&&uL(v)?new sL({...v,element:v.motionValue.owner.current}):new og(v);b.finished.then(()=>this.notifyFinished()).catch(On),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,i){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),K6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hL=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dL(t){const e=hL.exec(t);if(!e)return[,];const[,i,s,l]=e;return[`--${i??s}`,l]}function XC(t,e,i=1){const[s,l]=dL(t);if(!s)return;const o=window.getComputedStyle(e).getPropertyValue(s);if(o){const c=o.trim();return mC(c)?parseFloat(c):c}return tg(l)?XC(l,e,i+1):l}function cg(t,e){return t?.[e]??t?.default??t}const QC=new Set(["width","height","top","left","right","bottom",...pa]),pL={test:t=>t==="auto",parse:t=>t},$C=t=>e=>e.test(t),ZC=[da,_e,Zn,ts,r6,s6,pL],V_=t=>ZC.find($C(t));function mL(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yC(t):!0}const gL=new Set(["brightness","contrast","saturate","opacity"]);function yL(t){const[e,i]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=i.match(ng)||[];if(!s)return t;const l=i.replace(s,"");let o=gL.has(e)?1:0;return s!==i&&(o*=100),e+"("+o+l+")"}const vL=/\b([a-z-]*)\(.*?\)/gu,Lp={...hs,getAnimatableNone:t=>{const e=t.match(vL);return e?e.map(yL).join(" "):t}},P_={...da,transform:Math.round},xL={rotate:ts,rotateX:ts,rotateY:ts,rotateZ:ts,scale:Vu,scaleX:Vu,scaleY:Vu,scaleZ:Vu,skew:ts,skewX:ts,skewY:ts,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:$l,originX:N_,originY:N_,originZ:_e},fg={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e,...xL,zIndex:P_,fillOpacity:$l,strokeOpacity:$l,numOctaves:P_},_L={...fg,color:bt,backgroundColor:bt,outlineColor:bt,fill:bt,stroke:bt,borderColor:bt,borderTopColor:bt,borderRightColor:bt,borderBottomColor:bt,borderLeftColor:bt,filter:Lp,WebkitFilter:Lp},WC=t=>_L[t];function JC(t,e){let i=WC(t);return i!==Lp&&(i=hs),i.getAnimatableNone?i.getAnimatableNone(e):void 0}const bL=new Set(["auto","none","0"]);function SL(t,e,i){let s=0,l;for(;s<t.length&&!l;){const o=t[s];typeof o=="string"&&!bL.has(o)&&Zl(o).values.length&&(l=t[s]),s++}if(l&&i)for(const o of e)t[o]=JC(i,l)}class EL extends ug{constructor(e,i,s,l,o){super(e,i,s,l,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:i,name:s}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let d=e[p];if(typeof d=="string"&&(d=d.trim(),tg(d))){const g=XC(d,i.current);g!==void 0&&(e[p]=g),p===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!QC.has(s)||e.length!==2)return;const[l,o]=e,c=V_(l),f=V_(o);if(c!==f)if(L_(c)&&L_(f))for(let p=0;p<e.length;p++){const d=e[p];typeof d=="string"&&(e[p]=parseFloat(d))}else Ps[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:i}=this,s=[];for(let l=0;l<e.length;l++)(e[l]===null||mL(e[l]))&&s.push(l);s.length&&SL(e,s,i)}measureInitialState(){const{element:e,unresolvedKeyframes:i,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ps[s](e.measureViewportBox(),window.getComputedStyle(e.current)),i[0]=this.measuredOrigin;const l=i[i.length-1];l!==void 0&&e.getValue(s,l).jump(l,!1)}measureEndState(){const{element:e,name:i,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const l=e.getValue(i);l&&l.jump(this.measuredOrigin,!1);const o=s.length-1,c=s[o];s[o]=Ps[i](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function CL(t,e,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const l=i?.[t]??s.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t)}const eT=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function TL(t){return gC(t)&&"offsetHeight"in t}const H_=30,wL=t=>!isNaN(parseFloat(t));class AL{constructor(e,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const l=rn.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=i.owner}setCurrent(e){this.current=e,this.updatedAt=rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=wL(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,i){this.events[e]||(this.events[e]=new Wm);const s=this.events[e].add(i);return e==="change"?()=>{s(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,i){this.passiveEffect=e,this.stopPassiveEffect=i}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,i,s){this.set(i),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,i=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>H_)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,H_);return vC(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(e){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=e(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sa(t,e){return new AL(t,e)}const{schedule:hg}=RC(queueMicrotask,!1),Un={x:!1,y:!1};function tT(){return Un.x||Un.y}function NL(t){return t==="x"||t==="y"?Un[t]?null:(Un[t]=!0,()=>{Un[t]=!1}):Un.x||Un.y?null:(Un.x=Un.y=!0,()=>{Un.x=Un.y=!1})}function nT(t,e){const i=CL(t),s=new AbortController,l={passive:!0,...e,signal:s.signal};return[i,l,()=>s.abort()]}function F_(t){return!(t.pointerType==="touch"||tT())}function RL(t,e,i={}){const[s,l,o]=nT(t,i),c=f=>{if(!F_(f))return;const{target:p}=f,d=e(p,f);if(typeof d!="function"||!p)return;const g=y=>{F_(y)&&(d(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,l)};return s.forEach(f=>{f.addEventListener("pointerenter",c,l)}),o}const iT=(t,e)=>e?t===e?!0:iT(t,e.parentElement):!1,dg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ML=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DL(t){return ML.has(t.tagName)||t.tabIndex!==-1}const Yu=new WeakSet;function G_(t){return e=>{e.key==="Enter"&&t(e)}}function Ud(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kL=(t,e)=>{const i=t.currentTarget;if(!i)return;const s=G_(()=>{if(Yu.has(i))return;Ud(i,"down");const l=G_(()=>{Ud(i,"up")}),o=()=>Ud(i,"cancel");i.addEventListener("keyup",l,e),i.addEventListener("blur",o,e)});i.addEventListener("keydown",s,e),i.addEventListener("blur",()=>i.removeEventListener("keydown",s),e)};function q_(t){return dg(t)&&!tT()}function OL(t,e,i={}){const[s,l,o]=nT(t,i),c=f=>{const p=f.currentTarget;if(!q_(f))return;Yu.add(p);const d=e(p,f),g=(b,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Yu.has(p)&&Yu.delete(p),q_(b)&&typeof d=="function"&&d(b,{success:C})},y=b=>{g(b,p===window||p===document||i.useGlobalTarget||iT(p,b.target))},v=b=>{g(b,!1)};window.addEventListener("pointerup",y,l),window.addEventListener("pointercancel",v,l)};return s.forEach(f=>{(i.useGlobalTarget?window:f).addEventListener("pointerdown",c,l),TL(f)&&(f.addEventListener("focus",d=>kL(d,l)),!DL(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),o}function sT(t){return gC(t)&&"ownerSVGElement"in t}function IL(t){return sT(t)&&t.tagName==="svg"}const Pt=t=>!!(t&&t.getVelocity),jL=[...ZC,bt,hs],LL=t=>jL.find($C(t)),rT=ee.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function zL(t=!0){const e=ee.useContext(Km);if(e===null)return[!0,null];const{isPresent:i,onExitComplete:s,register:l}=e,o=ee.useId();ee.useEffect(()=>{if(t)return l(o)},[t]);const c=ee.useCallback(()=>t&&s&&s(o),[o,s,t]);return!i&&s?[!1,c]:[!0]}const aT=ee.createContext({strict:!1}),Y_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(const t in Y_)ra[t]={isEnabled:e=>Y_[t].some(i=>!!e[i])};function BL(t){for(const e in t)ra[e]={...ra[e],...t[e]}}const UL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _c(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UL.has(t)}let lT=t=>!_c(t);function VL(t){typeof t=="function"&&(lT=e=>e.startsWith("on")?!_c(e):t(e))}try{VL(require("@emotion/is-prop-valid").default)}catch{}function PL(t,e,i){const s={};for(const l in t)l==="values"&&typeof t.values=="object"||(lT(l)||i===!0&&_c(l)||!e&&!_c(l)||t.draggable&&l.startsWith("onDrag"))&&(s[l]=t[l]);return s}const Bc=ee.createContext({});function Uc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Wl(t){return typeof t=="string"||Array.isArray(t)}const pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mg=["initial",...pg];function Vc(t){return Uc(t.animate)||mg.some(e=>Wl(t[e]))}function oT(t){return!!(Vc(t)||t.variants)}function HL(t,e){if(Vc(t)){const{initial:i,animate:s}=t;return{initial:i===!1||Wl(i)?i:void 0,animate:Wl(s)?s:void 0}}return t.inherit!==!1?e:{}}function FL(t){const{initial:e,animate:i}=HL(t,ee.useContext(Bc));return ee.useMemo(()=>({initial:e,animate:i}),[K_(e),K_(i)])}function K_(t){return Array.isArray(t)?t.join(" "):t}function X_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_e.test(t))t=parseFloat(t);else return t;const i=X_(t,e.target.x),s=X_(t,e.target.y);return`${i}% ${s}%`}},GL={correct:(t,{treeScale:e,projectionDelta:i})=>{const s=t,l=hs.parse(t);if(l.length>5)return s;const o=hs.createTransformer(t),c=typeof l[0]!="number"?1:0,f=i.x.scale*e.x,p=i.y.scale*e.y;l[0+c]/=f,l[1+c]/=p;const d=ut(f,p,.5);return typeof l[2+c]=="number"&&(l[2+c]/=d),typeof l[3+c]=="number"&&(l[3+c]/=d),o(l)}},zp={borderRadius:{...xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xl,borderTopRightRadius:xl,borderBottomLeftRadius:xl,borderBottomRightRadius:xl,boxShadow:GL};function uT(t,{layout:e,layoutId:i}){return ma.has(t)||t.startsWith("origin")||(e||i!==void 0)&&(!!zp[t]||t==="opacity")}const qL={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},YL=pa.length;function KL(t,e,i){let s="",l=!0;for(let o=0;o<YL;o++){const c=pa[o],f=t[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||i){const d=eT(f,fg[c]);if(!p){l=!1;const g=qL[c]||c;s+=`${g}(${d}) `}i&&(e[c]=d)}}return s=s.trim(),i?s=i(e,l?"":s):l&&(s="none"),s}function gg(t,e,i){const{style:s,vars:l,transformOrigin:o}=t;let c=!1,f=!1;for(const p in e){const d=e[p];if(ma.has(p)){c=!0;continue}else if(DC(p)){l[p]=d;continue}else{const g=eT(d,fg[p]);p.startsWith("origin")?(f=!0,o[p]=g):s[p]=g}}if(e.transform||(c||i?s.transform=KL(e,t.transform,i):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:d="50%",originZ:g=0}=o;s.transformOrigin=`${p} ${d} ${g}`}}const yg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cT(t,e,i){for(const s in e)!Pt(e[s])&&!uT(s,i)&&(t[s]=e[s])}function XL({transformTemplate:t},e){return ee.useMemo(()=>{const i=yg();return gg(i,e,t),Object.assign({},i.vars,i.style)},[e])}function QL(t,e){const i=t.style||{},s={};return cT(s,i,t),Object.assign(s,XL(t,e)),s}function $L(t,e){const i={},s=QL(t,e);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=s,i}const ZL={offset:"stroke-dashoffset",array:"stroke-dasharray"},WL={offset:"strokeDashoffset",array:"strokeDasharray"};function JL(t,e,i=1,s=0,l=!0){t.pathLength=1;const o=l?ZL:WL;t[o.offset]=_e.transform(-s);const c=_e.transform(e),f=_e.transform(i);t[o.array]=`${c} ${f}`}function fT(t,{attrX:e,attrY:i,attrScale:s,pathLength:l,pathSpacing:o=1,pathOffset:c=0,...f},p,d,g){if(gg(t,f,d),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),i!==void 0&&(y.y=i),s!==void 0&&(y.scale=s),l!==void 0&&JL(y,l,o,c,!1)}const hT=()=>({...yg(),attrs:{}}),dT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ez(t,e,i,s){const l=ee.useMemo(()=>{const o=hT();return fT(o,e,dT(s),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};cT(o,t.style,t),l.style={...o,...l.style}}return l}const tz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vg(t){return typeof t!="string"||t.includes("-")?!1:!!(tz.indexOf(t)>-1||/[A-Z]/u.test(t))}function nz(t,e,i,{latestValues:s},l,o=!1){const f=(vg(t)?ez:$L)(e,s,l,t),p=PL(e,typeof t=="string",o),d=t!==ee.Fragment?{...p,...f,ref:i}:{},{children:g}=e,y=ee.useMemo(()=>Pt(g)?g.get():g,[g]);return ee.createElement(t,{...d,children:y})}function Q_(t){const e=[{},{}];return t?.values.forEach((i,s)=>{e[0][s]=i.get(),e[1][s]=i.getVelocity()}),e}function xg(t,e,i,s){if(typeof e=="function"){const[l,o]=Q_(s);e=e(i!==void 0?i:t.custom,l,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,o]=Q_(s);e=e(i!==void 0?i:t.custom,l,o)}return e}function Ku(t){return Pt(t)?t.get():t}function iz({scrapeMotionValuesFromProps:t,createRenderState:e},i,s,l){return{latestValues:sz(i,s,l,t),renderState:e()}}function sz(t,e,i,s){const l={},o=s(t,{});for(const v in o)l[v]=Ku(o[v]);let{initial:c,animate:f}=t;const p=Vc(t),d=oT(t);e&&d&&!p&&t.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let g=i?i.initial===!1:!1;g=g||c===!1;const y=g?f:c;if(y&&typeof y!="boolean"&&!Uc(y)){const v=Array.isArray(y)?y:[y];for(let b=0;b<v.length;b++){const C=xg(t,v[b]);if(C){const{transitionEnd:M,transition:k,...R}=C;for(const V in R){let O=R[V];if(Array.isArray(O)){const $=g?O.length-1:0;O=O[$]}O!==null&&(l[V]=O)}for(const V in M)l[V]=M[V]}}}return l}const pT=t=>(e,i)=>{const s=ee.useContext(Bc),l=ee.useContext(Km),o=()=>iz(t,e,s,l);return i?o():Bj(o)};function _g(t,e,i){const{style:s}=t,l={};for(const o in s)(Pt(s[o])||e.style&&Pt(e.style[o])||uT(o,t)||i?.getValue(o)?.liveStyle!==void 0)&&(l[o]=s[o]);return l}const rz=pT({scrapeMotionValuesFromProps:_g,createRenderState:yg});function mT(t,e,i){const s=_g(t,e,i);for(const l in t)if(Pt(t[l])||Pt(e[l])){const o=pa.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;s[o]=t[l]}return s}const az=pT({scrapeMotionValuesFromProps:mT,createRenderState:hT}),lz=Symbol.for("motionComponentSymbol");function Gr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oz(t,e,i){return ee.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),i&&(typeof i=="function"?i(s):Gr(i)&&(i.current=s))},[e])}const bg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uz="framerAppearId",gT="data-"+bg(uz),yT=ee.createContext({});function cz(t,e,i,s,l){const{visualElement:o}=ee.useContext(Bc),c=ee.useContext(aT),f=ee.useContext(Km),p=ee.useContext(rT).reducedMotion,d=ee.useRef(null);s=s||c.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:o,props:i,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const g=d.current,y=ee.useContext(yT);g&&!g.projection&&l&&(g.type==="html"||g.type==="svg")&&fz(d.current,i,l,y);const v=ee.useRef(!1);ee.useInsertionEffect(()=>{g&&v.current&&g.update(i,f)});const b=i[gT],C=ee.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return Uj(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),C.current&&g.animationState&&g.animationState.animateChanges())}),ee.useEffect(()=>{g&&(!C.current&&g.animationState&&g.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),C.current=!1),g.enteringChildren=void 0)}),g}function fz(t,e,i,s){const{layoutId:l,layout:o,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:d,layoutCrossfade:g}=e;t.projection=new i(t.latestValues,e["data-framer-portal-id"]?void 0:vT(t.parent)),t.projection.setOptions({layoutId:l,layout:o,alwaysMeasureLayout:!!c||f&&Gr(f),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:p,layoutRoot:d})}function vT(t){if(t)return t.options.allowProjection!==!1?t.projection:vT(t.parent)}function Vd(t,{forwardMotionProps:e=!1}={},i,s){i&&BL(i);const l=vg(t)?az:rz;function o(f,p){let d;const g={...ee.useContext(rT),...f,layoutId:hz(f)},{isStatic:y}=g,v=FL(f),b=l(f,y);if(!y&&Ym){dz();const C=pz(g);d=C.MeasureLayout,v.visualElement=cz(t,b,g,s,C.ProjectionNode)}return _.jsxs(Bc.Provider,{value:v,children:[d&&v.visualElement?_.jsx(d,{visualElement:v.visualElement,...g}):null,nz(t,f,oz(b,v.visualElement,p),b,y,e)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=ee.forwardRef(o);return c[lz]=t,c}function hz({layoutId:t}){const e=ee.useContext(pC).id;return e&&t!==void 0?e+"-"+t:t}function dz(t,e){ee.useContext(aT).strict}function pz(t){const{drag:e,layout:i}=ra;if(!e&&!i)return{};const s={...e,...i};return{MeasureLayout:e?.isEnabled(t)||i?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function mz(t,e){if(typeof Proxy>"u")return Vd;const i=new Map,s=(o,c)=>Vd(o,c,t,e),l=(o,c)=>s(o,c);return new Proxy(l,{get:(o,c)=>c==="create"?s:(i.has(c)||i.set(c,Vd(c,void 0,t,e)),i.get(c))})}function xT({top:t,left:e,right:i,bottom:s}){return{x:{min:e,max:i},y:{min:t,max:s}}}function gz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yz(t,e){if(!e)return t;const i=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:s.y,right:s.x}}function Pd(t){return t===void 0||t===1}function Bp({scale:t,scaleX:e,scaleY:i}){return!Pd(t)||!Pd(e)||!Pd(i)}function Ls(t){return Bp(t)||_T(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _T(t){return $_(t.x)||$_(t.y)}function $_(t){return t&&t!=="0%"}function bc(t,e,i){const s=t-i,l=e*s;return i+l}function Z_(t,e,i,s,l){return l!==void 0&&(t=bc(t,l,s)),bc(t,i,s)+e}function Up(t,e=0,i=1,s,l){t.min=Z_(t.min,e,i,s,l),t.max=Z_(t.max,e,i,s,l)}function bT(t,{x:e,y:i}){Up(t.x,e.translate,e.scale,e.originPoint),Up(t.y,i.translate,i.scale,i.originPoint)}const W_=.999999999999,J_=1.0000000000001;function vz(t,e,i,s=!1){const l=i.length;if(!l)return;e.x=e.y=1;let o,c;for(let f=0;f<l;f++){o=i[f],c=o.projectionDelta;const{visualElement:p}=o.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Yr(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,bT(t,c)),s&&Ls(o.latestValues)&&Yr(t,o.latestValues))}e.x<J_&&e.x>W_&&(e.x=1),e.y<J_&&e.y>W_&&(e.y=1)}function qr(t,e){t.min=t.min+e,t.max=t.max+e}function eb(t,e,i,s,l=.5){const o=ut(t.min,t.max,l);Up(t,e,i,o,s)}function Yr(t,e){eb(t.x,e.x,e.scaleX,e.scale,e.originX),eb(t.y,e.y,e.scaleY,e.scale,e.originY)}function ST(t,e){return xT(yz(t.getBoundingClientRect(),e))}function xz(t,e,i){const s=ST(t,i),{scroll:l}=e;return l&&(qr(s.x,l.offset.x),qr(s.y,l.offset.y)),s}const tb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Kr=()=>({x:tb(),y:tb()}),nb=()=>({min:0,max:0}),Ct=()=>({x:nb(),y:nb()}),Vp={current:null},ET={current:!1};function _z(){if(ET.current=!0,!!Ym)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vp.current=t.matches;t.addEventListener("change",e),e()}else Vp.current=!1}const bz=new WeakMap;function Sz(t,e,i){for(const s in e){const l=e[s],o=i[s];if(Pt(l))t.addValue(s,l);else if(Pt(o))t.addValue(s,sa(l,{owner:t}));else if(o!==l)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(l):c.hasAnimated||c.set(l)}else{const c=t.getStaticValue(s);t.addValue(s,sa(c!==void 0?c:l,{owner:t}))}}for(const s in i)e[s]===void 0&&t.removeValue(s);return e}const ib=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ez{scrapeMotionValuesFromProps(e,i,s){return{}}constructor({parent:e,props:i,presenceContext:s,reducedMotionConfig:l,blockInitialAnimation:o,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ug,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=rn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,ot.render(this.render,!1,!0))};const{latestValues:p,renderState:d}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=d,this.parent=e,this.props=i,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.options=f,this.blockInitialAnimation=!!o,this.isControllingVariants=Vc(i),this.isVariantNode=oT(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const b=y[v];p[v]!==void 0&&Pt(b)&&b.set(p[v])}}mount(e){this.current=e,bz.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),ET.current||_z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const i=this.features[e];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,i){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ma.has(e);s&&this.onBindTransform&&this.onBindTransform();const l=i.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ot.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,i)),this.valueSubscriptions.set(e,()=>{l(),o&&o(),i.owner&&i.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ra){const i=ra[e];if(!i)continue;const{isEnabled:s,Feature:l}=i;if(!this.features[e]&&l&&s(this.props)&&(this.features[e]=new l(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,i){this.latestValues[e]=i}update(e,i){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let s=0;s<ib.length;s++){const l=ib[s];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const o="on"+l,c=e[o];c&&(this.propEventSubscriptions[l]=this.on(l,c))}this.prevMotionValues=Sz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(e),()=>i.variantChildren.delete(e)}addValue(e,i){const s=this.values.get(e);i!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,i),this.values.set(e,i),this.latestValues[e]=i.get())}removeValue(e){this.values.delete(e);const i=this.valueSubscriptions.get(e);i&&(i(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,i){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&i!==void 0&&(s=sa(i===null?void 0:i,{owner:this}),this.addValue(e,s)),s}readValue(e,i){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(mC(s)||yC(s))?s=parseFloat(s):!LL(s)&&hs.test(i)&&(s=JC(e,i)),this.setBaseTarget(e,Pt(s)?s.get():s)),Pt(s)?s.get():s}setBaseTarget(e,i){this.baseTarget[e]=i}getBaseTarget(e){const{initial:i}=this.props;let s;if(typeof i=="string"||typeof i=="object"){const o=xg(this.props,i,this.presenceContext?.custom);o&&(s=o[e])}if(i&&s!==void 0)return s;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Pt(l)?l:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,i){return this.events[e]||(this.events[e]=new Wm),this.events[e].add(i)}notify(e,...i){this.events[e]&&this.events[e].notify(...i)}scheduleRenderMicrotask(){hg.render(this.render)}}class CT extends Ez{constructor(){super(...arguments),this.KeyframeResolver=EL}sortInstanceNodePosition(e,i){return e.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(e,i){return e.style?e.style[i]:void 0}removeValueFromRenderState(e,{vars:i,style:s}){delete i[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pt(e)&&(this.childSubscription=e.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function TT(t,{style:e,vars:i},s,l){const o=t.style;let c;for(c in e)o[c]=e[c];l?.applyProjectionStyles(o,s);for(c in i)o.setProperty(c,i[c])}function Cz(t){return window.getComputedStyle(t)}class Tz extends CT{constructor(){super(...arguments),this.type="html",this.renderInstance=TT}readValueFromInstance(e,i){if(ma.has(i))return this.projection?.isProjecting?Mp(i):H6(e,i);{const s=Cz(e),l=(DC(i)?s.getPropertyValue(i):s[i])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:i}){return ST(e,i)}build(e,i,s){gg(e,i,s.transformTemplate)}scrapeMotionValuesFromProps(e,i,s){return _g(e,i,s)}}const wT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wz(t,e,i,s){TT(t,e,void 0,s);for(const l in e.attrs)t.setAttribute(wT.has(l)?l:bg(l),e.attrs[l])}class Az extends CT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,i){return e[i]}readValueFromInstance(e,i){if(ma.has(i)){const s=WC(i);return s&&s.default||0}return i=wT.has(i)?i:bg(i),e.getAttribute(i)}scrapeMotionValuesFromProps(e,i,s){return mT(e,i,s)}build(e,i,s){fT(e,i,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,i,s,l){wz(e,i,s,l)}mount(e){this.isSVGTag=dT(e.tagName),super.mount(e)}}const Nz=(t,e)=>vg(t)?new Az(e):new Tz(e,{allowProjection:t!==ee.Fragment});function Jr(t,e,i){const s=t.getProps();return xg(s,e,i!==void 0?i:s.custom,t)}const Pp=t=>Array.isArray(t);function Rz(t,e,i){t.hasValue(e)?t.getValue(e).set(i):t.addValue(e,sa(i))}function Mz(t){return Pp(t)?t[t.length-1]||0:t}function Dz(t,e){const i=Jr(t,e);let{transitionEnd:s={},transition:l={},...o}=i||{};o={...o,...s};for(const c in o){const f=Mz(o[c]);Rz(t,c,f)}}function kz(t){return!!(Pt(t)&&t.add)}function Hp(t,e){const i=t.getValue("willChange");if(kz(i))return i.add(e);if(!i&&wi.WillChange){const s=new wi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function AT(t){return t.props[gT]}const Oz=t=>t!==null;function Iz(t,{repeat:e,repeatType:i="loop"},s){const l=t.filter(Oz),o=e&&i!=="loop"&&e%2===1?0:l.length-1;return l[o]}const jz={type:"spring",stiffness:500,damping:25,restSpeed:10},Lz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zz={type:"keyframes",duration:.8},Bz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uz=(t,{keyframes:e})=>e.length>2?zz:ma.has(t)?t.startsWith("scale")?Lz(e[1]):jz:Bz;function Vz({when:t,delay:e,delayChildren:i,staggerChildren:s,staggerDirection:l,repeat:o,repeatType:c,repeatDelay:f,from:p,elapsed:d,...g}){return!!Object.keys(g).length}const Sg=(t,e,i,s={},l,o)=>c=>{const f=cg(s,t)||{},p=f.delay||s.delay||0;let{elapsed:d=0}=s;d=d-$n(p);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-d,onUpdate:v=>{e.set(v),f.onUpdate&&f.onUpdate(v)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:o?void 0:l};Vz(f)||Object.assign(g,Uz(t,g)),g.duration&&(g.duration=$n(g.duration)),g.repeatDelay&&(g.repeatDelay=$n(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(jp(g),g.delay===0&&(y=!0)),(wi.instantAnimations||wi.skipAnimations)&&(y=!0,jp(g),g.delay=0),g.allowFlatten=!f.type&&!f.ease,y&&!o&&e.get()!==void 0){const v=Iz(g.keyframes,f);if(v!==void 0){ot.update(()=>{g.onUpdate(v),g.onComplete()});return}}return f.isSync?new og(g):new fL(g)};function Pz({protectedKeys:t,needsAnimating:e},i){const s=t.hasOwnProperty(i)&&e[i]!==!0;return e[i]=!1,s}function NT(t,e,{delay:i=0,transitionOverride:s,type:l}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...f}=e;s&&(o=s);const p=[],d=l&&t.animationState&&t.animationState.getState()[l];for(const g in f){const y=t.getValue(g,t.latestValues[g]??null),v=f[g];if(v===void 0||d&&Pz(d,g))continue;const b={delay:i,...cg(o||{},g)},C=y.get();if(C!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===C&&!b.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const R=AT(t);if(R){const V=window.MotionHandoffAnimation(R,g,ot);V!==null&&(b.startTime=V,M=!0)}}Hp(t,g),y.start(Sg(g,y,v,t.shouldReduceMotion&&QC.has(g)?{type:!1}:b,t,M));const k=y.animation;k&&p.push(k)}return c&&Promise.all(p).then(()=>{ot.update(()=>{c&&Dz(t,c)})}),p}function RT(t,e,i,s=0,l=1){const o=Array.from(t).sort((d,g)=>d.sortNodePosition(g)).indexOf(e),c=t.size,f=(c-1)*s;return typeof i=="function"?i(o,c):l===1?o*s:f-o*s}function Fp(t,e,i={}){const s=Jr(t,e,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=s||{};i.transitionOverride&&(l=i.transitionOverride);const o=s?()=>Promise.all(NT(t,s,i)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:d=0,staggerChildren:g,staggerDirection:y}=l;return Hz(t,e,p,d,g,y,i)}:()=>Promise.resolve(),{when:f}=l;if(f){const[p,d]=f==="beforeChildren"?[o,c]:[c,o];return p().then(()=>d())}else return Promise.all([o(),c(i.delay)])}function Hz(t,e,i=0,s=0,l=0,o=1,c){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(Fp(p,e,{...c,delay:i+(typeof s=="function"?0:s)+RT(t.variantChildren,p,s,l,o)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function Fz(t,e,i={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const l=e.map(o=>Fp(t,o,i));s=Promise.all(l)}else if(typeof e=="string")s=Fp(t,e,i);else{const l=typeof e=="function"?Jr(t,e,i.custom):e;s=Promise.all(NT(t,l,i))}return s.then(()=>{t.notify("AnimationComplete",e)})}function MT(t,e){if(!Array.isArray(e))return!1;const i=e.length;if(i!==t.length)return!1;for(let s=0;s<i;s++)if(e[s]!==t[s])return!1;return!0}const Gz=mg.length;function DT(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?DT(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const e={};for(let i=0;i<Gz;i++){const s=mg[i],l=t.props[s];(Wl(l)||l===!1)&&(e[s]=l)}return e}const qz=[...pg].reverse(),Yz=pg.length;function Kz(t){return e=>Promise.all(e.map(({animation:i,options:s})=>Fz(t,i,s)))}function Xz(t){let e=Kz(t),i=sb(),s=!0;const l=p=>(d,g)=>{const y=Jr(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:b,...C}=y;d={...d,...C,...b}}return d};function o(p){e=p(t)}function c(p){const{props:d}=t,g=DT(t.parent)||{},y=[],v=new Set;let b={},C=1/0;for(let k=0;k<Yz;k++){const R=qz[k],V=i[R],O=d[R]!==void 0?d[R]:g[R],$=Wl(O),Q=R===p?V.isActive:null;Q===!1&&(C=k);let z=O===g[R]&&O!==d[R]&&$;if(z&&s&&t.manuallyAnimateOnMount&&(z=!1),V.protectedKeys={...b},!V.isActive&&Q===null||!O&&!V.prevProp||Uc(O)||typeof O=="boolean")continue;const X=Qz(V.prevProp,O);let te=X||R===p&&V.isActive&&!z&&$||k>C&&$,fe=!1;const he=Array.isArray(O)?O:[O];let ae=he.reduce(l(R),{});Q===!1&&(ae={});const{prevResolvedValues:le={}}=V,Ce={...le,...ae},se=Y=>{te=!0,v.has(Y)&&(fe=!0,v.delete(Y)),V.needsAnimating[Y]=!0;const ue=t.getValue(Y);ue&&(ue.liveStyle=!1)};for(const Y in Ce){const ue=ae[Y],ve=le[Y];if(b.hasOwnProperty(Y))continue;let T=!1;Pp(ue)&&Pp(ve)?T=!MT(ue,ve):T=ue!==ve,T?ue!=null?se(Y):v.add(Y):ue!==void 0&&v.has(Y)?se(Y):V.protectedKeys[Y]=!0}V.prevProp=O,V.prevResolvedValues=ae,V.isActive&&(b={...b,...ae}),s&&t.blockInitialAnimation&&(te=!1);const W=z&&X;te&&(!W||fe)&&y.push(...he.map(Y=>{const ue={type:R};if(typeof Y=="string"&&s&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:ve}=t,T=Jr(ve,Y);if(ve.enteringChildren&&T){const{delayChildren:A}=T.transition||{};ue.delay=RT(ve.enteringChildren,t,A)}}return{animation:Y,options:ue}}))}if(v.size){const k={};if(typeof d.initial!="boolean"){const R=Jr(t,Array.isArray(d.initial)?d.initial[0]:d.initial);R&&R.transition&&(k.transition=R.transition)}v.forEach(R=>{const V=t.getBaseTarget(R),O=t.getValue(R);O&&(O.liveStyle=!0),k[R]=V??null}),y.push({animation:k})}let M=!!y.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(y):Promise.resolve()}function f(p,d){if(i[p].isActive===d)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(p,d)),i[p].isActive=d;const g=c(p);for(const y in i)i[y].protectedKeys={};return g}return{animateChanges:c,setActive:f,setAnimateFunction:o,getState:()=>i,reset:()=>{i=sb()}}}function Qz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MT(e,t):!1}function Os(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sb(){return{animate:Os(!0),whileInView:Os(),whileHover:Os(),whileTap:Os(),whileDrag:Os(),whileFocus:Os(),exit:Os()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class $z extends ps{constructor(e){super(e),e.animationState||(e.animationState=Xz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uc(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:i}=this.node.prevProps||{};e!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Zz=0;class Wz extends ps{constructor(){super(...arguments),this.id=Zz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:i}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const l=this.node.animationState.setActive("exit",!e);i&&!e&&l.then(()=>{i(this.id)})}mount(){const{register:e,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Jz={animation:{Feature:$z},exit:{Feature:Wz}};function Jl(t,e,i,s={passive:!0}){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i)}function po(t){return{point:{x:t.pageX,y:t.pageY}}}const eB=t=>e=>dg(e)&&t(e,po(e));function Ol(t,e,i,s){return Jl(t,e,eB(i),s)}const kT=1e-4,tB=1-kT,nB=1+kT,OT=.01,iB=0-OT,sB=0+OT;function Kt(t){return t.max-t.min}function rB(t,e,i){return Math.abs(t-e)<=i}function rb(t,e,i,s=.5){t.origin=s,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Kt(i)/Kt(e),t.translate=ut(i.min,i.max,t.origin)-t.originPoint,(t.scale>=tB&&t.scale<=nB||isNaN(t.scale))&&(t.scale=1),(t.translate>=iB&&t.translate<=sB||isNaN(t.translate))&&(t.translate=0)}function Il(t,e,i,s){rb(t.x,e.x,i.x,s?s.originX:void 0),rb(t.y,e.y,i.y,s?s.originY:void 0)}function ab(t,e,i){t.min=i.min+e.min,t.max=t.min+Kt(e)}function aB(t,e,i){ab(t.x,e.x,i.x),ab(t.y,e.y,i.y)}function lb(t,e,i){t.min=e.min-i.min,t.max=t.min+Kt(e)}function Sc(t,e,i){lb(t.x,e.x,i.x),lb(t.y,e.y,i.y)}function Mn(t){return[t("x"),t("y")]}const IT=({current:t})=>t?t.ownerDocument.defaultView:null,ob=(t,e)=>Math.abs(t-e);function lB(t,e){const i=ob(t.x,e.x),s=ob(t.y,e.y);return Math.sqrt(i**2+s**2)}class jT{constructor(e,i,{transformPagePoint:s,contextWindow:l=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Fd(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=lB(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!C)return;const{point:M}=v,{timestamp:k}=zt;this.history.push({...M,timestamp:k});const{onStart:R,onMove:V}=this.handlers;b||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Hd(b,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:C,onSessionEnd:M,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Fd(v.type==="pointercancel"?this.lastMoveEventInfo:Hd(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(v,R),M&&M(v,R)},!dg(e))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=l||window;const f=po(e),p=Hd(f,this.transformPagePoint),{point:d}=p,{timestamp:g}=zt;this.history=[{...d,timestamp:g}];const{onSessionStart:y}=i;y&&y(e,Fd(p,this.history)),this.removeListeners=co(Ol(this.contextWindow,"pointermove",this.handlePointerMove),Ol(this.contextWindow,"pointerup",this.handlePointerUp),Ol(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function Hd(t,e){return e?{point:e(t.point)}:t}function ub(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fd({point:t},e){return{point:t,delta:ub(t,LT(e)),offset:ub(t,oB(e)),velocity:uB(e,.1)}}function oB(t){return t[0]}function LT(t){return t[t.length-1]}function uB(t,e){if(t.length<2)return{x:0,y:0};let i=t.length-1,s=null;const l=LT(t);for(;i>=0&&(s=t[i],!(l.timestamp-s.timestamp>$n(e)));)i--;if(!s)return{x:0,y:0};const o=kn(l.timestamp-s.timestamp);if(o===0)return{x:0,y:0};const c={x:(l.x-s.x)/o,y:(l.y-s.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function cB(t,{min:e,max:i},s){return e!==void 0&&t<e?t=s?ut(e,t,s.min):Math.max(t,e):i!==void 0&&t>i&&(t=s?ut(i,t,s.max):Math.min(t,i)),t}function cb(t,e,i){return{min:e!==void 0?t.min+e:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function fB(t,{top:e,left:i,bottom:s,right:l}){return{x:cb(t.x,i,l),y:cb(t.y,e,s)}}function fb(t,e){let i=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([i,s]=[s,i]),{min:i,max:s}}function hB(t,e){return{x:fb(t.x,e.x),y:fb(t.y,e.y)}}function dB(t,e){let i=.5;const s=Kt(t),l=Kt(e);return l>s?i=Ql(e.min,e.max-s,t.min):s>l&&(i=Ql(t.min,t.max-l,e.min)),Ti(0,1,i)}function pB(t,e){const i={};return e.min!==void 0&&(i.min=e.min-t.min),e.max!==void 0&&(i.max=e.max-t.min),i}const Gp=.35;function mB(t=Gp){return t===!1?t=0:t===!0&&(t=Gp),{x:hb(t,"left","right"),y:hb(t,"top","bottom")}}function hb(t,e,i){return{min:db(t,e),max:db(t,i)}}function db(t,e){return typeof t=="number"?t:t[e]||0}const gB=new WeakMap;class yB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:i=!1,distanceThreshold:s}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(po(y).point)},c=(y,v)=>{const{drag:b,dragPropagation:C,onDragStart:M}=this.getProps();if(b&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NL(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(R=>{let V=this.getAxisMotionValue(R).get()||0;if(Zn.test(V)){const{projection:O}=this.visualElement;if(O&&O.layout){const $=O.layout.layoutBox[R];$&&(V=Kt($)*(parseFloat(V)/100))}}this.originPoint[R]=V}),M&&ot.postRender(()=>M(y,v)),Hp(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},f=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:M,onDrag:k}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:R}=v;if(C&&this.currentDirection===null){this.currentDirection=vB(R),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),k&&k(y,v)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Mn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new jT(e,{onSessionStart:o,onStart:c,onMove:f,onSessionEnd:p,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:IT(this.visualElement)})}stop(e,i){const s=e||this.latestPointerEvent,l=i||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!l||!s)return;const{velocity:c}=l;this.startAnimation(c);const{onDragEnd:f}=this.getProps();f&&ot.postRender(()=>f(s,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:i}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(e,i,s){const{drag:l}=this.getProps();if(!s||!Pu(e,l,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=cB(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:i}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&Gr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=fB(s.layoutBox,e):this.constraints=!1,this.elastic=mB(i),l!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=pB(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:i}=this.getProps();if(!e||!Gr(e))return!1;const s=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const o=xz(s,l.root,this.visualElement.getTransformPagePoint());let c=hB(l.layout.layoutBox,o);if(i){const f=i(gz(c));this.hasMutatedConstraints=!!f,f&&(c=xT(f))}return c}startAnimation(e){const{drag:i,dragMomentum:s,dragElastic:l,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},d=Mn(g=>{if(!Pu(g,i,this.currentDirection))return;let y=p&&p[g]||{};c&&(y={min:0,max:0});const v=l?200:1e6,b=l?40:1e7,C={type:"inertia",velocity:s?e[g]:0,bounceStiffness:v,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(d).then(f)}startAxisValueAnimation(e,i){const s=this.getAxisMotionValue(e);return Hp(this.visualElement,e),s.start(Sg(e,s,0,i,this.visualElement,!1))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Mn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const i=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),l=s[i];return l||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Mn(i=>{const{drag:s}=this.getProps();if(!Pu(i,s,this.currentDirection))return;const{projection:l}=this.visualElement,o=this.getAxisMotionValue(i);if(l&&l.layout){const{min:c,max:f}=l.layout.layoutBox[i];o.set(e[i]-ut(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:i}=this.getProps(),{projection:s}=this.visualElement;if(!Gr(i)||!s||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Mn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();l[c]=dB({min:p,max:p},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Mn(c=>{if(!Pu(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:d}=this.constraints[c];f.set(ut(p,d,l[c]))})}addListeners(){if(!this.visualElement.current)return;gB.set(this.visualElement,this);const e=this.visualElement.current,i=Ol(e,"pointerdown",p=>{const{drag:d,dragListener:g=!0}=this.getProps();d&&g&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Gr(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,o=l.addEventListener("measure",s);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ot.read(s);const c=Jl(window,"resize",()=>this.scalePositionWithinConstraints()),f=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:d})=>{this.isDragging&&d&&(Mn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())}));return()=>{c(),i(),o(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:s=!1,dragPropagation:l=!1,dragConstraints:o=!1,dragElastic:c=Gp,dragMomentum:f=!0}=e;return{...e,drag:i,dragDirectionLock:s,dragPropagation:l,dragConstraints:o,dragElastic:c,dragMomentum:f}}}function Pu(t,e,i){return(e===!0||e===t)&&(i===null||i===t)}function vB(t,e=10){let i=null;return Math.abs(t.y)>e?i="y":Math.abs(t.x)>e&&(i="x"),i}class xB extends ps{constructor(e){super(e),this.removeGroupControls=On,this.removeListeners=On,this.controls=new yB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||On}unmount(){this.removeGroupControls(),this.removeListeners()}}const pb=t=>(e,i)=>{t&&ot.postRender(()=>t(e,i))};class _B extends ps{constructor(){super(...arguments),this.removePointerDownListener=On}onPointerDown(e){this.session=new jT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:i,onPan:s,onPanEnd:l}=this.node.getProps();return{onSessionStart:pb(e),onStart:pb(i),onMove:s,onEnd:(o,c)=>{delete this.session,l&&ot.postRender(()=>l(o,c))}}}mount(){this.removePointerDownListener=Ol(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Gd=!1;class bB extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s,layoutId:l}=this.props,{projection:o}=e;o&&(i.group&&i.group.add(o),s&&s.register&&l&&s.register(o),Gd&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:i,visualElement:s,drag:l,isPresent:o}=this.props,{projection:c}=s;return c&&(c.isPresent=o,Gd=!0,l||e.layoutDependency!==i||i===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||ot.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),hg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:i,switchLayoutGroup:s}=this.props,{projection:l}=e;Gd=!0,l&&(l.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(l),s&&s.deregister&&s.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zT(t){const[e,i]=zL(),s=ee.useContext(pC);return _.jsx(bB,{...t,layoutGroup:s,switchLayoutGroup:ee.useContext(yT),isPresent:e,safeToRemove:i})}function SB(t,e,i){const s=Pt(t)?t:sa(t);return s.start(Sg("",s,e,i)),s.animation}const EB=(t,e)=>t.depth-e.depth;class CB{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Qm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(EB),this.isDirty=!1,this.children.forEach(e)}}function TB(t,e){const i=rn.now(),s=({timestamp:l})=>{const o=l-i;o>=e&&(fs(s),t(o-e))};return ot.setup(s,!0),()=>fs(s)}const BT=["TopLeft","TopRight","BottomLeft","BottomRight"],wB=BT.length,mb=t=>typeof t=="string"?parseFloat(t):t,gb=t=>typeof t=="number"||_e.test(t);function AB(t,e,i,s,l,o){l?(t.opacity=ut(0,i.opacity??1,NB(s)),t.opacityExit=ut(e.opacity??1,0,RB(s))):o&&(t.opacity=ut(e.opacity??1,i.opacity??1,s));for(let c=0;c<wB;c++){const f=`border${BT[c]}Radius`;let p=yb(e,f),d=yb(i,f);if(p===void 0&&d===void 0)continue;p||(p=0),d||(d=0),p===0||d===0||gb(p)===gb(d)?(t[f]=Math.max(ut(mb(p),mb(d),s),0),(Zn.test(d)||Zn.test(p))&&(t[f]+="%")):t[f]=d}(e.rotate||i.rotate)&&(t.rotate=ut(e.rotate||0,i.rotate||0,s))}function yb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NB=UT(0,.5,TC),RB=UT(.5,.95,On);function UT(t,e,i){return s=>s<t?0:s>e?1:i(Ql(t,e,s))}function vb(t,e){t.min=e.min,t.max=e.max}function Bn(t,e){vb(t.x,e.x),vb(t.y,e.y)}function xb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _b(t,e,i,s,l){return t-=e,t=bc(t,1/i,s),l!==void 0&&(t=bc(t,1/l,s)),t}function MB(t,e=0,i=1,s=.5,l,o=t,c=t){if(Zn.test(e)&&(e=parseFloat(e),e=ut(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=ut(o.min,o.max,s);t===o&&(f-=e),t.min=_b(t.min,e,i,f,l),t.max=_b(t.max,e,i,f,l)}function bb(t,e,[i,s,l],o,c){MB(t,e[i],e[s],e[l],e.scale,o,c)}const DB=["x","scaleX","originX"],kB=["y","scaleY","originY"];function Sb(t,e,i,s){bb(t.x,e,DB,i?i.x:void 0,s?s.x:void 0),bb(t.y,e,kB,i?i.y:void 0,s?s.y:void 0)}function Eb(t){return t.translate===0&&t.scale===1}function VT(t){return Eb(t.x)&&Eb(t.y)}function Cb(t,e){return t.min===e.min&&t.max===e.max}function OB(t,e){return Cb(t.x,e.x)&&Cb(t.y,e.y)}function Tb(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function PT(t,e){return Tb(t.x,e.x)&&Tb(t.y,e.y)}function wb(t){return Kt(t.x)/Kt(t.y)}function Ab(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IB{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Qm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(e){const i=this.members.findIndex(l=>e===l);if(i===0)return!1;let s;for(let l=i;l>=0;l--){const o=this.members[l];if(o.isPresent!==!1){s=o;break}}return s?(this.promote(s),!0):!1}promote(e,i){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,i&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:l}=e.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:i,resumingFrom:s}=e;i.onExitComplete&&i.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jB(t,e,i){let s="";const l=t.x.translate/e.x,o=t.y.translate/e.y,c=i?.z||0;if((l||o||c)&&(s=`translate3d(${l}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),i){const{transformPerspective:d,rotate:g,rotateX:y,rotateY:v,skewX:b,skewY:C}=i;d&&(s=`perspective(${d}px) ${s}`),g&&(s+=`rotate(${g}deg) `),y&&(s+=`rotateX(${y}deg) `),v&&(s+=`rotateY(${v}deg) `),b&&(s+=`skewX(${b}deg) `),C&&(s+=`skewY(${C}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const qd=["","X","Y","Z"],LB=1e3;let zB=0;function Yd(t,e,i,s){const{latestValues:l}=e;l[t]&&(i[t]=l[t],e.setStaticValue(t,0),s&&(s[t]=0))}function HT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const i=AT(e);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:l,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ot,!(l||o))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&HT(s)}function FT({attachResizeListener:t,defaultParent:e,measureScroll:i,checkIsScrollRoot:s,resetTransform:l}){return class{constructor(c={},f=e?.()){this.id=zB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(VB),this.nodes.forEach(GB),this.nodes.forEach(qB),this.nodes.forEach(PB)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new CB)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Wm),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=sT(c)&&!IL(c),this.instance=c;const{layoutId:f,layout:p,visualElement:d}=this.options;if(d&&!d.current&&d.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{y=window.innerWidth}),t(c,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,g&&g(),g=TB(v,250),Xu.hasAnimatedSinceResize&&(Xu.hasAnimatedSinceResize=!1,this.nodes.forEach(Mb)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&d&&(f||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||d.getDefaultTransition()||$B,{onLayoutAnimationStart:M,onLayoutAnimationComplete:k}=d.getProps(),R=!this.targetLayout||!PT(this.targetLayout,b),V=!y&&v;if(this.options.layoutRoot||this.resumeFrom||V||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...cg(C,"layout"),onPlay:M,onComplete:k};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,V)}else y||Mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YB),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&HT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Rb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FB),this.nodes.forEach(BB),this.nodes.forEach(UB)):this.nodes.forEach(Rb),this.clearAllSnapshots();const f=rn.now();zt.delta=Ti(0,1e3/60,f-zt.timestamp),zt.timestamp=f,zt.isProcessing=!0,Id.update.process(zt),Id.preRender.process(zt),Id.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HB),this.sharedNodes.forEach(KB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!l)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!VT(this.projectionDelta),p=this.getTransformTemplate(),d=p?p(this.latestValues,""):void 0,g=d!==this.prevTransformTemplateValue;c&&this.instance&&(f||Ls(this.latestValues)||g)&&(l(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),ZB(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Ct();const f=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(WB))){const{scroll:d}=this.root;d&&(qr(f.x,d.offset.x),qr(f.y,d.offset.y))}return f}removeElementScroll(c){const f=Ct();if(Bn(f,c),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const d=this.path[p],{scroll:g,options:y}=d;d!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Bn(f,c),qr(f.x,g.offset.x),qr(f.y,g.offset.y))}return f}applyTransform(c,f=!1){const p=Ct();Bn(p,c);for(let d=0;d<this.path.length;d++){const g=this.path[d];!f&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Yr(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ls(g.latestValues)&&Yr(p,g.latestValues)}return Ls(this.latestValues)&&Yr(p,this.latestValues),p}removeTransform(c){const f=Ct();Bn(f,c);for(let p=0;p<this.path.length;p++){const d=this.path[p];if(!d.instance||!Ls(d.latestValues))continue;Bp(d.latestValues)&&d.updateSnapshot();const g=Ct(),y=d.measurePageBox();Bn(g,y),Sb(f,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,g)}return Ls(this.latestValues)&&Sb(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=zt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),bT(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Bp(this.parent.latestValues)||_T(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,f,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Sc(this.relativeTargetOrigin,f,p),Bn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),f=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(p=!1),p)return;const{layout:d,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||g))return;Bn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;vz(this.layoutCorrected,this.treeScale,this.path,f),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ct());const{target:b}=c;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xb(this.prevProjectionDelta.x,this.projectionDelta.x),xb(this.prevProjectionDelta.y,this.projectionDelta.y)),Il(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Ab(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ab(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Kr(),this.projectionDelta=Kr(),this.projectionDeltaWithTransform=Kr()}setAnimationOrigin(c,f=!1){const p=this.snapshot,d=p?p.latestValues:{},g={...this.latestValues},y=Kr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const v=Ct(),b=p?p.source:void 0,C=this.layout?this.layout.source:void 0,M=b!==C,k=this.getStack(),R=!k||k.members.length<=1,V=!!(M&&!R&&this.options.crossfade===!0&&!this.path.some(QB));this.animationProgress=0;let O;this.mixTargetDelta=$=>{const Q=$/1e3;Db(y.x,c.x,Q),Db(y.y,c.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sc(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XB(this.relativeTarget,this.relativeTargetOrigin,v,Q),O&&OB(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ct()),Bn(O,this.relativeTarget)),M&&(this.animationValues=g,AB(g,d,this.latestValues,Q,V,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{Xu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sa(0)),this.currentAnimation=SB(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(LB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:d,latestValues:g}=c;if(!(!f||!p||!d)){if(this!==c&&this.layout&&d&&GT(this.options.animationType,this.layout.layoutBox,d.layoutBox)){p=this.target||Ct();const y=Kt(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+y;const v=Kt(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+v}Bn(f,p),Yr(f,g),Il(this.projectionDeltaWithTransform,this.layoutCorrected,f,g)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new IB),this.sharedNodes.get(c).add(f);const d=f.options.initialPromotionConfig;f.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const d=this.getStack();d&&d.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const d={};p.z&&Yd("z",c,d,this.animationValues);for(let g=0;g<qd.length;g++)Yd(`rotate${qd[g]}`,c,d,this.animationValues),Yd(`skew${qd[g]}`,c,d,this.animationValues);c.render();for(const g in d)c.setStaticValue(g,d[g]),this.animationValues&&(this.animationValues[g]=d[g]);c.scheduleRender()}applyProjectionStyles(c,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Ku(f?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Ku(f?.pointerEvents)||""),this.hasProjected&&!Ls(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const g=d.animationValues||d.latestValues;this.applyTransformsToTarget();let y=jB(this.projectionDeltaWithTransform,this.treeScale,g);p&&(y=p(g,y)),c.transform=y;const{x:v,y:b}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,d.animationValues?c.opacity=d===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:c.opacity=d===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in zp){if(g[C]===void 0)continue;const{correct:M,applyTo:k,isCSSVariable:R}=zp[C],V=y==="none"?g[C]:M(g[C],d);if(k){const O=k.length;for(let $=0;$<O;$++)c[k[$]]=V}else R?this.options.visualElement.renderState.vars[C]=V:c[C]=V}this.options.layoutId&&(c.pointerEvents=d===this?Ku(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Nb),this.root.sharedNodes.clear()}}}function BB(t){t.updateLayout()}function UB(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=t.layout,{animationType:l}=t.options,o=e.source!==t.layout.source;l==="size"?Mn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=Kt(y);y.min=i[g].min,y.max=y.min+v}):GT(l,e.layoutBox,i)&&Mn(g=>{const y=o?e.measuredBox[g]:e.layoutBox[g],v=Kt(i[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const c=Kr();Il(c,i,e.layoutBox);const f=Kr();o?Il(f,t.applyTransform(s,!0),e.measuredBox):Il(f,i,e.layoutBox);const p=!VT(c);let d=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const b=Ct();Sc(b,e.layoutBox,y.layoutBox);const C=Ct();Sc(C,i,v.layoutBox),PT(b,C)||(d=!0),g.options.layoutRoot&&(t.relativeTarget=C,t.relativeTargetOrigin=b,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function VB(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HB(t){t.clearSnapshot()}function Nb(t){t.clearMeasurements()}function Rb(t){t.isLayoutDirty=!1}function FB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Mb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GB(t){t.resolveTargetDelta()}function qB(t){t.calcProjection()}function YB(t){t.resetSkewAndRotation()}function KB(t){t.removeLeadSnapshot()}function Db(t,e,i){t.translate=ut(e.translate,0,i),t.scale=ut(e.scale,1,i),t.origin=e.origin,t.originPoint=e.originPoint}function kb(t,e,i,s){t.min=ut(e.min,i.min,s),t.max=ut(e.max,i.max,s)}function XB(t,e,i,s){kb(t.x,e.x,i.x,s),kb(t.y,e.y,i.y,s)}function QB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $B={duration:.45,ease:[.4,0,.1,1]},Ob=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ib=Ob("applewebkit/")&&!Ob("chrome/")?Math.round:On;function jb(t){t.min=Ib(t.min),t.max=Ib(t.max)}function ZB(t){jb(t.x),jb(t.y)}function GT(t,e,i){return t==="position"||t==="preserve-aspect"&&!rB(wb(e),wb(i),.2)}function WB(t){return t!==t.root&&t.scroll?.wasRoot}const JB=FT({attachResizeListener:(t,e)=>Jl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},qT=FT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kd.current){const t=new JB({});t.mount(window),t.setOptions({layoutScroll:!0}),Kd.current=t}return Kd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),eU={pan:{Feature:_B},drag:{Feature:xB,ProjectionNode:qT,MeasureLayout:zT}};function Lb(t,e,i){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",i==="Start");const l="onHover"+i,o=s[l];o&&ot.postRender(()=>o(e,po(e)))}class tU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=RL(e,(i,s)=>(Lb(this.node,s,"Start"),l=>Lb(this.node,l,"End"))))}unmount(){}}class nU extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=co(Jl(this.node.current,"focus",()=>this.onFocus()),Jl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zb(t,e,i){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",i==="Start");const l="onTap"+(i==="End"?"":i),o=s[l];o&&ot.postRender(()=>o(e,po(e)))}class iU extends ps{mount(){const{current:e}=this.node;e&&(this.unmount=OL(e,(i,s)=>(zb(this.node,s,"Start"),(l,{success:o})=>zb(this.node,l,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qp=new WeakMap,Xd=new WeakMap,sU=t=>{const e=qp.get(t.target);e&&e(t)},rU=t=>{t.forEach(sU)};function aU({root:t,...e}){const i=t||document;Xd.has(i)||Xd.set(i,{});const s=Xd.get(i),l=JSON.stringify(e);return s[l]||(s[l]=new IntersectionObserver(rU,{root:t,...e})),s[l]}function lU(t,e,i){const s=aU(e);return qp.set(t,i),s.observe(t),()=>{qp.delete(t),s.unobserve(t)}}const oU={some:0,all:1};class uU extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:i,margin:s,amount:l="some",once:o}=e,c={root:i?i.current:void 0,rootMargin:s,threshold:typeof l=="number"?l:oU[l]},f=p=>{const{isIntersecting:d}=p;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=d?g:y;v&&v(p)};return lU(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:i}=this.node;["amount","margin","root"].some(cU(e,i))&&this.startObserver()}unmount(){}}function cU({viewport:t={}},{viewport:e={}}={}){return i=>t[i]!==e[i]}const fU={inView:{Feature:uU},tap:{Feature:iU},focus:{Feature:nU},hover:{Feature:tU}},hU={layout:{ProjectionNode:qT,MeasureLayout:zT}},dU={...Jz,...fU,...eU,...hU},pU=mz(dU,Nz),mU=({message:t})=>{const e=t.role==="user";return _.jsx(pU.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2},className:`flex w-full ${e?"justify-end":"justify-start"} mb-6 group`,children:_.jsxs("div",{className:`flex flex-col max-w-4xl w-full ${e?"items-end":"items-start"}`,children:[_.jsx("div",{className:"flex items-center gap-2 mb-1 opacity-50 text-[10px] font-mono tracking-wider uppercase",children:e?_.jsxs(_.Fragment,{children:[_.jsx("span",{children:"User@Local"}),_.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--accent-primary)] rounded-full"})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),_.jsx("span",{children:"Antigravity_Core"})]})}),_.jsxs("div",{className:`
                    relative transition-all duration-300 border
                    ${e?"bg-[#151515] border-[var(--accent-primary)]/20 text-white px-5 py-3 rounded-none border-l-2 border-l-[var(--accent-primary)]":"bg-transparent border-transparent text-[var(--text-main)] px-0 py-1 w-full"}
                `,children:[_.jsx("div",{className:`prose prose-invert max-w-none break-words whitespace-pre-wrap prose-p:leading-relaxed prose-pre:p-0 prose-pre:bg-transparent prose-pre:border-none ${e?"prose-p:text-gray-100":"prose-p:text-gray-300"}`,children:_.jsx(Oj,{components:{pre:({children:i})=>_.jsx(gU,{children:i}),code:({node:i,className:s,children:l,...o})=>!/language-(\w+)/.exec(s||"")&&!String(l).includes(`
`)?_.jsx("code",{className:"bg-white/10 px-1.5 py-0.5 rounded text-[var(--accent-primary)] font-mono text-xs",...o,children:l}):_.jsx("code",{className:`${s} block`,...o,children:l})},children:t.content})}),_.jsxs("div",{className:`flex items-center gap-4 mt-2 ${e?"justify-end":""} opacity-0 group-hover:opacity-100 transition-opacity`,children:[_.jsxs("span",{className:"text-[9px] text-[var(--text-dim)] font-mono",children:["T: ",new Date(t.timestamp).toLocaleTimeString([],{hour12:!1})]}),!e&&_.jsxs("span",{className:"text-[9px] text-[var(--text-dim)] font-mono",children:["HASH: ",t.id.slice(-6)]})]})]})]})})},gU=({children:t})=>{const[e,i]=ee.useState(!1),s=o=>{if(typeof o=="string")return o;if(Array.isArray(o))return o.map(s).join("");if(u2.isValidElement(o)){const c=o;if(c.props.children)return s(c.props.children)}return""},l=()=>{const o=s(t);navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),2e3)};return _.jsxs("div",{className:"relative mt-4 mb-4 group/code border border-white/10 rounded-lg overflow-hidden bg-[#0a0a0b]",children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/5",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(bN,{size:12,className:"text-[var(--text-dim)]"}),_.jsx("span",{className:"text-[10px] font-mono text-[var(--text-dim)] uppercase",children:"Code Snippet"})]}),_.jsx("button",{onClick:l,className:"flex items-center gap-1.5 text-[10px] font-mono text-[var(--text-dim)] hover:text-white transition-colors",children:e?_.jsxs(_.Fragment,{children:[_.jsx(Vb,{size:12,className:"text-emerald-500"}),_.jsx("span",{className:"text-emerald-500",children:"Copied"})]}):_.jsxs(_.Fragment,{children:[_.jsx(Pb,{size:12}),_.jsx("span",{children:"Copy"})]})})]}),_.jsx("div",{className:"p-4 overflow-x-auto text-xs font-mono leading-relaxed",children:t})]})},yU=({onSend:t,disabled:e})=>{const[i,s]=ee.useState(""),[l,o]=ee.useState(()=>{const g=localStorage.getItem("chat_input_mode");return g==="plain"||g==="markdown"?g:"plain"}),c=ee.useRef(null);ee.useEffect(()=>{localStorage.setItem("chat_input_mode",l)},[l]),ee.useEffect(()=>{c.current&&(c.current.style.height="auto",c.current.style.height=`${Math.min(c.current.scrollHeight,200)}px`)},[i]);const f=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),p())},p=()=>{i.trim()&&!e&&(t(i),s(""),c.current&&(c.current.style.height="auto"))},d=()=>{const g=`

--- [CONTEXT BLOCK] ---
> Paste context here...
`;s(y=>y+g),setTimeout(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight,c.current.focus())},10)};return _.jsxs("div",{className:"w-full max-w-5xl mx-auto relative px-6 pb-6",children:[_.jsxs("div",{className:"relative flex flex-col bg-[#0f0f10] border border-white/10 focus-within:border-[var(--accent-primary)]/50 transition-colors",children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/5",children:[_.jsxs("div",{className:"flex items-center gap-4 text-[10px] uppercase font-mono text-[var(--text-dim)]",children:[_.jsx("button",{onClick:()=>o("plain"),className:`hover:text-white cursor-pointer transition-colors ${l==="plain"?"text-[var(--accent-primary)] font-bold":""}`,children:"Plain Text"}),_.jsx("button",{onClick:()=>o("markdown"),className:`hover:text-white cursor-pointer transition-colors ${l==="markdown"?"text-[var(--accent-primary)] font-bold":""}`,children:"Markdown"})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("button",{onClick:d,className:"text-[10px] font-mono text-[var(--text-dim)] hover:text-[var(--accent-primary)] flex items-center gap-1 transition-colors",children:[_.jsx(Qp,{size:12})," ADD CONTEXT"]})})]}),_.jsxs("div",{className:"flex gap-2 p-2",children:[_.jsx("span",{className:"text-[var(--accent-primary)] mt-3.5 pl-2 font-mono",children:">"}),_.jsx("textarea",{ref:c,value:i,onChange:g=>s(g.target.value),onKeyDown:f,disabled:e,placeholder:l==="markdown"?"Execute command (Markdown enabled)...":"Enter raw text input...",className:`flex-1 bg-transparent text-[var(--text-main)] ${l==="markdown"?"font-mono":"font-sans"} placeholder-[var(--text-dim)] py-3 px-2 max-h-[300px] outline-none resize-none scrollbar-hide text-[14px] leading-[1.6]`,rows:1})]}),_.jsxs("div",{className:"flex justify-between items-center px-4 py-2",children:[_.jsxs("div",{className:"text-[10px] text-[#444] font-mono",children:["buffer: ",i.length," chars | mode: ",l.toUpperCase()]}),_.jsx("button",{onClick:p,disabled:!i.trim()||e,className:`px-4 py-1.5 text-[10px] font-bold font-mono uppercase tracking-wider transition-all border border-transparent ${i.trim()?"bg-[var(--accent-primary)] text-black hover:bg-[var(--accent-secondary)]":"text-[var(--text-dim)]"}`,children:i.trim()?"SEND REQUEST":"READY"})]})]}),_.jsxs("div",{className:"flex justify-between mt-2 px-1",children:[_.jsx("div",{className:"text-[9px] font-mono text-[#444] uppercase",children:"Antigravity Term v2"}),_.jsx("div",{className:"text-[9px] font-mono text-[#444] uppercase",children:"Secure Connection"})]})]})},vU=()=>{const{apiKey:t,setApiKey:e,profile:i,updateMemory:s,isReflecting:l,currentMessages:o,saveMessage:c,setActiveView:f,model:p}=Xs(),[d,g]=ee.useState(!1),y=ee.useRef(null),v=()=>{y.current?.scrollIntoView({behavior:"smooth"})},b=async $=>{const z={id:`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,role:"user",content:$,timestamp:Date.now()};c(z),g(!0),setTimeout(v,50);const X=[...o,z];try{const te=new Zb(t),he={id:`ai_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,role:"assistant",content:"",timestamp:Date.now()};c(he),setTimeout(v,50);let ae="";const le=te.generateResponseStream(X,i,void 0,p);for await(const se of le)ae+=se,c({...he,content:ae});const Ce=[...X,{...he,content:ae}];ae.startsWith("")||(console.log("[MEMORY] Triggering memory update with",Ce.length,"messages"),s(Ce).then(()=>{console.log("[MEMORY] Memory update complete.")}))}catch(te){console.error(te);const fe={id:Date.now().toString(),role:"assistant",content:" **Connection Error**: Please try again.",timestamp:Date.now()};c(fe),setTimeout(v,50)}finally{g(!1)}},[C,M]=ee.useState(!1),k=ee.useRef(null),R=()=>{if(k.current){const{scrollTop:$,scrollHeight:Q,clientHeight:z}=k.current,X=Q-$-z>100;M(X)}},V=()=>{y.current?.scrollIntoView({behavior:"smooth"})};if(!t)return _.jsx(xU,{onSetKey:e});const O=o.length===0;return _.jsxs("div",{className:"flex flex-col h-full w-full relative bg-transparent",children:[_.jsxs("header",{className:"flex justify-between items-center px-6 py-3 w-full z-20 bg-[#0a0a0b] border-b border-white/10",children:[_.jsx("div",{className:"flex items-center gap-4",children:_.jsxs("div",{className:"hidden md:flex items-center gap-3 group cursor-pointer",children:[_.jsxs("span",{className:"text-xl font-bold font-mono tracking-tighter text-white",children:["ANTIGRAVITY",_.jsx("span",{className:"text-[var(--accent-primary)]",children:".AI"})]}),_.jsx("div",{className:"px-2 py-0.5 rounded-sm bg-[var(--accent-primary)]/10 border border-[var(--accent-primary)]/20 text-[10px] font-mono text-[var(--accent-primary)]",children:"v2.0"})]})}),_.jsxs("div",{className:"flex items-center gap-6",children:[i.lastUpdated&&_.jsxs("div",{className:"hidden md:flex items-center gap-2 text-[9px] font-mono transition-opacity duration-500",children:[_.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${d||l?"bg-amber-500 animate-pulse":"bg-emerald-500"}`}),_.jsx("span",{className:"text-[var(--text-dim)] uppercase",children:d?"Processing...":l?"Reflecting...":"Memory Active"})]}),_.jsxs("div",{className:"hidden md:flex items-center gap-4 text-[10px] font-mono text-[var(--text-dim)] uppercase tracking-wider",children:[_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("button",{onClick:()=>f("models"),className:"hover:text-white transition-colors cursor-pointer uppercase",children:["Model: ",p]})}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{children:"Latency: 14ms"})})]}),_.jsx("div",{className:"h-4 w-px bg-white/10 mx-2"}),_.jsx("div",{className:"flex items-center gap-3",children:_.jsx("div",{className:"w-8 h-8 rounded-sm bg-white/5 border border-white/10 flex items-center justify-center hover:bg-white/10 cursor-pointer transition-colors",children:_.jsx("span",{className:"text-xs font-bold text-white font-mono",children:i.name[0]})})})]})]}),_.jsxs("div",{className:"relative flex-1 min-h-0 overflow-hidden",children:[_.jsx("div",{ref:k,onScroll:R,className:"h-full w-full overflow-y-auto scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent px-4 pb-4",children:O?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center font-mono",children:[_.jsxs("div",{className:"mb-6 text-center",children:[_.jsx("div",{className:"inline-block p-4 border border-[var(--accent-primary)]/20 bg-[var(--accent-primary)]/5 rounded-none mb-4",children:_.jsx(Xp,{size:32,className:"text-[var(--accent-primary)]"})}),_.jsx("h1",{className:"text-2xl font-bold text-white tracking-widest uppercase mb-2",children:"ANTIGRAVITY v2.0"}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-widest",children:"System Online  Ready for Input"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-w-2xl w-full",children:["/generate_workout_plan","/explain_quantum","/python_script_gen","/dinner_ideas_rnd"].map(($,Q)=>_.jsxs("button",{onClick:()=>b($.replace("/","").replace("_"," ")),className:"text-left p-3 border border-white/10 hover:border-[var(--accent-primary)] bg-black/20 hover:bg-[var(--accent-primary)]/10 transition-all group",children:[_.jsx("span",{className:"text-xs font-mono text-[var(--accent-primary)] mr-2",children:">"}),_.jsx("span",{className:"text-xs font-mono text-[var(--text-muted)] group-hover:text-white uppercase",children:$})]},Q))})]}):_.jsxs("div",{className:"w-full max-w-4xl mx-auto pt-8",children:[o.map($=>_.jsx(mU,{message:$},$.id)),d&&_.jsx("div",{className:"pl-4 mb-8",children:_.jsx("div",{className:"w-10 h-10 bg-black/50 border border-white/10 rounded-full flex items-center justify-center mb-2 shadow-lg backdrop-blur-sm",children:_.jsxs("div",{className:"flex gap-1",children:[_.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--accent-primary)] rounded-full animate-bounce [animation-delay:-0.3s]"}),_.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--accent-secondary)] rounded-full animate-bounce [animation-delay:-0.15s]"}),_.jsx("div",{className:"w-1.5 h-1.5 bg-[var(--accent-tertiary)] rounded-full animate-bounce"})]})})}),_.jsx("div",{ref:y,className:"h-4"})]})}),_.jsx("div",{className:`absolute bottom-6 left-1/2 -translate-x-1/2 z-40 transition-all duration-300 ${C?"opacity-100 translate-y-0":"opacity-0 translate-y-2 pointer-events-none"}`,children:_.jsx("button",{onClick:V,className:"p-2 bg-[#1a1a1a]/90 backdrop-blur-md border border-white/10 text-[var(--accent-primary)] rounded-full shadow-xl hover:bg-[var(--accent-primary)] hover:text-black transition-all flex items-center justify-center transform hover:scale-105 active:scale-95 group",title:"Scroll to bottom",children:_.jsx(R2,{size:14,className:"group-hover:animate-bounce"})})})]}),_.jsx("div",{className:"flex-shrink-0 w-full bg-transparent z-30",children:_.jsx(yU,{onSend:b,disabled:d})})]})},xU=({onSetKey:t})=>{const[e,i]=ee.useState("");return _.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center px-4 bg-transparent relative z-10",children:_.jsxs("div",{className:"glass-panel p-10 rounded-[32px] max-w-md w-full relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-[var(--accent-primary)] via-[var(--accent-secondary)] to-[var(--accent-tertiary)]"}),_.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-2xl flex items-center justify-center mx-auto mb-6 ring-1 ring-white/10",children:_.jsx(Xp,{className:"text-[var(--accent-primary)] w-8 h-8"})}),_.jsx("h2",{className:"text-3xl font-bold mb-3 text-white",children:"Welcome"}),_.jsx("p",{className:"text-[var(--text-muted)] mb-8 text-sm leading-relaxed",children:"Enter your Gemini API Key to experience the next generation of AI interaction."}),_.jsx("input",{type:"password",placeholder:"sk-...",className:"w-full bg-black/30 border border-white/10 rounded-xl px-4 py-4 text-white focus:border-[var(--accent-primary)] focus:ring-1 focus:ring-[var(--accent-primary)] outline-none transition-all mb-4 placeholder-gray-600",value:e,onChange:s=>i(s.target.value)}),_.jsx("button",{onClick:()=>e&&t(e),className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-[var(--accent-primary)] hover:shadow-[0_0_20px_var(--accent-glow)] transition-all duration-300",children:"Start Chatting"})]})})},_U=()=>{const{profile:t,isReflecting:e,deleteFact:i}=Xs(),{showAlert:s}=Dm(),l=t.lastUpdated?new Date(t.lastUpdated).toLocaleString():"Never";return _.jsx("div",{className:"flex-1 overflow-y-auto bg-transparent p-8 md:p-12 font-mono",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-white/10 pb-6 mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-white tracking-widest uppercase mb-1",children:"Neural Stream"}),_.jsxs("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-wider",children:["Last Updated: ",l]})]}),_.jsxs("div",{className:`flex items-center gap-4 text-[10px] border px-3 py-1 ${e?"text-amber-500 border-amber-500/20 bg-amber-500/5 animate-pulse":"text-[var(--accent-primary)] border-[var(--accent-primary)]/20 bg-[var(--accent-primary)]/5"}`,children:[_.jsx(bU,{}),_.jsx("span",{children:e?"UPDATING...":"LIVE FEED"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[_.jsxs("div",{className:"md:col-span-1 space-y-6",children:[_.jsxs("div",{className:"bg-[#0a0a0b] border border-white/10 p-5 relative overflow-hidden",children:[_.jsx("div",{className:"text-[9px] text-[var(--text-dim)] uppercase tracking-widest mb-4",children:"Current Mood"}),_.jsx("div",{className:"text-xl font-bold text-white uppercase tracking-wider mb-2 text-[var(--accent-secondary)]",children:t.mood||"IDLE"}),_.jsx("div",{className:"h-1 w-full bg-white/10 mt-4 overflow-hidden",children:_.jsx("div",{className:"h-full w-[60%] bg-[var(--accent-secondary)]"})})]}),_.jsxs("div",{className:"bg-[#0a0a0b] border border-white/10 p-5",children:[_.jsxs("div",{className:"text-[9px] text-[var(--text-dim)] uppercase tracking-widest mb-4 flex items-center gap-2",children:[_.jsx($2,{size:12})," Database Stats"]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-end",children:[_.jsx("span",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Facts Stored"}),_.jsx("span",{className:"text-xl font-bold text-white",children:(t.facts||[]).length})]}),_.jsx("div",{className:"w-full h-px bg-white/5"}),_.jsxs("div",{className:"flex justify-between items-end",children:[_.jsx("span",{className:"text-[10px] text-[var(--text-dim)] uppercase",children:"Preferences"}),_.jsx("span",{className:"text-xl font-bold text-white",children:(t.preferences||[]).length})]})]})]})]}),_.jsxs("div",{className:"md:col-span-3",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[_.jsxs("h3",{className:"text-[10px] font-bold text-[var(--text-dim)] uppercase tracking-wider flex items-center gap-2",children:[_.jsx(Fb,{size:12})," Knowledge Graph"]}),_.jsxs("span",{className:"text-[9px] text-[var(--text-dim)]",children:["Last Sync: ",new Date().toLocaleTimeString()]})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] min-h-[400px]",children:[_.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 border-b border-white/10 bg-white/5 text-[9px] text-[var(--text-dim)] uppercase tracking-wider",children:[_.jsx("div",{className:"col-span-1",children:"ID"}),_.jsx("div",{className:"col-span-2",children:"Type"}),_.jsx("div",{className:"col-span-9",children:"Content Payload"})]}),_.jsx("div",{className:"divide-y divide-white/5",children:(t.facts||[]).length===0?_.jsx("div",{className:"p-8 text-center text-[10px] text-[var(--text-dim)]",children:"[NO DATA] Neural Network is empty. Initiate conversation to build graph."}):(t.facts||[]).map((o,c)=>_.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-3 text-[11px] hover:bg-white/5 transition-colors group",children:[_.jsx("div",{className:"col-span-1 text-[var(--text-dim)] font-mono",children:String(c).padStart(3,"0")}),_.jsx("div",{className:"col-span-2 text-[var(--accent-primary)]",children:"FACT_NODE"}),_.jsx("div",{className:"col-span-8 text-gray-300 font-mono truncate group-hover:whitespace-normal",children:o}),_.jsx("div",{className:"col-span-1 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx("button",{onClick:()=>s({title:"Delete Neural Node",message:"Are you sure you want to permanently delete this fact from memory? This may affect future context.",type:"danger",confirmLabel:"Delete Node",onConfirm:()=>i(c)}),className:"p-1 text-[var(--text-dim)] hover:text-red-500 hover:bg-red-500/10 rounded transition-colors",title:"Delete Fact",children:_.jsx($u,{size:12})})})]},c))})]}),_.jsx("div",{className:"mt-8",children:_.jsxs("details",{className:"group border border-white/10 bg-[#050505]",children:[_.jsxs("summary",{className:"cursor-pointer px-4 py-2 text-[10px] text-[var(--text-dim)] hover:text-white uppercase tracking-wider flex items-center justify-between",children:[_.jsx("span",{children:"Expand Raw JSON Blob"}),_.jsx("span",{className:"text-[var(--accent-primary)] group-open:rotate-180 transition-transform",children:""})]}),_.jsx("pre",{className:"p-4 bg-black text-[10px] text-green-500 font-mono overflow-x-auto border-t border-white/10 max-h-60 scrollbar-thin",children:JSON.stringify(t,null,2)})]})})]})]})]})})},bU=()=>_.jsxs("div",{className:"flex gap-0.5",children:[_.jsx("div",{className:"w-0.5 h-2 bg-[var(--accent-primary)] animate-pulse"}),_.jsx("div",{className:"w-0.5 h-3 bg-[var(--accent-primary)] animate-pulse delay-75"}),_.jsx("div",{className:"w-0.5 h-1.5 bg-[var(--accent-primary)] animate-pulse delay-150"})]}),SU=()=>{const{apiKey:t,setApiKey:e,profile:i,clearMemory:s,updateManualProfile:l,cloudConfig:o,setSyncCode:c,syncStatus:f,syncMemory:p,disconnectCloud:d}=Xs(),[g,y]=ee.useState(t||""),[v,b]=ee.useState(o.syncCode||""),[C,M]=ee.useState(!1),[k,R]=ee.useState(i.writingStyle||""),[V,O]=ee.useState(i.knowledgeBase||""),[$,Q]=ee.useState(i.persona||""),[z,X]=ee.useState(i.neuralScene||""),[te,fe]=ee.useState(!1),he=()=>{e(g),console.log("[SETTINGS] API Key manually updated."),alert("SUCCESS: API access token validated and stored.")},ae=()=>{l({...i,writingStyle:k,knowledgeBase:V,persona:$,neuralScene:z,lastUpdated:Date.now()}),fe(!0),setTimeout(()=>fe(!1),2e3)},le=()=>{const se="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(i,null,2)),W=document.createElement("a");W.setAttribute("href",se),W.setAttribute("download","antigravity_core_dump.json"),document.body.appendChild(W),W.click(),W.remove()},Ce=()=>{window.confirm("WARNING: Initiate global memory wipe? This action is irreversible.")&&s()};return _.jsx("div",{className:"flex-1 overflow-y-auto bg-transparent text-[var(--text-main)] p-8 md:p-12 font-mono",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-12",children:[_.jsxs("div",{className:"border-b border-white/10 pb-6 flex justify-between items-end",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold mb-2 tracking-widest uppercase text-white",children:"System Configuration"}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-wider",children:"Parameters & Core Settings"})]}),_.jsx("div",{className:"text-[var(--accent-primary)] text-xs animate-pulse",children:" EDIT MODE"})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"p-1.5 border border-[var(--accent-primary)]/30 bg-[var(--accent-primary)]/10 text-[var(--accent-primary)]",children:_.jsx(Xp,{size:16})}),_.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-white",children:"Secure Access Token"})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6 relative",children:[_.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l border-white/20"}),_.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-white/20"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-white/20"}),_.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r border-white/20"}),_.jsxs("div",{className:"flex gap-0 mb-3",children:[_.jsx("div",{className:"flex-1 group relative",children:_.jsx("input",{type:C?"text":"password",value:g,onChange:se=>y(se.target.value),className:"w-full bg-black/40 border border-white/10 px-4 py-3 text-xs text-white focus:border-[var(--accent-primary)] outline-none transition-all placeholder-[var(--text-dim)]",placeholder:"ENTER_KEY_HERE"})}),_.jsx("button",{onClick:he,className:"px-6 py-3 bg-[var(--accent-primary)] text-black font-bold text-xs uppercase hover:bg-[var(--accent-secondary)] transition-all border border-[var(--accent-primary)]",children:"UPDATE"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("input",{type:"checkbox",id:"showKey",checked:C,onChange:se=>M(se.target.checked),className:"appearance-none w-3 h-3 border border-white/30 checked:bg-[var(--accent-primary)] checked:border-[var(--accent-primary)] cursor-pointer"}),_.jsx("label",{htmlFor:"showKey",className:"text-[10px] text-[var(--text-dim)] cursor-pointer select-none uppercase tracking-wider",children:"Reveal Token"})]})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"p-1.5 border border-emerald-500/30 bg-emerald-500/10 text-emerald-500",children:_.jsx(Qu,{size:16})}),_.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-white",children:"Neural Cloud (Sync)"})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6 relative",children:[_.jsx("div",{className:"flex gap-4 items-start mb-4",children:_.jsxs("div",{className:"flex-1",children:[_.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider mb-2 block",children:"Sync Code (Share across devices)"}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("input",{type:"text",placeholder:"Enter or generate a sync code...",value:v,onChange:se=>b(se.target.value.toLowerCase().replace(/[^a-z0-9]/g,"")),className:"flex-1 bg-black/40 border border-white/10 px-4 py-2 text-xs text-white focus:border-emerald-500 outline-none placeholder-[var(--text-dim)] font-mono tracking-widest",maxLength:16}),_.jsx("button",{onClick:()=>b(ME.generateSyncCode()),className:"px-3 py-2 bg-white/5 border border-white/10 text-[var(--text-dim)] hover:text-white hover:bg-white/10 transition-all",title:"Generate Random Code",children:_.jsx(uN,{size:14})}),_.jsx("button",{onClick:()=>c(v),disabled:f==="syncing"||v.length<4,className:"px-4 py-2 bg-emerald-500/10 border border-emerald-500/30 text-emerald-500 hover:bg-emerald-500 hover:text-black transition-all text-xs font-bold uppercase disabled:opacity-50 whitespace-nowrap",children:f==="syncing"?"...":o.syncCode?"Update":"Connect"})]}),_.jsx("p",{className:"text-[9px] text-[var(--text-dim)] mt-2",children:"Use the same code on all devices to sync your memory and chat history."})]})}),_.jsxs("div",{className:"flex items-center justify-between border-t border-white/5 pt-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:`w-2 h-2 rounded-full ${f==="connected"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.5)]":f==="syncing"?"bg-amber-500 animate-pulse":f==="error"?"bg-red-500":"bg-gray-700"}`}),_.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider ${f==="connected"?"text-emerald-500":f==="error"?"text-red-500":"text-[var(--text-dim)]"}`,children:f==="connected"?"Live Sync Active":f==="syncing"?"Connecting...":f==="error"?"Connection Failed":"Offline"})]}),o.lastSync>0&&_.jsxs("div",{className:"text-[10px] text-[var(--text-dim)] font-mono",children:["LAST: ",new Date(o.lastSync).toLocaleTimeString()]}),_.jsx("div",{className:"flex gap-2",children:f==="connected"&&_.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:p,className:"text-[10px] text-[var(--text-dim)] hover:text-white underline decoration-white/30 hover:decoration-white transition-all cursor-pointer uppercase",children:"Force Sync"}),_.jsxs("button",{onClick:()=>navigator.clipboard.writeText(o.syncCode),className:"text-[10px] text-[var(--text-dim)] hover:text-emerald-500 transition-all cursor-pointer uppercase flex items-center gap-1",children:[_.jsx(Pb,{size:10})," Copy Code"]}),_.jsxs("button",{onClick:d,className:"text-[10px] text-red-500/70 hover:text-red-500 transition-all cursor-pointer uppercase flex items-center gap-1",children:[_.jsx(eN,{size:10})," Disconnect"]})]})})]}),f==="connected"&&_.jsxs("div",{className:"mt-4 p-3 bg-emerald-500/5 border border-emerald-500/10 rounded text-[10px] text-emerald-400/80 font-mono flex items-center justify-between",children:[_.jsxs("span",{children:["SYNC CODE: ",_.jsx("span",{className:"text-emerald-400 font-bold tracking-widest",children:o.syncCode.toUpperCase()})]}),_.jsx("span",{className:"text-[9px] text-[var(--text-dim)]",children:"Real-time sync enabled"})]})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"p-1.5 border border-blue-500/30 bg-blue-500/10 text-blue-500",children:_.jsx(NN,{size:16})}),_.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-white",children:"User Identity & Style"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6",children:[_.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider mb-2 block",children:"Writing Style / Voice"}),_.jsx("input",{value:k,onChange:se=>R(se.target.value),className:"w-full bg-black/40 border border-white/10 px-4 py-2 text-xs text-white focus:border-blue-500 outline-none mb-2",placeholder:"e.g. Concise, Technical, Witty..."}),_.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:"Defines how the system interprets your inputs."})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6",children:[_.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider mb-2 block",children:"Knowledge Domain"}),_.jsx("input",{value:V,onChange:se=>O(se.target.value),className:"w-full bg-black/40 border border-white/10 px-4 py-2 text-xs text-white focus:border-blue-500 outline-none mb-2",placeholder:"e.g. Full Stack Dev, Quantum Physics..."}),_.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:"System assumes this background context."})]})]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"p-1.5 border border-purple-500/30 bg-purple-500/10 text-purple-500",children:_.jsx(I2,{size:16})}),_.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-white",children:"Neural Persona & Scenes"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(X2,{size:12,className:"text-purple-500"}),_.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider block",children:"Chatbot Persona"})]}),_.jsxs("select",{onChange:se=>Q(se.target.value),className:"bg-black/40 border border-white/10 px-2 py-1 text-[10px] text-[var(--text-dim)] focus:border-purple-500 outline-none appearance-none cursor-pointer hover:text-white",defaultValue:"",children:[_.jsx("option",{value:"",disabled:!0,children:"Load Preset..."}),_.jsx("option",{value:"Antigravity (Default)",children:"Antigravity"}),_.jsx("option",{value:"Technical Mentor",children:"Technical Mentor"}),_.jsx("option",{value:"Creative Strategist",children:"Creative Strategist"}),_.jsx("option",{value:"Brutal Roaster",children:"Brutal Roaster"}),_.jsx("option",{value:"Chill Guy Companion",children:"Chill Guy Companion"})]})]}),_.jsx("textarea",{value:$,onChange:se=>Q(se.target.value),className:"w-full bg-black/40 border border-white/10 px-4 py-3 text-xs text-white focus:border-purple-500 outline-none mb-2 resize-none h-24 placeholder-[var(--text-dim)]",placeholder:"Define exact behavioral instructions here..."}),_.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:"Deep customization enabled. Direct neural overrides."})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.jsx(Qu,{size:12,className:"text-purple-500"}),_.jsx("label",{className:"text-[10px] text-[var(--text-dim)] uppercase tracking-wider block",children:"Neural Scene"})]}),_.jsxs("select",{value:z,onChange:se=>X(se.target.value),className:"w-full bg-black/40 border border-white/10 px-4 py-2 text-xs text-white focus:border-purple-500 outline-none mb-2 appearance-none",children:[_.jsx("option",{value:"Standard Void",children:"Standard Void"}),_.jsx("option",{value:"Cyberpunk Lab",children:"Cyberpunk Lab"}),_.jsx("option",{value:"Zen Garden",children:"Zen Garden"}),_.jsx("option",{value:"War Room",children:"War Room"}),_.jsx("option",{value:"Deep Space",children:"Deep Space"})]}),_.jsx("p",{className:"text-[9px] text-[var(--text-dim)]",children:"Environmental context context for responses."})]})]}),_.jsxs("button",{onClick:ae,className:`mt-6 w-full py-3 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider transition-all border ${te?"bg-emerald-500 border-emerald-500 text-black":"bg-white/5 border-white/10 text-white hover:bg-white/10"}`,children:[_.jsx(dN,{size:14}),te?"Configuration Saved":"Save Neural Configuration"]})]}),_.jsxs("section",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx("div",{className:"p-1.5 border border-white/10 bg-white/5 text-white",children:_.jsx(Hb,{size:16})}),_.jsx("h2",{className:"text-sm font-bold uppercase tracking-wider text-white",children:"Data Management"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6 flex flex-col justify-between",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-xs font-bold text-white uppercase mb-2",children:"Core Dump"}),_.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-6",children:"Export neural state to localized JSON."})]}),_.jsxs("button",{onClick:le,className:"w-full py-2 border border-white/20 hover:border-white hover:bg-white/5 text-[10px] text-white uppercase tracking-wider transition-all flex items-center justify-center gap-2",children:[_.jsx(H2,{size:12})," Init Export"]})]}),_.jsxs("div",{className:"border border-red-900/30 bg-red-900/5 p-6 flex flex-col justify-between",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"text-xs font-bold text-red-500 uppercase mb-2 flex items-center gap-2",children:[_.jsx(yN,{size:14})," Global Wipe"]}),_.jsx("p",{className:"text-[10px] text-red-400/70 mb-6",children:"Irreversible deletion of all stored nodes."})]}),_.jsxs("button",{onClick:Ce,className:"w-full py-2 border border-red-500/30 hover:bg-red-500/10 text-[10px] text-red-500 uppercase tracking-wider transition-all flex items-center justify-center gap-2",children:[_.jsx($u,{size:12})," Execute Purge"]})]})]})]}),_.jsxs("div",{className:"mt-12 pt-6 border-t border-white/5 flex justify-between text-[9px] text-[var(--text-dim)] uppercase tracking-widest",children:[_.jsx("span",{children:"Antigravity Sys V2.0"}),_.jsx("span",{children:"Status: Optimal"})]})]})})},EU=()=>{const{sessions:t,openChat:e,deleteSession:i,startNewChat:s,clearAllSessions:l,unarchiveSession:o}=Xs(),{showAlert:c}=Dm(),f=[...t].filter(d=>d.isArchived).sort((d,g)=>g.timestamp-d.timestamp),p=d=>{e(d)};return _.jsx("div",{className:"flex-1 overflow-y-auto bg-transparent p-8 md:p-12 font-mono",children:_.jsxs("div",{className:"max-w-5xl mx-auto",children:[_.jsxs("div",{className:"flex justify-between items-end border-b border-white/10 pb-6 mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-white tracking-widest uppercase mb-1",children:"Session Archives"}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-wider",children:"Log Repository"})]}),_.jsxs("div",{className:"flex gap-3",children:[f.length>0&&_.jsxs("button",{onClick:()=>{c({title:"Purge Archives?",message:"WARNING: This will permanently delete ALL archived sessions. This cannot be undone.",confirmLabel:"Purge All",type:"danger",onConfirm:()=>l()})},className:"flex items-center gap-2 px-4 py-2 border border-red-500/30 bg-red-500/10 text-red-500 text-xs font-bold uppercase tracking-wider hover:bg-red-500 hover:text-white transition-all",children:[_.jsx($u,{size:14})," Clear All"]}),_.jsxs("button",{onClick:()=>s(),className:"flex items-center gap-2 px-4 py-2 border border-[var(--accent-primary)] bg-[var(--accent-primary)]/10 text-[var(--accent-primary)] text-xs font-bold uppercase tracking-wider hover:bg-[var(--accent-primary)] hover:text-black transition-all",children:[_.jsx(Qp,{size:14})," New Instance"]})]})]}),_.jsxs("div",{className:"grid grid-cols-12 gap-4 px-4 py-2 bg-white/5 border border-white/10 text-[9px] text-[var(--text-dim)] uppercase tracking-wider mb-2",children:[_.jsx("div",{className:"col-span-1",children:"STATUS"}),_.jsx("div",{className:"col-span-7",children:"SESSION ID / CONTENT"}),_.jsx("div",{className:"col-span-2",children:"TIMESTAMP"}),_.jsx("div",{className:"col-span-2 text-right",children:"ACTION"})]}),_.jsx("div",{className:"space-y-1",children:f.length===0?_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-24 flex flex-col items-center justify-center text-center",children:[_.jsx(aN,{size:40,className:"text-[var(--text-dim)] mb-4 opacity-50"}),_.jsx("h2",{className:"text-sm font-bold text-white uppercase tracking-wider mb-2",children:"Null Pointer Exception"}),_.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mb-6",children:"No archived session logs found in database."}),_.jsx("button",{onClick:s,className:"px-6 py-2 border border-[var(--accent-primary)] text-[var(--accent-primary)] text-xs uppercase tracking-wider hover:bg-[var(--accent-primary)] hover:text-black transition-all",children:"Initialize New Session"})]}):f.map(d=>_.jsxs("div",{onClick:()=>p(d.id),className:"grid grid-cols-12 gap-4 px-4 py-4 border border-white/5 bg-[#0a0a0b] hover:border-[var(--accent-primary)]/50 hover:bg-white/5 cursor-pointer transition-all group items-center",children:[_.jsx("div",{className:"col-span-1",children:_.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-sm"})}),_.jsxs("div",{className:"col-span-7",children:[_.jsx("h3",{className:"text-sm font-bold text-white group-hover:text-[var(--accent-primary)] transition-colors truncate mb-1",children:d.title||`SESSION_LOG_${d.id.slice(0,8)}`}),_.jsx("p",{className:"text-[10px] text-[var(--text-dim)] line-clamp-1",children:d.messages.find(g=>g.role==="assistant")?.content||"No preview available."})]}),_.jsxs("div",{className:"col-span-2 text-[10px] text-[var(--text-dim)] font-mono",children:[new Date(d.timestamp).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"}),_.jsx("span",{className:"ml-2 opacity-50",children:new Date(d.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),_.jsxs("div",{className:"col-span-2 flex justify-end gap-2",children:[_.jsx("button",{className:"text-[var(--text-dim)] hover:text-white transition-colors",children:_.jsx(D2,{size:14})}),_.jsx("button",{onClick:g=>{g.stopPropagation(),o(d.id)},className:"text-[var(--text-dim)] hover:text-[var(--accent-primary)] transition-colors",title:"Restore to Active",children:_.jsx(T2,{size:14})}),_.jsx("button",{onClick:g=>{g.stopPropagation(),c({title:"Delete Log?",message:"This session log will be permanently deleted.",confirmLabel:"Delete",type:"danger",onConfirm:()=>i(d.id)})},className:"text-[var(--text-dim)] hover:text-red-500 transition-colors",children:_.jsx($u,{size:14})})]})]},d.id))})]})})},CU=()=>{const{model:t,setModel:e}=Xs(),i=[{id:"gemini-3-pro-preview",name:"Gemini 3 Pro (Preview)",desc:"Reasoning model. Note: May require billing/allowlist (High 429 Error Rate).",tags:["Restricted","Reasoning","Coding"],icon:Qu},{id:"gemini-3-flash-preview",name:"Gemini 3 Flash (Preview)",desc:"Fastest frontier-class model. Extreme efficiency with near-Pro performance.",tags:["Ultra-Low Latency","Real-time","Frontier"],icon:fN},{id:"gemini-2.5-pro",name:"Gemini 2.5 Pro",desc:"Stable enterprise reasoning. The reliable workhorse for complex tasks.",tags:["Stable","Production","Reasoning"],icon:Ub},{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",desc:"Balanced performance for high-throughput tasks.",tags:["Balanced","Production-Ready"],icon:kN},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",desc:"Legacy stable model. Retained for backward compatibility.",tags:["Legacy","Lightweight"],icon:Hb,locked:!0}];return _.jsx("div",{className:"flex-1 overflow-y-auto bg-transparent text-[var(--text-main)] p-8 md:p-12 font-mono",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"border-b border-white/10 pb-6",children:[_.jsx("h1",{className:"text-2xl font-bold mb-2 tracking-widest uppercase text-white",children:"Model Selection"}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-wider",children:"Configure Inference Engine"})]}),_.jsx("div",{className:"grid gap-4",children:i.map(s=>_.jsx("div",{onClick:()=>!s.locked&&e(s.id),className:`relative p-6 border transition-all cursor-pointer group ${t===s.id?"bg-[var(--accent-primary)]/10 border-[var(--accent-primary)]":"bg-[#050505] border-white/10 hover:border-white/30"} ${s.locked?"opacity-50 cursor-not-allowed":""}`,children:_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:`p-3 rounded-lg ${t===s.id?"bg-[var(--accent-primary)] text-black":"bg-white/5 text-white"}`,children:_.jsx(s.icon,{size:24})}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[_.jsx("h3",{className:"text-lg font-bold text-white",children:s.name}),s.locked&&_.jsx(Gb,{size:12,className:"text-yellow-500"}),s.id==="gemini-3-pro-preview"&&_.jsx("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white text-[9px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wider",children:"New"})]}),_.jsx("p",{className:"text-sm text-[var(--text-dim)] mb-3",children:s.desc}),_.jsx("div",{className:"flex gap-2",children:s.tags.map(l=>_.jsx("span",{className:"px-2 py-0.5 text-[10px] uppercase border border-white/10 rounded-full text-[var(--text-muted)]",children:l},l))})]})]}),t===s.id&&_.jsx("div",{className:"text-[var(--accent-primary)]",children:_.jsx(Vb,{size:24})})]})},s.id))}),_.jsxs("div",{className:"p-4 bg-[var(--accent-primary)]/5 border border-[var(--accent-primary)]/20 rounded-lg flex items-center gap-3",children:[_.jsx(Qu,{size:16,className:"text-[var(--accent-primary)]"}),_.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["System automatically optimizes context routing. ",_.jsx("span",{className:"text-white font-bold",children:"Gemini 3.0 Pro"})," is currently active for all complex queries."]})]})]})})},TU=()=>_.jsx("div",{className:"flex-1 overflow-y-auto bg-transparent text-[var(--text-main)] p-8 md:p-12 font-mono",children:_.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[_.jsxs("div",{className:"border-b border-white/10 pb-6",children:[_.jsx("h1",{className:"text-2xl font-bold mb-2 tracking-widest uppercase text-white",children:"Security & Privacy"}),_.jsx("p",{className:"text-[var(--text-dim)] text-xs uppercase tracking-wider",children:"System Integrity Protocols"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"p-6 bg-[#050505] border border-white/10",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx(qb,{className:"text-emerald-500",size:20}),_.jsx("h3",{className:"text-sm font-bold text-white uppercase",children:"Encryption Status"})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center text-xs",children:[_.jsx("span",{className:"text-[var(--text-dim)]",children:"Data Transmission (TLS 1.3)"}),_.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[_.jsx(ud,{size:10})," Active"]})]}),_.jsxs("div",{className:"flex justify-between items-center text-xs",children:[_.jsx("span",{className:"text-[var(--text-dim)]",children:"Local Storage Encryption"}),_.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[_.jsx(ud,{size:10})," Active"]})]}),_.jsxs("div",{className:"flex justify-between items-center text-xs",children:[_.jsx("span",{className:"text-[var(--text-dim)]",children:"API Key Storage"}),_.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[_.jsx(ud,{size:10})," Secure"]})]})]})]}),_.jsxs("div",{className:"p-6 bg-[#050505] border border-white/10",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx(Gb,{className:"text-[var(--accent-primary)]",size:20}),_.jsx("h3",{className:"text-sm font-bold text-white uppercase",children:"Data Privacy"})]}),_.jsx("p",{className:"text-xs text-[var(--text-dim)] leading-relaxed mb-4",children:"Your data resides locally on your device. API keys are stored in your browser's local secure storage and are never transmitted to our servers, only directly to Google's Generative AI API."}),_.jsx("button",{className:"text-[10px] uppercase text-[var(--accent-primary)] border border-[var(--accent-primary)] px-3 py-1.5 hover:bg-[var(--accent-primary)] hover:text-black transition-colors",children:"View Privacy Policy"})]})]}),_.jsxs("div",{className:"border border-white/10 bg-[#050505] p-6",children:[_.jsxs("h3",{className:"text-sm font-bold text-white uppercase mb-4 flex items-center gap-2",children:[_.jsx(Y2,{size:16})," Audit Log"]}),_.jsx("div",{className:"space-y-2",children:[{event:"System Initialization",time:"Just now",status:"OK"},{event:"Secure Connection Established",time:"1 min ago",status:"OK"},{event:"Memory Core Integrity Check",time:"2 mins ago",status:"Verified"}].map((t,e)=>_.jsxs("div",{className:"flex justify-between text-[10px] border-b border-white/5 py-2 last:border-0",children:[_.jsx("span",{className:"text-white font-mono",children:t.event}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("span",{className:"text-[var(--text-dim)]",children:t.time}),_.jsx("span",{className:"text-emerald-500",children:t.status})]})]},e))})]})]})});class wU extends ee.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,i){console.error("Uncaught error:",e,i),(e.message.includes("length")||e.message.includes("undefined"))&&(console.warn("CRITICAL DATA CORRUPTION DETECTED. AUTO-HEALING IN PROGRESS..."),localStorage.removeItem("antigravity_memory_v1"),localStorage.removeItem("antigravity_history_v1"),localStorage.removeItem("antigravity_firebase_config"),sessionStorage.clear(),setTimeout(()=>{window.location.reload()},100))}render(){return this.state.hasError?_.jsxs("div",{style:{height:"100vh",width:"100vw",backgroundColor:"#000",color:"#0f0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"monospace"},children:[_.jsx("h1",{style:{fontSize:"24px",letterSpacing:"4px"},children:"SYSTEM FAILURE DETECTED"}),_.jsx("p",{style:{color:"#888",marginTop:"10px"},children:"INITIATING AUTO-RECOVERY SEQUENCE..."}),_.jsx("div",{style:{marginTop:"20px",width:"200px",height:"2px",background:"#333"},children:_.jsx("div",{style:{width:"100%",height:"100%",background:"#0f0",animation:"loading 1s infinite"}})})]}):this.props.children}}const AU=()=>{const{activeView:t}=Xs();return _.jsxs(y3,{children:[t==="chat"&&_.jsx(vU,{}),t==="memory"&&_.jsx(_U,{}),t==="settings"&&_.jsx(SU,{}),t==="history"&&_.jsx(EU,{}),t==="models"&&_.jsx(CU,{}),t==="security"&&_.jsx(TU,{})]})};function NU(){return _.jsx(wU,{children:_.jsx(m3,{children:_.jsx(g3,{children:_.jsx(AU,{})})})})}g2.createRoot(document.getElementById("root")).render(_.jsx(ee.StrictMode,{children:_.jsx(NU,{})}));
